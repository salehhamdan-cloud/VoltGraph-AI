(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const c of r)if(c.type==="childList")for(const p of c.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&a(p)}).observe(document,{childList:!0,subtree:!0});function l(r){const c={};return r.integrity&&(c.integrity=r.integrity),r.referrerPolicy&&(c.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?c.credentials="include":r.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(r){if(r.ep)return;r.ep=!0;const c=l(r);fetch(r.href,c)}})();function l0(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ac={exports:{}},ua={};var nh;function g_(){if(nh)return ua;nh=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function l(a,r,c){var p=null;if(c!==void 0&&(p=""+c),r.key!==void 0&&(p=""+r.key),"key"in r){c={};for(var g in r)g!=="key"&&(c[g]=r[g])}else c=r;return r=c.ref,{$$typeof:n,type:a,key:p,ref:r!==void 0?r:null,props:c}}return ua.Fragment=t,ua.jsx=l,ua.jsxs=l,ua}var ih;function y_(){return ih||(ih=1,Ac.exports=g_()),Ac.exports}var x=y_(),Nc={exports:{}},ke={};var lh;function v_(){if(lh)return ke;lh=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),p=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),S=Symbol.iterator;function C(N){return N===null||typeof N!="object"?null:(N=S&&N[S]||N["@@iterator"],typeof N=="function"?N:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,te={};function z(N,V,ae){this.props=N,this.context=V,this.refs=te,this.updater=ae||w}z.prototype.isReactComponent={},z.prototype.setState=function(N,V){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,V,"setState")},z.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function ee(){}ee.prototype=z.prototype;function $(N,V,ae){this.props=N,this.context=V,this.refs=te,this.updater=ae||w}var B=$.prototype=new ee;B.constructor=$,L(B,z.prototype),B.isPureReactComponent=!0;var J=Array.isArray;function oe(){}var ne={H:null,A:null,T:null,S:null},xe=Object.prototype.hasOwnProperty;function re(N,V,ae){var j=ae.ref;return{$$typeof:n,type:N,key:V,ref:j!==void 0?j:null,props:ae}}function Te(N,V){return re(N.type,V,N.props)}function fe(N){return typeof N=="object"&&N!==null&&N.$$typeof===n}function Ee(N){var V={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(ae){return V[ae]})}var Fe=/\/+/g;function k(N,V){return typeof N=="object"&&N!==null&&N.key!=null?Ee(""+N.key):V.toString(36)}function ue(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(oe,oe):(N.status="pending",N.then(function(V){N.status==="pending"&&(N.status="fulfilled",N.value=V)},function(V){N.status==="pending"&&(N.status="rejected",N.reason=V)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function M(N,V,ae,j,ye){var Me=typeof N;(Me==="undefined"||Me==="boolean")&&(N=null);var be=!1;if(N===null)be=!0;else switch(Me){case"bigint":case"string":case"number":be=!0;break;case"object":switch(N.$$typeof){case n:case t:be=!0;break;case v:return be=N._init,M(be(N._payload),V,ae,j,ye)}}if(be)return ye=ye(N),be=j===""?"."+k(N,0):j,J(ye)?(ae="",be!=null&&(ae=be.replace(Fe,"$&/")+"/"),M(ye,V,ae,"",function(wt){return wt})):ye!=null&&(fe(ye)&&(ye=Te(ye,ae+(ye.key==null||N&&N.key===ye.key?"":(""+ye.key).replace(Fe,"$&/")+"/")+be)),V.push(ye)),1;be=0;var W=j===""?".":j+":";if(J(N))for(var Ge=0;Ge<N.length;Ge++)j=N[Ge],Me=W+k(j,Ge),be+=M(j,V,ae,Me,ye);else if(Ge=C(N),typeof Ge=="function")for(N=Ge.call(N),Ge=0;!(j=N.next()).done;)j=j.value,Me=W+k(j,Ge++),be+=M(j,V,ae,Me,ye);else if(Me==="object"){if(typeof N.then=="function")return M(ue(N),V,ae,j,ye);throw V=String(N),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return be}function O(N,V,ae){if(N==null)return N;var j=[],ye=0;return M(N,j,"","",function(Me){return V.call(ae,Me,ye++)}),j}function ie(N){if(N._status===-1){var V=N._result;V=V(),V.then(function(ae){(N._status===0||N._status===-1)&&(N._status=1,N._result=ae)},function(ae){(N._status===0||N._status===-1)&&(N._status=2,N._result=ae)}),N._status===-1&&(N._status=0,N._result=V)}if(N._status===1)return N._result.default;throw N._result}var pe=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},de={map:O,forEach:function(N,V,ae){O(N,function(){V.apply(this,arguments)},ae)},count:function(N){var V=0;return O(N,function(){V++}),V},toArray:function(N){return O(N,function(V){return V})||[]},only:function(N){if(!fe(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return ke.Activity=T,ke.Children=de,ke.Component=z,ke.Fragment=l,ke.Profiler=r,ke.PureComponent=$,ke.StrictMode=a,ke.Suspense=y,ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ne,ke.__COMPILER_RUNTIME={__proto__:null,c:function(N){return ne.H.useMemoCache(N)}},ke.cache=function(N){return function(){return N.apply(null,arguments)}},ke.cacheSignal=function(){return null},ke.cloneElement=function(N,V,ae){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var j=L({},N.props),ye=N.key;if(V!=null)for(Me in V.key!==void 0&&(ye=""+V.key),V)!xe.call(V,Me)||Me==="key"||Me==="__self"||Me==="__source"||Me==="ref"&&V.ref===void 0||(j[Me]=V[Me]);var Me=arguments.length-2;if(Me===1)j.children=ae;else if(1<Me){for(var be=Array(Me),W=0;W<Me;W++)be[W]=arguments[W+2];j.children=be}return re(N.type,ye,j)},ke.createContext=function(N){return N={$$typeof:p,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:c,_context:N},N},ke.createElement=function(N,V,ae){var j,ye={},Me=null;if(V!=null)for(j in V.key!==void 0&&(Me=""+V.key),V)xe.call(V,j)&&j!=="key"&&j!=="__self"&&j!=="__source"&&(ye[j]=V[j]);var be=arguments.length-2;if(be===1)ye.children=ae;else if(1<be){for(var W=Array(be),Ge=0;Ge<be;Ge++)W[Ge]=arguments[Ge+2];ye.children=W}if(N&&N.defaultProps)for(j in be=N.defaultProps,be)ye[j]===void 0&&(ye[j]=be[j]);return re(N,Me,ye)},ke.createRef=function(){return{current:null}},ke.forwardRef=function(N){return{$$typeof:g,render:N}},ke.isValidElement=fe,ke.lazy=function(N){return{$$typeof:v,_payload:{_status:-1,_result:N},_init:ie}},ke.memo=function(N,V){return{$$typeof:m,type:N,compare:V===void 0?null:V}},ke.startTransition=function(N){var V=ne.T,ae={};ne.T=ae;try{var j=N(),ye=ne.S;ye!==null&&ye(ae,j),typeof j=="object"&&j!==null&&typeof j.then=="function"&&j.then(oe,pe)}catch(Me){pe(Me)}finally{V!==null&&ae.types!==null&&(V.types=ae.types),ne.T=V}},ke.unstable_useCacheRefresh=function(){return ne.H.useCacheRefresh()},ke.use=function(N){return ne.H.use(N)},ke.useActionState=function(N,V,ae){return ne.H.useActionState(N,V,ae)},ke.useCallback=function(N,V){return ne.H.useCallback(N,V)},ke.useContext=function(N){return ne.H.useContext(N)},ke.useDebugValue=function(){},ke.useDeferredValue=function(N,V){return ne.H.useDeferredValue(N,V)},ke.useEffect=function(N,V){return ne.H.useEffect(N,V)},ke.useEffectEvent=function(N){return ne.H.useEffectEvent(N)},ke.useId=function(){return ne.H.useId()},ke.useImperativeHandle=function(N,V,ae){return ne.H.useImperativeHandle(N,V,ae)},ke.useInsertionEffect=function(N,V){return ne.H.useInsertionEffect(N,V)},ke.useLayoutEffect=function(N,V){return ne.H.useLayoutEffect(N,V)},ke.useMemo=function(N,V){return ne.H.useMemo(N,V)},ke.useOptimistic=function(N,V){return ne.H.useOptimistic(N,V)},ke.useReducer=function(N,V,ae){return ne.H.useReducer(N,V,ae)},ke.useRef=function(N){return ne.H.useRef(N)},ke.useState=function(N){return ne.H.useState(N)},ke.useSyncExternalStore=function(N,V,ae){return ne.H.useSyncExternalStore(N,V,ae)},ke.useTransition=function(){return ne.H.useTransition()},ke.version="19.2.0",ke}var oh;function tf(){return oh||(oh=1,Nc.exports=v_()),Nc.exports}var Ae=tf();const __=l0(Ae);var Mc={exports:{}},ca={},bc={exports:{}},Rc={};var ah;function T_(){return ah||(ah=1,(function(n){function t(M,O){var ie=M.length;M.push(O);e:for(;0<ie;){var pe=ie-1>>>1,de=M[pe];if(0<r(de,O))M[pe]=O,M[ie]=de,ie=pe;else break e}}function l(M){return M.length===0?null:M[0]}function a(M){if(M.length===0)return null;var O=M[0],ie=M.pop();if(ie!==O){M[0]=ie;e:for(var pe=0,de=M.length,N=de>>>1;pe<N;){var V=2*(pe+1)-1,ae=M[V],j=V+1,ye=M[j];if(0>r(ae,ie))j<de&&0>r(ye,ae)?(M[pe]=ye,M[j]=ie,pe=j):(M[pe]=ae,M[V]=ie,pe=V);else if(j<de&&0>r(ye,ie))M[pe]=ye,M[j]=ie,pe=j;else break e}}return O}function r(M,O){var ie=M.sortIndex-O.sortIndex;return ie!==0?ie:M.id-O.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;n.unstable_now=function(){return c.now()}}else{var p=Date,g=p.now();n.unstable_now=function(){return p.now()-g}}var y=[],m=[],v=1,T=null,S=3,C=!1,w=!1,L=!1,te=!1,z=typeof setTimeout=="function"?setTimeout:null,ee=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function B(M){for(var O=l(m);O!==null;){if(O.callback===null)a(m);else if(O.startTime<=M)a(m),O.sortIndex=O.expirationTime,t(y,O);else break;O=l(m)}}function J(M){if(L=!1,B(M),!w)if(l(y)!==null)w=!0,oe||(oe=!0,Ee());else{var O=l(m);O!==null&&ue(J,O.startTime-M)}}var oe=!1,ne=-1,xe=5,re=-1;function Te(){return te?!0:!(n.unstable_now()-re<xe)}function fe(){if(te=!1,oe){var M=n.unstable_now();re=M;var O=!0;try{e:{w=!1,L&&(L=!1,ee(ne),ne=-1),C=!0;var ie=S;try{t:{for(B(M),T=l(y);T!==null&&!(T.expirationTime>M&&Te());){var pe=T.callback;if(typeof pe=="function"){T.callback=null,S=T.priorityLevel;var de=pe(T.expirationTime<=M);if(M=n.unstable_now(),typeof de=="function"){T.callback=de,B(M),O=!0;break t}T===l(y)&&a(y),B(M)}else a(y);T=l(y)}if(T!==null)O=!0;else{var N=l(m);N!==null&&ue(J,N.startTime-M),O=!1}}break e}finally{T=null,S=ie,C=!1}O=void 0}}finally{O?Ee():oe=!1}}}var Ee;if(typeof $=="function")Ee=function(){$(fe)};else if(typeof MessageChannel<"u"){var Fe=new MessageChannel,k=Fe.port2;Fe.port1.onmessage=fe,Ee=function(){k.postMessage(null)}}else Ee=function(){z(fe,0)};function ue(M,O){ne=z(function(){M(n.unstable_now())},O)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(M){M.callback=null},n.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):xe=0<M?Math.floor(1e3/M):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_next=function(M){switch(S){case 1:case 2:case 3:var O=3;break;default:O=S}var ie=S;S=O;try{return M()}finally{S=ie}},n.unstable_requestPaint=function(){te=!0},n.unstable_runWithPriority=function(M,O){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var ie=S;S=M;try{return O()}finally{S=ie}},n.unstable_scheduleCallback=function(M,O,ie){var pe=n.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?pe+ie:pe):ie=pe,M){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=ie+de,M={id:v++,callback:O,priorityLevel:M,startTime:ie,expirationTime:de,sortIndex:-1},ie>pe?(M.sortIndex=ie,t(m,M),l(y)===null&&M===l(m)&&(L?(ee(ne),ne=-1):L=!0,ue(J,ie-pe))):(M.sortIndex=de,t(y,M),w||C||(w=!0,oe||(oe=!0,Ee()))),M},n.unstable_shouldYield=Te,n.unstable_wrapCallback=function(M){var O=S;return function(){var ie=S;S=O;try{return M.apply(this,arguments)}finally{S=ie}}}})(Rc)),Rc}var sh;function S_(){return sh||(sh=1,bc.exports=T_()),bc.exports}var wc={exports:{}},Pt={};var rh;function x_(){if(rh)return Pt;rh=1;var n=tf();function t(y){var m="https://react.dev/errors/"+y;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var a={d:{f:l,r:function(){throw Error(t(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},r=Symbol.for("react.portal");function c(y,m,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:T==null?null:""+T,children:y,containerInfo:m,implementation:v}}var p=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,m){if(y==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Pt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Pt.createPortal=function(y,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return c(y,m,null,v)},Pt.flushSync=function(y){var m=p.T,v=a.p;try{if(p.T=null,a.p=2,y)return y()}finally{p.T=m,a.p=v,a.d.f()}},Pt.preconnect=function(y,m){typeof y=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,a.d.C(y,m))},Pt.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},Pt.preinit=function(y,m){if(typeof y=="string"&&m&&typeof m.as=="string"){var v=m.as,T=g(v,m.crossOrigin),S=typeof m.integrity=="string"?m.integrity:void 0,C=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?a.d.S(y,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:T,integrity:S,fetchPriority:C}):v==="script"&&a.d.X(y,{crossOrigin:T,integrity:S,fetchPriority:C,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Pt.preinitModule=function(y,m){if(typeof y=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=g(m.as,m.crossOrigin);a.d.M(y,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&a.d.M(y)},Pt.preload=function(y,m){if(typeof y=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,T=g(v,m.crossOrigin);a.d.L(y,v,{crossOrigin:T,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Pt.preloadModule=function(y,m){if(typeof y=="string")if(m){var v=g(m.as,m.crossOrigin);a.d.m(y,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else a.d.m(y)},Pt.requestFormReset=function(y){a.d.r(y)},Pt.unstable_batchedUpdates=function(y,m){return y(m)},Pt.useFormState=function(y,m,v){return p.H.useFormState(y,m,v)},Pt.useFormStatus=function(){return p.H.useHostTransitionStatus()},Pt.version="19.2.0",Pt}var uh;function E_(){if(uh)return wc.exports;uh=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),wc.exports=x_(),wc.exports}var ch;function C_(){if(ch)return ca;ch=1;var n=S_(),t=tf(),l=E_();function a(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var i=e,o=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(o=i.return),e=i.return;while(e)}return i.tag===3?o:null}function p(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(a(188))}function m(e){var i=e.alternate;if(!i){if(i=c(e),i===null)throw Error(a(188));return i!==e?null:e}for(var o=e,s=i;;){var d=o.return;if(d===null)break;var h=d.alternate;if(h===null){if(s=d.return,s!==null){o=s;continue}break}if(d.child===h.child){for(h=d.child;h;){if(h===o)return y(d),e;if(h===s)return y(d),i;h=h.sibling}throw Error(a(188))}if(o.return!==s.return)o=d,s=h;else{for(var _=!1,E=d.child;E;){if(E===o){_=!0,o=d,s=h;break}if(E===s){_=!0,s=d,o=h;break}E=E.sibling}if(!_){for(E=h.child;E;){if(E===o){_=!0,o=h,s=d;break}if(E===s){_=!0,s=h,o=d;break}E=E.sibling}if(!_)throw Error(a(189))}}if(o.alternate!==s)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?e:i}function v(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=v(e),i!==null)return i;e=e.sibling}return null}var T=Object.assign,S=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),te=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),ee=Symbol.for("react.consumer"),$=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),ne=Symbol.for("react.memo"),xe=Symbol.for("react.lazy"),re=Symbol.for("react.activity"),Te=Symbol.for("react.memo_cache_sentinel"),fe=Symbol.iterator;function Ee(e){return e===null||typeof e!="object"?null:(e=fe&&e[fe]||e["@@iterator"],typeof e=="function"?e:null)}var Fe=Symbol.for("react.client.reference");function k(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Fe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case L:return"Fragment";case z:return"Profiler";case te:return"StrictMode";case J:return"Suspense";case oe:return"SuspenseList";case re:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case w:return"Portal";case $:return e.displayName||"Context";case ee:return(e._context.displayName||"Context")+".Consumer";case B:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ne:return i=e.displayName||null,i!==null?i:k(e.type)||"Memo";case xe:i=e._payload,e=e._init;try{return k(e(i))}catch{}}return null}var ue=Array.isArray,M=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},pe=[],de=-1;function N(e){return{current:e}}function V(e){0>de||(e.current=pe[de],pe[de]=null,de--)}function ae(e,i){de++,pe[de]=e.current,e.current=i}var j=N(null),ye=N(null),Me=N(null),be=N(null);function W(e,i){switch(ae(Me,i),ae(ye,e),ae(j,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?Am(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=Am(i),e=Nm(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}V(j),ae(j,e)}function Ge(){V(j),V(ye),V(Me)}function wt(e){e.memoizedState!==null&&ae(be,e);var i=j.current,o=Nm(i,e.type);i!==o&&(ae(ye,e),ae(j,o))}function Nt(e){ye.current===e&&(V(j),V(ye)),be.current===e&&(V(be),oa._currentValue=ie)}var Ri,It;function Kt(e){if(Ri===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);Ri=i&&i[1]||"",It=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ri+e+It}var Hn=!1;function Pn(e,i){if(!e||Hn)return"";Hn=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(F){var q=F}Reflect.construct(e,[],Z)}else{try{Z.call()}catch(F){q=F}e.call(Z.prototype)}}else{try{throw Error()}catch(F){q=F}(Z=e())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(F){if(F&&q&&typeof F.stack=="string")return[F.stack,q.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=s.DetermineComponentFrameRoot(),_=h[0],E=h[1];if(_&&E){var b=_.split(`
`),H=E.split(`
`);for(d=s=0;s<b.length&&!b[s].includes("DetermineComponentFrameRoot");)s++;for(;d<H.length&&!H[d].includes("DetermineComponentFrameRoot");)d++;if(s===b.length||d===H.length)for(s=b.length-1,d=H.length-1;1<=s&&0<=d&&b[s]!==H[d];)d--;for(;1<=s&&0<=d;s--,d--)if(b[s]!==H[d]){if(s!==1||d!==1)do if(s--,d--,0>d||b[s]!==H[d]){var X=`
`+b[s].replace(" at new "," at ");return e.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",e.displayName)),X}while(1<=s&&0<=d);break}}}finally{Hn=!1,Error.prepareStackTrace=o}return(o=e?e.displayName||e.name:"")?Kt(o):""}function Qt(e,i){switch(e.tag){case 26:case 27:case 5:return Kt(e.type);case 16:return Kt("Lazy");case 13:return e.child!==i&&i!==null?Kt("Suspense Fallback"):Kt("Suspense");case 19:return Kt("SuspenseList");case 0:case 15:return Pn(e.type,!1);case 11:return Pn(e.type.render,!1);case 1:return Pn(e.type,!0);case 31:return Kt("Activity");default:return""}}function Ut(e){try{var i="",o=null;do i+=Qt(e,o),o=e,e=e.return;while(e);return i}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var Bt=Object.prototype.hasOwnProperty,dt=n.unstable_scheduleCallback,Ot=n.unstable_cancelCallback,Qn=n.unstable_shouldYield,$n=n.unstable_requestPaint,at=n.unstable_now,pt=n.unstable_getCurrentPriorityLevel,Zn=n.unstable_ImmediatePriority,He=n.unstable_UserBlockingPriority,Yt=n.unstable_NormalPriority,Wn=n.unstable_LowPriority,nt=n.unstable_IdlePriority,gn=n.log,wi=n.unstable_setDisableYieldValue,yn=null,Mt=null;function Ft(e){if(typeof gn=="function"&&wi(e),Mt&&typeof Mt.setStrictMode=="function")try{Mt.setStrictMode(yn,e)}catch{}}var St=Math.clz32?Math.clz32:A,jn=Math.log,Nl=Math.LN2;function A(e){return e>>>=0,e===0?32:31-(jn(e)/Nl|0)|0}var P=256,se=262144,le=4194304;function Se(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function De(e,i,o){var s=e.pendingLanes;if(s===0)return 0;var d=0,h=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var E=s&134217727;return E!==0?(s=E&~h,s!==0?d=Se(s):(_&=E,_!==0?d=Se(_):o||(o=E&~e,o!==0&&(d=Se(o))))):(E=s&~h,E!==0?d=Se(E):_!==0?d=Se(_):o||(o=s&~e,o!==0&&(d=Se(o)))),d===0?0:i!==0&&i!==d&&(i&h)===0&&(h=d&-d,o=i&-i,h>=o||h===32&&(o&4194048)!==0)?i:d}function Re(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function rt(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ht(){var e=le;return le<<=1,(le&62914560)===0&&(le=4194304),e}function gt(e){for(var i=[],o=0;31>o;o++)i.push(e);return i}function $t(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Rn(e,i,o,s,d,h){var _=e.pendingLanes;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=o,e.entangledLanes&=o,e.errorRecoveryDisabledLanes&=o,e.shellSuspendCounter=0;var E=e.entanglements,b=e.expirationTimes,H=e.hiddenUpdates;for(o=_&~o;0<o;){var X=31-St(o),Z=1<<X;E[X]=0,b[X]=-1;var q=H[X];if(q!==null)for(H[X]=null,X=0;X<q.length;X++){var F=q[X];F!==null&&(F.lane&=-536870913)}o&=~Z}s!==0&&sn(e,s,0),h!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=h&~(_&~i))}function sn(e,i,o){e.pendingLanes|=i,e.suspendedLanes&=~i;var s=31-St(i);e.entangledLanes|=i,e.entanglements[s]=e.entanglements[s]|1073741824|o&261930}function To(e,i){var o=e.entangledLanes|=i;for(e=e.entanglements;o;){var s=31-St(o),d=1<<s;d&i|e[s]&i&&(e[s]|=i),o&=~d}}function Ml(e,i){var o=i&-i;return o=(o&42)!==0?1:Zt(o),(o&(e.suspendedLanes|i))!==0?0:o}function Zt(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ei(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ti(){var e=O.p;return e!==0?e:(e=window.event,e===void 0?32:Qm(e.type))}function ba(e,i){var o=O.p;try{return O.p=e,i()}finally{O.p=o}}var qn=Math.random().toString(36).slice(2),bt="__reactFiber$"+qn,Ht="__reactProps$"+qn,Di="__reactContainer$"+qn,So="__reactEvents$"+qn,yr="__reactListeners$"+qn,vr="__reactHandles$"+qn,Ra="__reactResources$"+qn,ll="__reactMarker$"+qn;function bl(e){delete e[bt],delete e[Ht],delete e[So],delete e[yr],delete e[vr]}function wn(e){var i=e[bt];if(i)return i;for(var o=e.parentNode;o;){if(i=o[Di]||o[bt]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(e=Um(e);e!==null;){if(o=e[bt])return o;e=Um(e)}return i}e=o,o=e.parentNode}return null}function Ii(e){if(e=e[bt]||e[Di]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function ol(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(a(33))}function R(e){var i=e[Ra];return i||(i=e[Ra]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function I(e){e[ll]=!0}var Y=new Set,K={};function me(e,i){ce(e,i),ce(e+"Capture",i)}function ce(e,i){for(K[e]=i,e=0;e<i.length;e++)Y.add(i[e])}var Ne=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ue={},Ie={};function Pe(e){return Bt.call(Ie,e)?!0:Bt.call(Ue,e)?!1:Ne.test(e)?Ie[e]=!0:(Ue[e]=!0,!1)}function Je(e,i,o){if(Pe(i))if(o===null)e.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var s=i.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+o)}}function Ze(e,i,o){if(o===null)e.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+o)}}function Xe(e,i,o,s){if(s===null)e.removeAttribute(o);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(o);return}e.setAttributeNS(i,o,""+s)}}function We(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function vn(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ni(e,i,o){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var d=s.get,h=s.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return d.call(this)},set:function(_){o=""+_,h.call(this,_)}}),Object.defineProperty(e,i,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function(_){o=""+_},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function ii(e){if(!e._valueTracker){var i=vn(e)?"checked":"value";e._valueTracker=ni(e,i,""+e[i])}}function Vn(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var o=i.getValue(),s="";return e&&(s=vn(e)?e.checked?"true":"false":e.value),e=s,e!==o?(i.setValue(e),!0):!1}function wa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var cy=/[\n"\\]/g;function _n(e){return e.replace(cy,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function _r(e,i,o,s,d,h,_,E){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),i!=null?_==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+We(i)):e.value!==""+We(i)&&(e.value=""+We(i)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),i!=null?Tr(e,_,We(i)):o!=null?Tr(e,_,We(o)):s!=null&&e.removeAttribute("value"),d==null&&h!=null&&(e.defaultChecked=!!h),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+We(E):e.removeAttribute("name")}function _f(e,i,o,s,d,h,_,E){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),i!=null||o!=null){if(!(h!=="submit"&&h!=="reset"||i!=null)){ii(e);return}o=o!=null?""+We(o):"",i=i!=null?""+We(i):o,E||i===e.value||(e.value=i),e.defaultValue=i}s=s??d,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=E?e.checked:!!s,e.defaultChecked=!!s,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),ii(e)}function Tr(e,i,o){i==="number"&&wa(e.ownerDocument)===e||e.defaultValue===""+o||(e.defaultValue=""+o)}function Rl(e,i,o,s){if(e=e.options,i){i={};for(var d=0;d<o.length;d++)i["$"+o[d]]=!0;for(o=0;o<e.length;o++)d=i.hasOwnProperty("$"+e[o].value),e[o].selected!==d&&(e[o].selected=d),d&&s&&(e[o].defaultSelected=!0)}else{for(o=""+We(o),i=null,d=0;d<e.length;d++){if(e[d].value===o){e[d].selected=!0,s&&(e[d].defaultSelected=!0);return}i!==null||e[d].disabled||(i=e[d])}i!==null&&(i.selected=!0)}}function Tf(e,i,o){if(i!=null&&(i=""+We(i),i!==e.value&&(e.value=i),o==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=o!=null?""+We(o):""}function Sf(e,i,o,s){if(i==null){if(s!=null){if(o!=null)throw Error(a(92));if(ue(s)){if(1<s.length)throw Error(a(93));s=s[0]}o=s}o==null&&(o=""),i=o}o=We(i),e.defaultValue=o,s=e.textContent,s===o&&s!==""&&s!==null&&(e.value=s),ii(e)}function wl(e,i){if(i){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=i;return}}e.textContent=i}var fy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xf(e,i,o){var s=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?s?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":s?e.setProperty(i,o):typeof o!="number"||o===0||fy.has(i)?i==="float"?e.cssFloat=o:e[i]=(""+o).trim():e[i]=o+"px"}function Ef(e,i,o){if(i!=null&&typeof i!="object")throw Error(a(62));if(e=e.style,o!=null){for(var s in o)!o.hasOwnProperty(s)||i!=null&&i.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var d in i)s=i[d],i.hasOwnProperty(d)&&o[d]!==s&&xf(e,d,s)}else for(var h in i)i.hasOwnProperty(h)&&xf(e,h,i[h])}function Sr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),py=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Da(e){return py.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function li(){}var xr=null;function Er(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Dl=null,Il=null;function Cf(e){var i=Ii(e);if(i&&(e=i.stateNode)){var o=e[Ht]||null;e:switch(e=i.stateNode,i.type){case"input":if(_r(e,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+_n(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var s=o[i];if(s!==e&&s.form===e.form){var d=s[Ht]||null;if(!d)throw Error(a(90));_r(s,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(i=0;i<o.length;i++)s=o[i],s.form===e.form&&Vn(s)}break e;case"textarea":Tf(e,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&Rl(e,!!o.multiple,i,!1)}}}var Cr=!1;function Af(e,i,o){if(Cr)return e(i,o);Cr=!0;try{var s=e(i);return s}finally{if(Cr=!1,(Dl!==null||Il!==null)&&(vs(),Dl&&(i=Dl,e=Il,Il=Dl=null,Cf(i),e)))for(i=0;i<e.length;i++)Cf(e[i])}}function xo(e,i){var o=e.stateNode;if(o===null)return null;var s=o[Ht]||null;if(s===null)return null;o=s[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(a(231,i,typeof o));return o}var oi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ar=!1;if(oi)try{var Eo={};Object.defineProperty(Eo,"passive",{get:function(){Ar=!0}}),window.addEventListener("test",Eo,Eo),window.removeEventListener("test",Eo,Eo)}catch{Ar=!1}var Ui=null,Nr=null,Ia=null;function Nf(){if(Ia)return Ia;var e,i=Nr,o=i.length,s,d="value"in Ui?Ui.value:Ui.textContent,h=d.length;for(e=0;e<o&&i[e]===d[e];e++);var _=o-e;for(s=1;s<=_&&i[o-s]===d[h-s];s++);return Ia=d.slice(e,1<s?1-s:void 0)}function Ua(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function ka(){return!0}function Mf(){return!1}function Wt(e){function i(o,s,d,h,_){this._reactName=o,this._targetInst=d,this.type=s,this.nativeEvent=h,this.target=_,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(o=e[E],this[E]=o?o(h):h[E]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?ka:Mf,this.isPropagationStopped=Mf,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ka)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ka)},persist:function(){},isPersistent:ka}),i}var al={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},La=Wt(al),Co=T({},al,{view:0,detail:0}),my=Wt(Co),Mr,br,Ao,za=T({},Co,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ao&&(Ao&&e.type==="mousemove"?(Mr=e.screenX-Ao.screenX,br=e.screenY-Ao.screenY):br=Mr=0,Ao=e),Mr)},movementY:function(e){return"movementY"in e?e.movementY:br}}),bf=Wt(za),hy=T({},za,{dataTransfer:0}),gy=Wt(hy),yy=T({},Co,{relatedTarget:0}),Rr=Wt(yy),vy=T({},al,{animationName:0,elapsedTime:0,pseudoElement:0}),_y=Wt(vy),Ty=T({},al,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Sy=Wt(Ty),xy=T({},al,{data:0}),Rf=Wt(xy),Ey={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ay={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ny(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Ay[e])?!!i[e]:!1}function wr(){return Ny}var My=T({},Co,{key:function(e){if(e.key){var i=Ey[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Ua(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Cy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wr,charCode:function(e){return e.type==="keypress"?Ua(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ua(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),by=Wt(My),Ry=T({},za,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wf=Wt(Ry),wy=T({},Co,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wr}),Dy=Wt(wy),Iy=T({},al,{propertyName:0,elapsedTime:0,pseudoElement:0}),Uy=Wt(Iy),ky=T({},za,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ly=Wt(ky),zy=T({},al,{newState:0,oldState:0}),Gy=Wt(zy),Hy=[9,13,27,32],Dr=oi&&"CompositionEvent"in window,No=null;oi&&"documentMode"in document&&(No=document.documentMode);var Py=oi&&"TextEvent"in window&&!No,Df=oi&&(!Dr||No&&8<No&&11>=No),If=" ",Uf=!1;function kf(e,i){switch(e){case"keyup":return Hy.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ul=!1;function qy(e,i){switch(e){case"compositionend":return Lf(i);case"keypress":return i.which!==32?null:(Uf=!0,If);case"textInput":return e=i.data,e===If&&Uf?null:e;default:return null}}function Vy(e,i){if(Ul)return e==="compositionend"||!Dr&&kf(e,i)?(e=Nf(),Ia=Nr=Ui=null,Ul=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Df&&i.locale!=="ko"?null:i.data;default:return null}}var By={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zf(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!By[e.type]:i==="textarea"}function Gf(e,i,o,s){Dl?Il?Il.push(s):Il=[s]:Dl=s,i=As(i,"onChange"),0<i.length&&(o=new La("onChange","change",null,o,s),e.push({event:o,listeners:i}))}var Mo=null,bo=null;function Oy(e){_m(e,0)}function Ga(e){var i=ol(e);if(Vn(i))return e}function Hf(e,i){if(e==="change")return i}var Pf=!1;if(oi){var Ir;if(oi){var Ur="oninput"in document;if(!Ur){var qf=document.createElement("div");qf.setAttribute("oninput","return;"),Ur=typeof qf.oninput=="function"}Ir=Ur}else Ir=!1;Pf=Ir&&(!document.documentMode||9<document.documentMode)}function Vf(){Mo&&(Mo.detachEvent("onpropertychange",Bf),bo=Mo=null)}function Bf(e){if(e.propertyName==="value"&&Ga(bo)){var i=[];Gf(i,bo,e,Er(e)),Af(Oy,i)}}function Yy(e,i,o){e==="focusin"?(Vf(),Mo=i,bo=o,Mo.attachEvent("onpropertychange",Bf)):e==="focusout"&&Vf()}function Fy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ga(bo)}function Jy(e,i){if(e==="click")return Ga(i)}function Xy(e,i){if(e==="input"||e==="change")return Ga(i)}function Ky(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var rn=typeof Object.is=="function"?Object.is:Ky;function Ro(e,i){if(rn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var o=Object.keys(e),s=Object.keys(i);if(o.length!==s.length)return!1;for(s=0;s<o.length;s++){var d=o[s];if(!Bt.call(i,d)||!rn(e[d],i[d]))return!1}return!0}function Of(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Yf(e,i){var o=Of(e);e=0;for(var s;o;){if(o.nodeType===3){if(s=e+o.textContent.length,e<=i&&s>=i)return{node:o,offset:i-e};e=s}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Of(o)}}function Ff(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Ff(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Jf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=wa(e.document);i instanceof e.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)e=i.contentWindow;else break;i=wa(e.document)}return i}function kr(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var Qy=oi&&"documentMode"in document&&11>=document.documentMode,kl=null,Lr=null,wo=null,zr=!1;function Xf(e,i,o){var s=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;zr||kl==null||kl!==wa(s)||(s=kl,"selectionStart"in s&&kr(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),wo&&Ro(wo,s)||(wo=s,s=As(Lr,"onSelect"),0<s.length&&(i=new La("onSelect","select",null,i,o),e.push({event:i,listeners:s}),i.target=kl)))}function sl(e,i){var o={};return o[e.toLowerCase()]=i.toLowerCase(),o["Webkit"+e]="webkit"+i,o["Moz"+e]="moz"+i,o}var Ll={animationend:sl("Animation","AnimationEnd"),animationiteration:sl("Animation","AnimationIteration"),animationstart:sl("Animation","AnimationStart"),transitionrun:sl("Transition","TransitionRun"),transitionstart:sl("Transition","TransitionStart"),transitioncancel:sl("Transition","TransitionCancel"),transitionend:sl("Transition","TransitionEnd")},Gr={},Kf={};oi&&(Kf=document.createElement("div").style,"AnimationEvent"in window||(delete Ll.animationend.animation,delete Ll.animationiteration.animation,delete Ll.animationstart.animation),"TransitionEvent"in window||delete Ll.transitionend.transition);function rl(e){if(Gr[e])return Gr[e];if(!Ll[e])return e;var i=Ll[e],o;for(o in i)if(i.hasOwnProperty(o)&&o in Kf)return Gr[e]=i[o];return e}var Qf=rl("animationend"),$f=rl("animationiteration"),Zf=rl("animationstart"),$y=rl("transitionrun"),Zy=rl("transitionstart"),Wy=rl("transitioncancel"),Wf=rl("transitionend"),jf=new Map,Hr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hr.push("scrollEnd");function Dn(e,i){jf.set(e,i),me(i,[e])}var Ha=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Tn=[],zl=0,Pr=0;function Pa(){for(var e=zl,i=Pr=zl=0;i<e;){var o=Tn[i];Tn[i++]=null;var s=Tn[i];Tn[i++]=null;var d=Tn[i];Tn[i++]=null;var h=Tn[i];if(Tn[i++]=null,s!==null&&d!==null){var _=s.pending;_===null?d.next=d:(d.next=_.next,_.next=d),s.pending=d}h!==0&&ed(o,d,h)}}function qa(e,i,o,s){Tn[zl++]=e,Tn[zl++]=i,Tn[zl++]=o,Tn[zl++]=s,Pr|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function qr(e,i,o,s){return qa(e,i,o,s),Va(e)}function ul(e,i){return qa(e,null,null,i),Va(e)}function ed(e,i,o){e.lanes|=o;var s=e.alternate;s!==null&&(s.lanes|=o);for(var d=!1,h=e.return;h!==null;)h.childLanes|=o,s=h.alternate,s!==null&&(s.childLanes|=o),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(d=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,d&&i!==null&&(d=31-St(o),e=h.hiddenUpdates,s=e[d],s===null?e[d]=[i]:s.push(i),i.lane=o|536870912),h):null}function Va(e){if(50<Wo)throw Wo=0,Qu=null,Error(a(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Gl={};function jy(e,i,o,s){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(e,i,o,s){return new jy(e,i,o,s)}function Vr(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ai(e,i){var o=e.alternate;return o===null?(o=un(e.tag,i,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=i,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&65011712,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,i=e.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o.refCleanup=e.refCleanup,o}function td(e,i){e.flags&=65011714;var o=e.alternate;return o===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=o.childLanes,e.lanes=o.lanes,e.child=o.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=o.memoizedProps,e.memoizedState=o.memoizedState,e.updateQueue=o.updateQueue,e.type=o.type,i=o.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Ba(e,i,o,s,d,h){var _=0;if(s=e,typeof e=="function")Vr(e)&&(_=1);else if(typeof e=="string")_=l_(e,o,j.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case re:return e=un(31,o,i,d),e.elementType=re,e.lanes=h,e;case L:return cl(o.children,d,h,i);case te:_=8,d|=24;break;case z:return e=un(12,o,i,d|2),e.elementType=z,e.lanes=h,e;case J:return e=un(13,o,i,d),e.elementType=J,e.lanes=h,e;case oe:return e=un(19,o,i,d),e.elementType=oe,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $:_=10;break e;case ee:_=9;break e;case B:_=11;break e;case ne:_=14;break e;case xe:_=16,s=null;break e}_=29,o=Error(a(130,e===null?"null":typeof e,"")),s=null}return i=un(_,o,i,d),i.elementType=e,i.type=s,i.lanes=h,i}function cl(e,i,o,s){return e=un(7,e,s,i),e.lanes=o,e}function Br(e,i,o){return e=un(6,e,null,i),e.lanes=o,e}function nd(e){var i=un(18,null,null,0);return i.stateNode=e,i}function Or(e,i,o){return i=un(4,e.children!==null?e.children:[],e.key,i),i.lanes=o,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var id=new WeakMap;function Sn(e,i){if(typeof e=="object"&&e!==null){var o=id.get(e);return o!==void 0?o:(i={value:e,source:i,stack:Ut(i)},id.set(e,i),i)}return{value:e,source:i,stack:Ut(i)}}var Hl=[],Pl=0,Oa=null,Do=0,xn=[],En=0,ki=null,Bn=1,On="";function si(e,i){Hl[Pl++]=Do,Hl[Pl++]=Oa,Oa=e,Do=i}function ld(e,i,o){xn[En++]=Bn,xn[En++]=On,xn[En++]=ki,ki=e;var s=Bn;e=On;var d=32-St(s)-1;s&=~(1<<d),o+=1;var h=32-St(i)+d;if(30<h){var _=d-d%5;h=(s&(1<<_)-1).toString(32),s>>=_,d-=_,Bn=1<<32-St(i)+d|o<<d|s,On=h+e}else Bn=1<<h|o<<d|s,On=e}function Yr(e){e.return!==null&&(si(e,1),ld(e,1,0))}function Fr(e){for(;e===Oa;)Oa=Hl[--Pl],Hl[Pl]=null,Do=Hl[--Pl],Hl[Pl]=null;for(;e===ki;)ki=xn[--En],xn[En]=null,On=xn[--En],xn[En]=null,Bn=xn[--En],xn[En]=null}function od(e,i){xn[En++]=Bn,xn[En++]=On,xn[En++]=ki,Bn=i.id,On=i.overflow,ki=e}var kt=null,ut=null,Ye=!1,Li=null,Cn=!1,Jr=Error(a(519));function zi(e){var i=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Io(Sn(i,e)),Jr}function ad(e){var i=e.stateNode,o=e.type,s=e.memoizedProps;switch(i[bt]=e,i[Ht]=s,o){case"dialog":Ve("cancel",i),Ve("close",i);break;case"iframe":case"object":case"embed":Ve("load",i);break;case"video":case"audio":for(o=0;o<ea.length;o++)Ve(ea[o],i);break;case"source":Ve("error",i);break;case"img":case"image":case"link":Ve("error",i),Ve("load",i);break;case"details":Ve("toggle",i);break;case"input":Ve("invalid",i),_f(i,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":Ve("invalid",i);break;case"textarea":Ve("invalid",i),Sf(i,s.value,s.defaultValue,s.children)}o=s.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||s.suppressHydrationWarning===!0||Em(i.textContent,o)?(s.popover!=null&&(Ve("beforetoggle",i),Ve("toggle",i)),s.onScroll!=null&&Ve("scroll",i),s.onScrollEnd!=null&&Ve("scrollend",i),s.onClick!=null&&(i.onclick=li),i=!0):i=!1,i||zi(e,!0)}function sd(e){for(kt=e.return;kt;)switch(kt.tag){case 5:case 31:case 13:Cn=!1;return;case 27:case 3:Cn=!0;return;default:kt=kt.return}}function ql(e){if(e!==kt)return!1;if(!Ye)return sd(e),Ye=!0,!1;var i=e.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=e.type,o=!(o!=="form"&&o!=="button")||cc(e.type,e.memoizedProps)),o=!o),o&&ut&&zi(e),sd(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ut=Im(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ut=Im(e)}else i===27?(i=ut,$i(e.type)?(e=hc,hc=null,ut=e):ut=i):ut=kt?Nn(e.stateNode.nextSibling):null;return!0}function fl(){ut=kt=null,Ye=!1}function Xr(){var e=Li;return e!==null&&(nn===null?nn=e:nn.push.apply(nn,e),Li=null),e}function Io(e){Li===null?Li=[e]:Li.push(e)}var Kr=N(null),dl=null,ri=null;function Gi(e,i,o){ae(Kr,i._currentValue),i._currentValue=o}function ui(e){e._currentValue=Kr.current,V(Kr)}function Qr(e,i,o){for(;e!==null;){var s=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,s!==null&&(s.childLanes|=i)):s!==null&&(s.childLanes&i)!==i&&(s.childLanes|=i),e===o)break;e=e.return}}function $r(e,i,o,s){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var h=d.dependencies;if(h!==null){var _=d.child;h=h.firstContext;e:for(;h!==null;){var E=h;h=d;for(var b=0;b<i.length;b++)if(E.context===i[b]){h.lanes|=o,E=h.alternate,E!==null&&(E.lanes|=o),Qr(h.return,o,e),s||(_=null);break e}h=E.next}}else if(d.tag===18){if(_=d.return,_===null)throw Error(a(341));_.lanes|=o,h=_.alternate,h!==null&&(h.lanes|=o),Qr(_,o,e),_=null}else _=d.child;if(_!==null)_.return=d;else for(_=d;_!==null;){if(_===e){_=null;break}if(d=_.sibling,d!==null){d.return=_.return,_=d;break}_=_.return}d=_}}function Vl(e,i,o,s){e=null;for(var d=i,h=!1;d!==null;){if(!h){if((d.flags&524288)!==0)h=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var _=d.alternate;if(_===null)throw Error(a(387));if(_=_.memoizedProps,_!==null){var E=d.type;rn(d.pendingProps.value,_.value)||(e!==null?e.push(E):e=[E])}}else if(d===be.current){if(_=d.alternate,_===null)throw Error(a(387));_.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push(oa):e=[oa])}d=d.return}e!==null&&$r(i,e,o,s),i.flags|=262144}function Ya(e){for(e=e.firstContext;e!==null;){if(!rn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function pl(e){dl=e,ri=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Lt(e){return rd(dl,e)}function Fa(e,i){return dl===null&&pl(e),rd(e,i)}function rd(e,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},ri===null){if(e===null)throw Error(a(308));ri=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else ri=ri.next=i;return o}var ev=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(o,s){e.push(s)}};this.abort=function(){i.aborted=!0,e.forEach(function(o){return o()})}},tv=n.unstable_scheduleCallback,nv=n.unstable_NormalPriority,xt={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zr(){return{controller:new ev,data:new Map,refCount:0}}function Uo(e){e.refCount--,e.refCount===0&&tv(nv,function(){e.controller.abort()})}var ko=null,Wr=0,Bl=0,Ol=null;function iv(e,i){if(ko===null){var o=ko=[];Wr=0,Bl=tc(),Ol={status:"pending",value:void 0,then:function(s){o.push(s)}}}return Wr++,i.then(ud,ud),i}function ud(){if(--Wr===0&&ko!==null){Ol!==null&&(Ol.status="fulfilled");var e=ko;ko=null,Bl=0,Ol=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function lv(e,i){var o=[],s={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return e.then(function(){s.status="fulfilled",s.value=i;for(var d=0;d<o.length;d++)(0,o[d])(i)},function(d){for(s.status="rejected",s.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),s}var cd=M.S;M.S=function(e,i){Xp=at(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&iv(e,i),cd!==null&&cd(e,i)};var ml=N(null);function jr(){var e=ml.current;return e!==null?e:st.pooledCache}function Ja(e,i){i===null?ae(ml,ml.current):ae(ml,i.pool)}function fd(){var e=jr();return e===null?null:{parent:xt._currentValue,pool:e}}var Yl=Error(a(460)),eu=Error(a(474)),Xa=Error(a(542)),Ka={then:function(){}};function dd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function pd(e,i,o){switch(o=e[o],o===void 0?e.push(i):o!==i&&(i.then(li,li),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,hd(e),e;default:if(typeof i.status=="string")i.then(li,li);else{if(e=st,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=i,e.status="pending",e.then(function(s){if(i.status==="pending"){var d=i;d.status="fulfilled",d.value=s}},function(s){if(i.status==="pending"){var d=i;d.status="rejected",d.reason=s}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,hd(e),e}throw gl=i,Yl}}function hl(e){try{var i=e._init;return i(e._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(gl=o,Yl):o}}var gl=null;function md(){if(gl===null)throw Error(a(459));var e=gl;return gl=null,e}function hd(e){if(e===Yl||e===Xa)throw Error(a(483))}var Fl=null,Lo=0;function Qa(e){var i=Lo;return Lo+=1,Fl===null&&(Fl=[]),pd(Fl,e,i)}function zo(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function $a(e,i){throw i.$$typeof===S?Error(a(525)):(e=Object.prototype.toString.call(i),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function gd(e){function i(U,D){if(e){var G=U.deletions;G===null?(U.deletions=[D],U.flags|=16):G.push(D)}}function o(U,D){if(!e)return null;for(;D!==null;)i(U,D),D=D.sibling;return null}function s(U){for(var D=new Map;U!==null;)U.key!==null?D.set(U.key,U):D.set(U.index,U),U=U.sibling;return D}function d(U,D){return U=ai(U,D),U.index=0,U.sibling=null,U}function h(U,D,G){return U.index=G,e?(G=U.alternate,G!==null?(G=G.index,G<D?(U.flags|=67108866,D):G):(U.flags|=67108866,D)):(U.flags|=1048576,D)}function _(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function E(U,D,G,Q){return D===null||D.tag!==6?(D=Br(G,U.mode,Q),D.return=U,D):(D=d(D,G),D.return=U,D)}function b(U,D,G,Q){var Ce=G.type;return Ce===L?X(U,D,G.props.children,Q,G.key):D!==null&&(D.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===xe&&hl(Ce)===D.type)?(D=d(D,G.props),zo(D,G),D.return=U,D):(D=Ba(G.type,G.key,G.props,null,U.mode,Q),zo(D,G),D.return=U,D)}function H(U,D,G,Q){return D===null||D.tag!==4||D.stateNode.containerInfo!==G.containerInfo||D.stateNode.implementation!==G.implementation?(D=Or(G,U.mode,Q),D.return=U,D):(D=d(D,G.children||[]),D.return=U,D)}function X(U,D,G,Q,Ce){return D===null||D.tag!==7?(D=cl(G,U.mode,Q,Ce),D.return=U,D):(D=d(D,G),D.return=U,D)}function Z(U,D,G){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Br(""+D,U.mode,G),D.return=U,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case C:return G=Ba(D.type,D.key,D.props,null,U.mode,G),zo(G,D),G.return=U,G;case w:return D=Or(D,U.mode,G),D.return=U,D;case xe:return D=hl(D),Z(U,D,G)}if(ue(D)||Ee(D))return D=cl(D,U.mode,G,null),D.return=U,D;if(typeof D.then=="function")return Z(U,Qa(D),G);if(D.$$typeof===$)return Z(U,Fa(U,D),G);$a(U,D)}return null}function q(U,D,G,Q){var Ce=D!==null?D.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return Ce!==null?null:E(U,D,""+G,Q);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case C:return G.key===Ce?b(U,D,G,Q):null;case w:return G.key===Ce?H(U,D,G,Q):null;case xe:return G=hl(G),q(U,D,G,Q)}if(ue(G)||Ee(G))return Ce!==null?null:X(U,D,G,Q,null);if(typeof G.then=="function")return q(U,D,Qa(G),Q);if(G.$$typeof===$)return q(U,D,Fa(U,G),Q);$a(U,G)}return null}function F(U,D,G,Q,Ce){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return U=U.get(G)||null,E(D,U,""+Q,Ce);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case C:return U=U.get(Q.key===null?G:Q.key)||null,b(D,U,Q,Ce);case w:return U=U.get(Q.key===null?G:Q.key)||null,H(D,U,Q,Ce);case xe:return Q=hl(Q),F(U,D,G,Q,Ce)}if(ue(Q)||Ee(Q))return U=U.get(G)||null,X(D,U,Q,Ce,null);if(typeof Q.then=="function")return F(U,D,G,Qa(Q),Ce);if(Q.$$typeof===$)return F(U,D,G,Fa(D,Q),Ce);$a(D,Q)}return null}function ve(U,D,G,Q){for(var Ce=null,Ke=null,_e=D,ze=D=0,Oe=null;_e!==null&&ze<G.length;ze++){_e.index>ze?(Oe=_e,_e=null):Oe=_e.sibling;var Qe=q(U,_e,G[ze],Q);if(Qe===null){_e===null&&(_e=Oe);break}e&&_e&&Qe.alternate===null&&i(U,_e),D=h(Qe,D,ze),Ke===null?Ce=Qe:Ke.sibling=Qe,Ke=Qe,_e=Oe}if(ze===G.length)return o(U,_e),Ye&&si(U,ze),Ce;if(_e===null){for(;ze<G.length;ze++)_e=Z(U,G[ze],Q),_e!==null&&(D=h(_e,D,ze),Ke===null?Ce=_e:Ke.sibling=_e,Ke=_e);return Ye&&si(U,ze),Ce}for(_e=s(_e);ze<G.length;ze++)Oe=F(_e,U,ze,G[ze],Q),Oe!==null&&(e&&Oe.alternate!==null&&_e.delete(Oe.key===null?ze:Oe.key),D=h(Oe,D,ze),Ke===null?Ce=Oe:Ke.sibling=Oe,Ke=Oe);return e&&_e.forEach(function(tl){return i(U,tl)}),Ye&&si(U,ze),Ce}function we(U,D,G,Q){if(G==null)throw Error(a(151));for(var Ce=null,Ke=null,_e=D,ze=D=0,Oe=null,Qe=G.next();_e!==null&&!Qe.done;ze++,Qe=G.next()){_e.index>ze?(Oe=_e,_e=null):Oe=_e.sibling;var tl=q(U,_e,Qe.value,Q);if(tl===null){_e===null&&(_e=Oe);break}e&&_e&&tl.alternate===null&&i(U,_e),D=h(tl,D,ze),Ke===null?Ce=tl:Ke.sibling=tl,Ke=tl,_e=Oe}if(Qe.done)return o(U,_e),Ye&&si(U,ze),Ce;if(_e===null){for(;!Qe.done;ze++,Qe=G.next())Qe=Z(U,Qe.value,Q),Qe!==null&&(D=h(Qe,D,ze),Ke===null?Ce=Qe:Ke.sibling=Qe,Ke=Qe);return Ye&&si(U,ze),Ce}for(_e=s(_e);!Qe.done;ze++,Qe=G.next())Qe=F(_e,U,ze,Qe.value,Q),Qe!==null&&(e&&Qe.alternate!==null&&_e.delete(Qe.key===null?ze:Qe.key),D=h(Qe,D,ze),Ke===null?Ce=Qe:Ke.sibling=Qe,Ke=Qe);return e&&_e.forEach(function(h_){return i(U,h_)}),Ye&&si(U,ze),Ce}function ot(U,D,G,Q){if(typeof G=="object"&&G!==null&&G.type===L&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case C:e:{for(var Ce=G.key;D!==null;){if(D.key===Ce){if(Ce=G.type,Ce===L){if(D.tag===7){o(U,D.sibling),Q=d(D,G.props.children),Q.return=U,U=Q;break e}}else if(D.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===xe&&hl(Ce)===D.type){o(U,D.sibling),Q=d(D,G.props),zo(Q,G),Q.return=U,U=Q;break e}o(U,D);break}else i(U,D);D=D.sibling}G.type===L?(Q=cl(G.props.children,U.mode,Q,G.key),Q.return=U,U=Q):(Q=Ba(G.type,G.key,G.props,null,U.mode,Q),zo(Q,G),Q.return=U,U=Q)}return _(U);case w:e:{for(Ce=G.key;D!==null;){if(D.key===Ce)if(D.tag===4&&D.stateNode.containerInfo===G.containerInfo&&D.stateNode.implementation===G.implementation){o(U,D.sibling),Q=d(D,G.children||[]),Q.return=U,U=Q;break e}else{o(U,D);break}else i(U,D);D=D.sibling}Q=Or(G,U.mode,Q),Q.return=U,U=Q}return _(U);case xe:return G=hl(G),ot(U,D,G,Q)}if(ue(G))return ve(U,D,G,Q);if(Ee(G)){if(Ce=Ee(G),typeof Ce!="function")throw Error(a(150));return G=Ce.call(G),we(U,D,G,Q)}if(typeof G.then=="function")return ot(U,D,Qa(G),Q);if(G.$$typeof===$)return ot(U,D,Fa(U,G),Q);$a(U,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,D!==null&&D.tag===6?(o(U,D.sibling),Q=d(D,G),Q.return=U,U=Q):(o(U,D),Q=Br(G,U.mode,Q),Q.return=U,U=Q),_(U)):o(U,D)}return function(U,D,G,Q){try{Lo=0;var Ce=ot(U,D,G,Q);return Fl=null,Ce}catch(_e){if(_e===Yl||_e===Xa)throw _e;var Ke=un(29,_e,null,U.mode);return Ke.lanes=Q,Ke.return=U,Ke}finally{}}}var yl=gd(!0),yd=gd(!1),Hi=!1;function tu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nu(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Pi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function qi(e,i,o){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(je&2)!==0){var d=s.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),s.pending=i,i=Va(e),ed(e,null,o),i}return qa(e,s,i,o),Va(e)}function Go(e,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var s=i.lanes;s&=e.pendingLanes,o|=s,i.lanes=o,To(e,o)}}function iu(e,i){var o=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,o===s)){var d=null,h=null;if(o=o.firstBaseUpdate,o!==null){do{var _={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};h===null?d=h=_:h=h.next=_,o=o.next}while(o!==null);h===null?d=h=i:h=h.next=i}else d=h=i;o={baseState:s.baseState,firstBaseUpdate:d,lastBaseUpdate:h,shared:s.shared,callbacks:s.callbacks},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=i:e.next=i,o.lastBaseUpdate=i}var lu=!1;function Ho(){if(lu){var e=Ol;if(e!==null)throw e}}function Po(e,i,o,s){lu=!1;var d=e.updateQueue;Hi=!1;var h=d.firstBaseUpdate,_=d.lastBaseUpdate,E=d.shared.pending;if(E!==null){d.shared.pending=null;var b=E,H=b.next;b.next=null,_===null?h=H:_.next=H,_=b;var X=e.alternate;X!==null&&(X=X.updateQueue,E=X.lastBaseUpdate,E!==_&&(E===null?X.firstBaseUpdate=H:E.next=H,X.lastBaseUpdate=b))}if(h!==null){var Z=d.baseState;_=0,X=H=b=null,E=h;do{var q=E.lane&-536870913,F=q!==E.lane;if(F?(Be&q)===q:(s&q)===q){q!==0&&q===Bl&&(lu=!0),X!==null&&(X=X.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var ve=e,we=E;q=i;var ot=o;switch(we.tag){case 1:if(ve=we.payload,typeof ve=="function"){Z=ve.call(ot,Z,q);break e}Z=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=we.payload,q=typeof ve=="function"?ve.call(ot,Z,q):ve,q==null)break e;Z=T({},Z,q);break e;case 2:Hi=!0}}q=E.callback,q!==null&&(e.flags|=64,F&&(e.flags|=8192),F=d.callbacks,F===null?d.callbacks=[q]:F.push(q))}else F={lane:q,tag:E.tag,payload:E.payload,callback:E.callback,next:null},X===null?(H=X=F,b=Z):X=X.next=F,_|=q;if(E=E.next,E===null){if(E=d.shared.pending,E===null)break;F=E,E=F.next,F.next=null,d.lastBaseUpdate=F,d.shared.pending=null}}while(!0);X===null&&(b=Z),d.baseState=b,d.firstBaseUpdate=H,d.lastBaseUpdate=X,h===null&&(d.shared.lanes=0),Fi|=_,e.lanes=_,e.memoizedState=Z}}function vd(e,i){if(typeof e!="function")throw Error(a(191,e));e.call(i)}function _d(e,i){var o=e.callbacks;if(o!==null)for(e.callbacks=null,e=0;e<o.length;e++)vd(o[e],i)}var Jl=N(null),Za=N(0);function Td(e,i){e=vi,ae(Za,e),ae(Jl,i),vi=e|i.baseLanes}function ou(){ae(Za,vi),ae(Jl,Jl.current)}function au(){vi=Za.current,V(Jl),V(Za)}var cn=N(null),An=null;function Vi(e){var i=e.alternate;ae(_t,_t.current&1),ae(cn,e),An===null&&(i===null||Jl.current!==null||i.memoizedState!==null)&&(An=e)}function su(e){ae(_t,_t.current),ae(cn,e),An===null&&(An=e)}function Sd(e){e.tag===22?(ae(_t,_t.current),ae(cn,e),An===null&&(An=e)):Bi()}function Bi(){ae(_t,_t.current),ae(cn,cn.current)}function fn(e){V(cn),An===e&&(An=null),V(_t)}var _t=N(0);function Wa(e){for(var i=e;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||pc(o)||mc(o)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ci=0,Le=null,it=null,Et=null,ja=!1,Xl=!1,vl=!1,es=0,qo=0,Kl=null,ov=0;function yt(){throw Error(a(321))}function ru(e,i){if(i===null)return!1;for(var o=0;o<i.length&&o<e.length;o++)if(!rn(e[o],i[o]))return!1;return!0}function uu(e,i,o,s,d,h){return ci=h,Le=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,M.H=e===null||e.memoizedState===null?lp:Cu,vl=!1,h=o(s,d),vl=!1,Xl&&(h=Ed(i,o,s,d)),xd(e),h}function xd(e){M.H=Oo;var i=it!==null&&it.next!==null;if(ci=0,Et=it=Le=null,ja=!1,qo=0,Kl=null,i)throw Error(a(300));e===null||Ct||(e=e.dependencies,e!==null&&Ya(e)&&(Ct=!0))}function Ed(e,i,o,s){Le=e;var d=0;do{if(Xl&&(Kl=null),qo=0,Xl=!1,25<=d)throw Error(a(301));if(d+=1,Et=it=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}M.H=op,h=i(o,s)}while(Xl);return h}function av(){var e=M.H,i=e.useState()[0];return i=typeof i.then=="function"?Vo(i):i,e=e.useState()[0],(it!==null?it.memoizedState:null)!==e&&(Le.flags|=1024),i}function cu(){var e=es!==0;return es=0,e}function fu(e,i,o){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~o}function du(e){if(ja){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}ja=!1}ci=0,Et=it=Le=null,Xl=!1,qo=es=0,Kl=null}function Jt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?Le.memoizedState=Et=e:Et=Et.next=e,Et}function Tt(){if(it===null){var e=Le.alternate;e=e!==null?e.memoizedState:null}else e=it.next;var i=Et===null?Le.memoizedState:Et.next;if(i!==null)Et=i,it=e;else{if(e===null)throw Le.alternate===null?Error(a(467)):Error(a(310));it=e,e={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},Et===null?Le.memoizedState=Et=e:Et=Et.next=e}return Et}function ts(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vo(e){var i=qo;return qo+=1,Kl===null&&(Kl=[]),e=pd(Kl,e,i),i=Le,(Et===null?i.memoizedState:Et.next)===null&&(i=i.alternate,M.H=i===null||i.memoizedState===null?lp:Cu),e}function ns(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Vo(e);if(e.$$typeof===$)return Lt(e)}throw Error(a(438,String(e)))}function pu(e){var i=null,o=Le.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var s=Le.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(i={data:s.data.map(function(d){return d.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=ts(),Le.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(e),s=0;s<e;s++)o[s]=Te;return i.index++,o}function fi(e,i){return typeof i=="function"?i(e):i}function is(e){var i=Tt();return mu(i,it,e)}function mu(e,i,o){var s=e.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=o;var d=e.baseQueue,h=s.pending;if(h!==null){if(d!==null){var _=d.next;d.next=h.next,h.next=_}i.baseQueue=d=h,s.pending=null}if(h=e.baseState,d===null)e.memoizedState=h;else{i=d.next;var E=_=null,b=null,H=i,X=!1;do{var Z=H.lane&-536870913;if(Z!==H.lane?(Be&Z)===Z:(ci&Z)===Z){var q=H.revertLane;if(q===0)b!==null&&(b=b.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),Z===Bl&&(X=!0);else if((ci&q)===q){H=H.next,q===Bl&&(X=!0);continue}else Z={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},b===null?(E=b=Z,_=h):b=b.next=Z,Le.lanes|=q,Fi|=q;Z=H.action,vl&&o(h,Z),h=H.hasEagerState?H.eagerState:o(h,Z)}else q={lane:Z,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},b===null?(E=b=q,_=h):b=b.next=q,Le.lanes|=Z,Fi|=Z;H=H.next}while(H!==null&&H!==i);if(b===null?_=h:b.next=E,!rn(h,e.memoizedState)&&(Ct=!0,X&&(o=Ol,o!==null)))throw o;e.memoizedState=h,e.baseState=_,e.baseQueue=b,s.lastRenderedState=h}return d===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function hu(e){var i=Tt(),o=i.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=e;var s=o.dispatch,d=o.pending,h=i.memoizedState;if(d!==null){o.pending=null;var _=d=d.next;do h=e(h,_.action),_=_.next;while(_!==d);rn(h,i.memoizedState)||(Ct=!0),i.memoizedState=h,i.baseQueue===null&&(i.baseState=h),o.lastRenderedState=h}return[h,s]}function Cd(e,i,o){var s=Le,d=Tt(),h=Ye;if(h){if(o===void 0)throw Error(a(407));o=o()}else o=i();var _=!rn((it||d).memoizedState,o);if(_&&(d.memoizedState=o,Ct=!0),d=d.queue,vu(Md.bind(null,s,d,e),[e]),d.getSnapshot!==i||_||Et!==null&&Et.memoizedState.tag&1){if(s.flags|=2048,Ql(9,{destroy:void 0},Nd.bind(null,s,d,o,i),null),st===null)throw Error(a(349));h||(ci&127)!==0||Ad(s,i,o)}return o}function Ad(e,i,o){e.flags|=16384,e={getSnapshot:i,value:o},i=Le.updateQueue,i===null?(i=ts(),Le.updateQueue=i,i.stores=[e]):(o=i.stores,o===null?i.stores=[e]:o.push(e))}function Nd(e,i,o,s){i.value=o,i.getSnapshot=s,bd(i)&&Rd(e)}function Md(e,i,o){return o(function(){bd(i)&&Rd(e)})}function bd(e){var i=e.getSnapshot;e=e.value;try{var o=i();return!rn(e,o)}catch{return!0}}function Rd(e){var i=ul(e,2);i!==null&&ln(i,e,2)}function gu(e){var i=Jt();if(typeof e=="function"){var o=e;if(e=o(),vl){Ft(!0);try{o()}finally{Ft(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:e},i}function wd(e,i,o,s){return e.baseState=o,mu(e,it,typeof s=="function"?s:fi)}function sv(e,i,o,s,d){if(as(e))throw Error(a(485));if(e=i.action,e!==null){var h={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){h.listeners.push(_)}};M.T!==null?o(!0):h.isTransition=!1,s(h),o=i.pending,o===null?(h.next=i.pending=h,Dd(i,h)):(h.next=o.next,i.pending=o.next=h)}}function Dd(e,i){var o=i.action,s=i.payload,d=e.state;if(i.isTransition){var h=M.T,_={};M.T=_;try{var E=o(d,s),b=M.S;b!==null&&b(_,E),Id(e,i,E)}catch(H){yu(e,i,H)}finally{h!==null&&_.types!==null&&(h.types=_.types),M.T=h}}else try{h=o(d,s),Id(e,i,h)}catch(H){yu(e,i,H)}}function Id(e,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(s){Ud(e,i,s)},function(s){return yu(e,i,s)}):Ud(e,i,o)}function Ud(e,i,o){i.status="fulfilled",i.value=o,kd(i),e.state=o,i=e.pending,i!==null&&(o=i.next,o===i?e.pending=null:(o=o.next,i.next=o,Dd(e,o)))}function yu(e,i,o){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do i.status="rejected",i.reason=o,kd(i),i=i.next;while(i!==s)}e.action=null}function kd(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Ld(e,i){return i}function zd(e,i){if(Ye){var o=st.formState;if(o!==null){e:{var s=Le;if(Ye){if(ut){t:{for(var d=ut,h=Cn;d.nodeType!==8;){if(!h){d=null;break t}if(d=Nn(d.nextSibling),d===null){d=null;break t}}h=d.data,d=h==="F!"||h==="F"?d:null}if(d){ut=Nn(d.nextSibling),s=d.data==="F!";break e}}zi(s)}s=!1}s&&(i=o[0])}}return o=Jt(),o.memoizedState=o.baseState=i,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ld,lastRenderedState:i},o.queue=s,o=tp.bind(null,Le,s),s.dispatch=o,s=gu(!1),h=Eu.bind(null,Le,!1,s.queue),s=Jt(),d={state:i,dispatch:null,action:e,pending:null},s.queue=d,o=sv.bind(null,Le,d,h,o),d.dispatch=o,s.memoizedState=e,[i,o,!1]}function Gd(e){var i=Tt();return Hd(i,it,e)}function Hd(e,i,o){if(i=mu(e,i,Ld)[0],e=is(fi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var s=Vo(i)}catch(_){throw _===Yl?Xa:_}else s=i;i=Tt();var d=i.queue,h=d.dispatch;return o!==i.memoizedState&&(Le.flags|=2048,Ql(9,{destroy:void 0},rv.bind(null,d,o),null)),[s,h,e]}function rv(e,i){e.action=i}function Pd(e){var i=Tt(),o=it;if(o!==null)return Hd(i,o,e);Tt(),i=i.memoizedState,o=Tt();var s=o.queue.dispatch;return o.memoizedState=e,[i,s,!1]}function Ql(e,i,o,s){return e={tag:e,create:o,deps:s,inst:i,next:null},i=Le.updateQueue,i===null&&(i=ts(),Le.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=e.next=e:(s=o.next,o.next=e,e.next=s,i.lastEffect=e),e}function qd(){return Tt().memoizedState}function ls(e,i,o,s){var d=Jt();Le.flags|=e,d.memoizedState=Ql(1|i,{destroy:void 0},o,s===void 0?null:s)}function os(e,i,o,s){var d=Tt();s=s===void 0?null:s;var h=d.memoizedState.inst;it!==null&&s!==null&&ru(s,it.memoizedState.deps)?d.memoizedState=Ql(i,h,o,s):(Le.flags|=e,d.memoizedState=Ql(1|i,h,o,s))}function Vd(e,i){ls(8390656,8,e,i)}function vu(e,i){os(2048,8,e,i)}function uv(e){Le.flags|=4;var i=Le.updateQueue;if(i===null)i=ts(),Le.updateQueue=i,i.events=[e];else{var o=i.events;o===null?i.events=[e]:o.push(e)}}function Bd(e){var i=Tt().memoizedState;return uv({ref:i,nextImpl:e}),function(){if((je&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}function Od(e,i){return os(4,2,e,i)}function Yd(e,i){return os(4,4,e,i)}function Fd(e,i){if(typeof i=="function"){e=e();var o=i(e);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Jd(e,i,o){o=o!=null?o.concat([e]):null,os(4,4,Fd.bind(null,i,e),o)}function _u(){}function Xd(e,i){var o=Tt();i=i===void 0?null:i;var s=o.memoizedState;return i!==null&&ru(i,s[1])?s[0]:(o.memoizedState=[e,i],e)}function Kd(e,i){var o=Tt();i=i===void 0?null:i;var s=o.memoizedState;if(i!==null&&ru(i,s[1]))return s[0];if(s=e(),vl){Ft(!0);try{e()}finally{Ft(!1)}}return o.memoizedState=[s,i],s}function Tu(e,i,o){return o===void 0||(ci&1073741824)!==0&&(Be&261930)===0?e.memoizedState=i:(e.memoizedState=o,e=Qp(),Le.lanes|=e,Fi|=e,o)}function Qd(e,i,o,s){return rn(o,i)?o:Jl.current!==null?(e=Tu(e,o,s),rn(e,i)||(Ct=!0),e):(ci&42)===0||(ci&1073741824)!==0&&(Be&261930)===0?(Ct=!0,e.memoizedState=o):(e=Qp(),Le.lanes|=e,Fi|=e,i)}function $d(e,i,o,s,d){var h=O.p;O.p=h!==0&&8>h?h:8;var _=M.T,E={};M.T=E,Eu(e,!1,i,o);try{var b=d(),H=M.S;if(H!==null&&H(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var X=lv(b,s);Bo(e,i,X,mn(e))}else Bo(e,i,s,mn(e))}catch(Z){Bo(e,i,{then:function(){},status:"rejected",reason:Z},mn())}finally{O.p=h,_!==null&&E.types!==null&&(_.types=E.types),M.T=_}}function cv(){}function Su(e,i,o,s){if(e.tag!==5)throw Error(a(476));var d=Zd(e).queue;$d(e,d,i,ie,o===null?cv:function(){return Wd(e),o(s)})}function Zd(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:ie},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:o},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function Wd(e){var i=Zd(e);i.next===null&&(i=e.alternate.memoizedState),Bo(e,i.next.queue,{},mn())}function xu(){return Lt(oa)}function jd(){return Tt().memoizedState}function ep(){return Tt().memoizedState}function fv(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var o=mn();e=Pi(o);var s=qi(i,e,o);s!==null&&(ln(s,i,o),Go(s,i,o)),i={cache:Zr()},e.payload=i;return}i=i.return}}function dv(e,i,o){var s=mn();o={lane:s,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},as(e)?np(i,o):(o=qr(e,i,o,s),o!==null&&(ln(o,e,s),ip(o,i,s)))}function tp(e,i,o){var s=mn();Bo(e,i,o,s)}function Bo(e,i,o,s){var d={lane:s,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(as(e))np(i,d);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=i.lastRenderedReducer,h!==null))try{var _=i.lastRenderedState,E=h(_,o);if(d.hasEagerState=!0,d.eagerState=E,rn(E,_))return qa(e,i,d,0),st===null&&Pa(),!1}catch{}finally{}if(o=qr(e,i,d,s),o!==null)return ln(o,e,s),ip(o,i,s),!0}return!1}function Eu(e,i,o,s){if(s={lane:2,revertLane:tc(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},as(e)){if(i)throw Error(a(479))}else i=qr(e,o,s,2),i!==null&&ln(i,e,2)}function as(e){var i=e.alternate;return e===Le||i!==null&&i===Le}function np(e,i){Xl=ja=!0;var o=e.pending;o===null?i.next=i:(i.next=o.next,o.next=i),e.pending=i}function ip(e,i,o){if((o&4194048)!==0){var s=i.lanes;s&=e.pendingLanes,o|=s,i.lanes=o,To(e,o)}}var Oo={readContext:Lt,use:ns,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useLayoutEffect:yt,useInsertionEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useSyncExternalStore:yt,useId:yt,useHostTransitionStatus:yt,useFormState:yt,useActionState:yt,useOptimistic:yt,useMemoCache:yt,useCacheRefresh:yt};Oo.useEffectEvent=yt;var lp={readContext:Lt,use:ns,useCallback:function(e,i){return Jt().memoizedState=[e,i===void 0?null:i],e},useContext:Lt,useEffect:Vd,useImperativeHandle:function(e,i,o){o=o!=null?o.concat([e]):null,ls(4194308,4,Fd.bind(null,i,e),o)},useLayoutEffect:function(e,i){return ls(4194308,4,e,i)},useInsertionEffect:function(e,i){ls(4,2,e,i)},useMemo:function(e,i){var o=Jt();i=i===void 0?null:i;var s=e();if(vl){Ft(!0);try{e()}finally{Ft(!1)}}return o.memoizedState=[s,i],s},useReducer:function(e,i,o){var s=Jt();if(o!==void 0){var d=o(i);if(vl){Ft(!0);try{o(i)}finally{Ft(!1)}}}else d=i;return s.memoizedState=s.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},s.queue=e,e=e.dispatch=dv.bind(null,Le,e),[s.memoizedState,e]},useRef:function(e){var i=Jt();return e={current:e},i.memoizedState=e},useState:function(e){e=gu(e);var i=e.queue,o=tp.bind(null,Le,i);return i.dispatch=o,[e.memoizedState,o]},useDebugValue:_u,useDeferredValue:function(e,i){var o=Jt();return Tu(o,e,i)},useTransition:function(){var e=gu(!1);return e=$d.bind(null,Le,e.queue,!0,!1),Jt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,o){var s=Le,d=Jt();if(Ye){if(o===void 0)throw Error(a(407));o=o()}else{if(o=i(),st===null)throw Error(a(349));(Be&127)!==0||Ad(s,i,o)}d.memoizedState=o;var h={value:o,getSnapshot:i};return d.queue=h,Vd(Md.bind(null,s,h,e),[e]),s.flags|=2048,Ql(9,{destroy:void 0},Nd.bind(null,s,h,o,i),null),o},useId:function(){var e=Jt(),i=st.identifierPrefix;if(Ye){var o=On,s=Bn;o=(s&~(1<<32-St(s)-1)).toString(32)+o,i="_"+i+"R_"+o,o=es++,0<o&&(i+="H"+o.toString(32)),i+="_"}else o=ov++,i="_"+i+"r_"+o.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:xu,useFormState:zd,useActionState:zd,useOptimistic:function(e){var i=Jt();i.memoizedState=i.baseState=e;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=Eu.bind(null,Le,!0,o),o.dispatch=i,[e,i]},useMemoCache:pu,useCacheRefresh:function(){return Jt().memoizedState=fv.bind(null,Le)},useEffectEvent:function(e){var i=Jt(),o={impl:e};return i.memoizedState=o,function(){if((je&2)!==0)throw Error(a(440));return o.impl.apply(void 0,arguments)}}},Cu={readContext:Lt,use:ns,useCallback:Xd,useContext:Lt,useEffect:vu,useImperativeHandle:Jd,useInsertionEffect:Od,useLayoutEffect:Yd,useMemo:Kd,useReducer:is,useRef:qd,useState:function(){return is(fi)},useDebugValue:_u,useDeferredValue:function(e,i){var o=Tt();return Qd(o,it.memoizedState,e,i)},useTransition:function(){var e=is(fi)[0],i=Tt().memoizedState;return[typeof e=="boolean"?e:Vo(e),i]},useSyncExternalStore:Cd,useId:jd,useHostTransitionStatus:xu,useFormState:Gd,useActionState:Gd,useOptimistic:function(e,i){var o=Tt();return wd(o,it,e,i)},useMemoCache:pu,useCacheRefresh:ep};Cu.useEffectEvent=Bd;var op={readContext:Lt,use:ns,useCallback:Xd,useContext:Lt,useEffect:vu,useImperativeHandle:Jd,useInsertionEffect:Od,useLayoutEffect:Yd,useMemo:Kd,useReducer:hu,useRef:qd,useState:function(){return hu(fi)},useDebugValue:_u,useDeferredValue:function(e,i){var o=Tt();return it===null?Tu(o,e,i):Qd(o,it.memoizedState,e,i)},useTransition:function(){var e=hu(fi)[0],i=Tt().memoizedState;return[typeof e=="boolean"?e:Vo(e),i]},useSyncExternalStore:Cd,useId:jd,useHostTransitionStatus:xu,useFormState:Pd,useActionState:Pd,useOptimistic:function(e,i){var o=Tt();return it!==null?wd(o,it,e,i):(o.baseState=e,[e,o.queue.dispatch])},useMemoCache:pu,useCacheRefresh:ep};op.useEffectEvent=Bd;function Au(e,i,o,s){i=e.memoizedState,o=o(s,i),o=o==null?i:T({},i,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var Nu={enqueueSetState:function(e,i,o){e=e._reactInternals;var s=mn(),d=Pi(s);d.payload=i,o!=null&&(d.callback=o),i=qi(e,d,s),i!==null&&(ln(i,e,s),Go(i,e,s))},enqueueReplaceState:function(e,i,o){e=e._reactInternals;var s=mn(),d=Pi(s);d.tag=1,d.payload=i,o!=null&&(d.callback=o),i=qi(e,d,s),i!==null&&(ln(i,e,s),Go(i,e,s))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var o=mn(),s=Pi(o);s.tag=2,i!=null&&(s.callback=i),i=qi(e,s,o),i!==null&&(ln(i,e,o),Go(i,e,o))}};function ap(e,i,o,s,d,h,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,h,_):i.prototype&&i.prototype.isPureReactComponent?!Ro(o,s)||!Ro(d,h):!0}function sp(e,i,o,s){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,s),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,s),i.state!==e&&Nu.enqueueReplaceState(i,i.state,null)}function _l(e,i){var o=i;if("ref"in i){o={};for(var s in i)s!=="ref"&&(o[s]=i[s])}if(e=e.defaultProps){o===i&&(o=T({},o));for(var d in e)o[d]===void 0&&(o[d]=e[d])}return o}function rp(e){Ha(e)}function up(e){console.error(e)}function cp(e){Ha(e)}function ss(e,i){try{var o=e.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(s){setTimeout(function(){throw s})}}function fp(e,i,o){try{var s=e.onCaughtError;s(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Mu(e,i,o){return o=Pi(o),o.tag=3,o.payload={element:null},o.callback=function(){ss(e,i)},o}function dp(e){return e=Pi(e),e.tag=3,e}function pp(e,i,o,s){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var h=s.value;e.payload=function(){return d(h)},e.callback=function(){fp(i,o,s)}}var _=o.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){fp(i,o,s),typeof d!="function"&&(Ji===null?Ji=new Set([this]):Ji.add(this));var E=s.stack;this.componentDidCatch(s.value,{componentStack:E!==null?E:""})})}function pv(e,i,o,s,d){if(o.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(i=o.alternate,i!==null&&Vl(i,o,d,!0),o=cn.current,o!==null){switch(o.tag){case 31:case 13:return An===null?_s():o.alternate===null&&vt===0&&(vt=3),o.flags&=-257,o.flags|=65536,o.lanes=d,s===Ka?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([s]):i.add(s),Wu(e,s,d)),!1;case 22:return o.flags|=65536,s===Ka?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([s])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([s]):o.add(s)),Wu(e,s,d)),!1}throw Error(a(435,o.tag))}return Wu(e,s,d),_s(),!1}if(Ye)return i=cn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=d,s!==Jr&&(e=Error(a(422),{cause:s}),Io(Sn(e,o)))):(s!==Jr&&(i=Error(a(423),{cause:s}),Io(Sn(i,o))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,s=Sn(s,o),d=Mu(e.stateNode,s,d),iu(e,d),vt!==4&&(vt=2)),!1;var h=Error(a(520),{cause:s});if(h=Sn(h,o),Zo===null?Zo=[h]:Zo.push(h),vt!==4&&(vt=2),i===null)return!0;s=Sn(s,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,e=d&-d,o.lanes|=e,e=Mu(o.stateNode,s,e),iu(o,e),!1;case 1:if(i=o.type,h=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Ji===null||!Ji.has(h))))return o.flags|=65536,d&=-d,o.lanes|=d,d=dp(d),pp(d,e,o,s),iu(o,d),!1}o=o.return}while(o!==null);return!1}var bu=Error(a(461)),Ct=!1;function zt(e,i,o,s){i.child=e===null?yd(i,null,o,s):yl(i,e.child,o,s)}function mp(e,i,o,s,d){o=o.render;var h=i.ref;if("ref"in s){var _={};for(var E in s)E!=="ref"&&(_[E]=s[E])}else _=s;return pl(i),s=uu(e,i,o,_,h,d),E=cu(),e!==null&&!Ct?(fu(e,i,d),di(e,i,d)):(Ye&&E&&Yr(i),i.flags|=1,zt(e,i,s,d),i.child)}function hp(e,i,o,s,d){if(e===null){var h=o.type;return typeof h=="function"&&!Vr(h)&&h.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=h,gp(e,i,h,s,d)):(e=Ba(o.type,null,s,i,i.mode,d),e.ref=i.ref,e.return=i,i.child=e)}if(h=e.child,!zu(e,d)){var _=h.memoizedProps;if(o=o.compare,o=o!==null?o:Ro,o(_,s)&&e.ref===i.ref)return di(e,i,d)}return i.flags|=1,e=ai(h,s),e.ref=i.ref,e.return=i,i.child=e}function gp(e,i,o,s,d){if(e!==null){var h=e.memoizedProps;if(Ro(h,s)&&e.ref===i.ref)if(Ct=!1,i.pendingProps=s=h,zu(e,d))(e.flags&131072)!==0&&(Ct=!0);else return i.lanes=e.lanes,di(e,i,d)}return Ru(e,i,o,s,d)}function yp(e,i,o,s){var d=s.children,h=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((i.flags&128)!==0){if(h=h!==null?h.baseLanes|o:o,e!==null){for(s=i.child=e.child,d=0;s!==null;)d=d|s.lanes|s.childLanes,s=s.sibling;s=d&~h}else s=0,i.child=null;return vp(e,i,h,o,s)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ja(i,h!==null?h.cachePool:null),h!==null?Td(i,h):ou(),Sd(i);else return s=i.lanes=536870912,vp(e,i,h!==null?h.baseLanes|o:o,o,s)}else h!==null?(Ja(i,h.cachePool),Td(i,h),Bi(),i.memoizedState=null):(e!==null&&Ja(i,null),ou(),Bi());return zt(e,i,d,o),i.child}function Yo(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function vp(e,i,o,s,d){var h=jr();return h=h===null?null:{parent:xt._currentValue,pool:h},i.memoizedState={baseLanes:o,cachePool:h},e!==null&&Ja(i,null),ou(),Sd(i),e!==null&&Vl(e,i,s,!0),i.childLanes=d,null}function rs(e,i){return i=cs({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function _p(e,i,o){return yl(i,e.child,null,o),e=rs(i,i.pendingProps),e.flags|=2,fn(i),i.memoizedState=null,e}function mv(e,i,o){var s=i.pendingProps,d=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(Ye){if(s.mode==="hidden")return e=rs(i,s),i.lanes=536870912,Yo(null,e);if(su(i),(e=ut)?(e=Dm(e,Cn),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:ki!==null?{id:Bn,overflow:On}:null,retryLane:536870912,hydrationErrors:null},o=nd(e),o.return=i,i.child=o,kt=i,ut=null)):e=null,e===null)throw zi(i);return i.lanes=536870912,null}return rs(i,s)}var h=e.memoizedState;if(h!==null){var _=h.dehydrated;if(su(i),d)if(i.flags&256)i.flags&=-257,i=_p(e,i,o);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(a(558));else if(Ct||Vl(e,i,o,!1),d=(o&e.childLanes)!==0,Ct||d){if(s=st,s!==null&&(_=Ml(s,o),_!==0&&_!==h.retryLane))throw h.retryLane=_,ul(e,_),ln(s,e,_),bu;_s(),i=_p(e,i,o)}else e=h.treeContext,ut=Nn(_.nextSibling),kt=i,Ye=!0,Li=null,Cn=!1,e!==null&&od(i,e),i=rs(i,s),i.flags|=4096;return i}return e=ai(e.child,{mode:s.mode,children:s.children}),e.ref=i.ref,i.child=e,e.return=i,e}function us(e,i){var o=i.ref;if(o===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(e===null||e.ref!==o)&&(i.flags|=4194816)}}function Ru(e,i,o,s,d){return pl(i),o=uu(e,i,o,s,void 0,d),s=cu(),e!==null&&!Ct?(fu(e,i,d),di(e,i,d)):(Ye&&s&&Yr(i),i.flags|=1,zt(e,i,o,d),i.child)}function Tp(e,i,o,s,d,h){return pl(i),i.updateQueue=null,o=Ed(i,s,o,d),xd(e),s=cu(),e!==null&&!Ct?(fu(e,i,h),di(e,i,h)):(Ye&&s&&Yr(i),i.flags|=1,zt(e,i,o,h),i.child)}function Sp(e,i,o,s,d){if(pl(i),i.stateNode===null){var h=Gl,_=o.contextType;typeof _=="object"&&_!==null&&(h=Lt(_)),h=new o(s,h),i.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Nu,i.stateNode=h,h._reactInternals=i,h=i.stateNode,h.props=s,h.state=i.memoizedState,h.refs={},tu(i),_=o.contextType,h.context=typeof _=="object"&&_!==null?Lt(_):Gl,h.state=i.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&(Au(i,o,_,s),h.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(_=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),_!==h.state&&Nu.enqueueReplaceState(h,h.state,null),Po(i,s,h,d),Ho(),h.state=i.memoizedState),typeof h.componentDidMount=="function"&&(i.flags|=4194308),s=!0}else if(e===null){h=i.stateNode;var E=i.memoizedProps,b=_l(o,E);h.props=b;var H=h.context,X=o.contextType;_=Gl,typeof X=="object"&&X!==null&&(_=Lt(X));var Z=o.getDerivedStateFromProps;X=typeof Z=="function"||typeof h.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,X||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(E||H!==_)&&sp(i,h,s,_),Hi=!1;var q=i.memoizedState;h.state=q,Po(i,s,h,d),Ho(),H=i.memoizedState,E||q!==H||Hi?(typeof Z=="function"&&(Au(i,o,Z,s),H=i.memoizedState),(b=Hi||ap(i,o,b,s,q,H,_))?(X||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(i.flags|=4194308)):(typeof h.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=s,i.memoizedState=H),h.props=s,h.state=H,h.context=_,s=b):(typeof h.componentDidMount=="function"&&(i.flags|=4194308),s=!1)}else{h=i.stateNode,nu(e,i),_=i.memoizedProps,X=_l(o,_),h.props=X,Z=i.pendingProps,q=h.context,H=o.contextType,b=Gl,typeof H=="object"&&H!==null&&(b=Lt(H)),E=o.getDerivedStateFromProps,(H=typeof E=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(_!==Z||q!==b)&&sp(i,h,s,b),Hi=!1,q=i.memoizedState,h.state=q,Po(i,s,h,d),Ho();var F=i.memoizedState;_!==Z||q!==F||Hi||e!==null&&e.dependencies!==null&&Ya(e.dependencies)?(typeof E=="function"&&(Au(i,o,E,s),F=i.memoizedState),(X=Hi||ap(i,o,X,s,q,F,b)||e!==null&&e.dependencies!==null&&Ya(e.dependencies))?(H||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(s,F,b),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(s,F,b)),typeof h.componentDidUpdate=="function"&&(i.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof h.componentDidUpdate!="function"||_===e.memoizedProps&&q===e.memoizedState||(i.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&q===e.memoizedState||(i.flags|=1024),i.memoizedProps=s,i.memoizedState=F),h.props=s,h.state=F,h.context=b,s=X):(typeof h.componentDidUpdate!="function"||_===e.memoizedProps&&q===e.memoizedState||(i.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&q===e.memoizedState||(i.flags|=1024),s=!1)}return h=s,us(e,i),s=(i.flags&128)!==0,h||s?(h=i.stateNode,o=s&&typeof o.getDerivedStateFromError!="function"?null:h.render(),i.flags|=1,e!==null&&s?(i.child=yl(i,e.child,null,d),i.child=yl(i,null,o,d)):zt(e,i,o,d),i.memoizedState=h.state,e=i.child):e=di(e,i,d),e}function xp(e,i,o,s){return fl(),i.flags|=256,zt(e,i,o,s),i.child}var wu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Du(e){return{baseLanes:e,cachePool:fd()}}function Iu(e,i,o){return e=e!==null?e.childLanes&~o:0,i&&(e|=pn),e}function Ep(e,i,o){var s=i.pendingProps,d=!1,h=(i.flags&128)!==0,_;if((_=h)||(_=e!==null&&e.memoizedState===null?!1:(_t.current&2)!==0),_&&(d=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,e===null){if(Ye){if(d?Vi(i):Bi(),(e=ut)?(e=Dm(e,Cn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:ki!==null?{id:Bn,overflow:On}:null,retryLane:536870912,hydrationErrors:null},o=nd(e),o.return=i,i.child=o,kt=i,ut=null)):e=null,e===null)throw zi(i);return mc(e)?i.lanes=32:i.lanes=536870912,null}var E=s.children;return s=s.fallback,d?(Bi(),d=i.mode,E=cs({mode:"hidden",children:E},d),s=cl(s,d,o,null),E.return=i,s.return=i,E.sibling=s,i.child=E,s=i.child,s.memoizedState=Du(o),s.childLanes=Iu(e,_,o),i.memoizedState=wu,Yo(null,s)):(Vi(i),Uu(i,E))}var b=e.memoizedState;if(b!==null&&(E=b.dehydrated,E!==null)){if(h)i.flags&256?(Vi(i),i.flags&=-257,i=ku(e,i,o)):i.memoizedState!==null?(Bi(),i.child=e.child,i.flags|=128,i=null):(Bi(),E=s.fallback,d=i.mode,s=cs({mode:"visible",children:s.children},d),E=cl(E,d,o,null),E.flags|=2,s.return=i,E.return=i,s.sibling=E,i.child=s,yl(i,e.child,null,o),s=i.child,s.memoizedState=Du(o),s.childLanes=Iu(e,_,o),i.memoizedState=wu,i=Yo(null,s));else if(Vi(i),mc(E)){if(_=E.nextSibling&&E.nextSibling.dataset,_)var H=_.dgst;_=H,s=Error(a(419)),s.stack="",s.digest=_,Io({value:s,source:null,stack:null}),i=ku(e,i,o)}else if(Ct||Vl(e,i,o,!1),_=(o&e.childLanes)!==0,Ct||_){if(_=st,_!==null&&(s=Ml(_,o),s!==0&&s!==b.retryLane))throw b.retryLane=s,ul(e,s),ln(_,e,s),bu;pc(E)||_s(),i=ku(e,i,o)}else pc(E)?(i.flags|=192,i.child=e.child,i=null):(e=b.treeContext,ut=Nn(E.nextSibling),kt=i,Ye=!0,Li=null,Cn=!1,e!==null&&od(i,e),i=Uu(i,s.children),i.flags|=4096);return i}return d?(Bi(),E=s.fallback,d=i.mode,b=e.child,H=b.sibling,s=ai(b,{mode:"hidden",children:s.children}),s.subtreeFlags=b.subtreeFlags&65011712,H!==null?E=ai(H,E):(E=cl(E,d,o,null),E.flags|=2),E.return=i,s.return=i,s.sibling=E,i.child=s,Yo(null,s),s=i.child,E=e.child.memoizedState,E===null?E=Du(o):(d=E.cachePool,d!==null?(b=xt._currentValue,d=d.parent!==b?{parent:b,pool:b}:d):d=fd(),E={baseLanes:E.baseLanes|o,cachePool:d}),s.memoizedState=E,s.childLanes=Iu(e,_,o),i.memoizedState=wu,Yo(e.child,s)):(Vi(i),o=e.child,e=o.sibling,o=ai(o,{mode:"visible",children:s.children}),o.return=i,o.sibling=null,e!==null&&(_=i.deletions,_===null?(i.deletions=[e],i.flags|=16):_.push(e)),i.child=o,i.memoizedState=null,o)}function Uu(e,i){return i=cs({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function cs(e,i){return e=un(22,e,null,i),e.lanes=0,e}function ku(e,i,o){return yl(i,e.child,null,o),e=Uu(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Cp(e,i,o){e.lanes|=i;var s=e.alternate;s!==null&&(s.lanes|=i),Qr(e.return,i,o)}function Lu(e,i,o,s,d,h){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:s,tail:o,tailMode:d,treeForkCount:h}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=s,_.tail=o,_.tailMode=d,_.treeForkCount=h)}function Ap(e,i,o){var s=i.pendingProps,d=s.revealOrder,h=s.tail;s=s.children;var _=_t.current,E=(_&2)!==0;if(E?(_=_&1|2,i.flags|=128):_&=1,ae(_t,_),zt(e,i,s,o),s=Ye?Do:0,!E&&e!==null&&(e.flags&128)!==0)e:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Cp(e,o,i);else if(e.tag===19)Cp(e,o,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break e;for(;e.sibling===null;){if(e.return===null||e.return===i)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(d){case"forwards":for(o=i.child,d=null;o!==null;)e=o.alternate,e!==null&&Wa(e)===null&&(d=o),o=o.sibling;o=d,o===null?(d=i.child,i.child=null):(d=o.sibling,o.sibling=null),Lu(i,!1,d,o,h,s);break;case"backwards":case"unstable_legacy-backwards":for(o=null,d=i.child,i.child=null;d!==null;){if(e=d.alternate,e!==null&&Wa(e)===null){i.child=d;break}e=d.sibling,d.sibling=o,o=d,d=e}Lu(i,!0,o,null,h,s);break;case"together":Lu(i,!1,null,null,void 0,s);break;default:i.memoizedState=null}return i.child}function di(e,i,o){if(e!==null&&(i.dependencies=e.dependencies),Fi|=i.lanes,(o&i.childLanes)===0)if(e!==null){if(Vl(e,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(a(153));if(i.child!==null){for(e=i.child,o=ai(e,e.pendingProps),i.child=o,o.return=i;e.sibling!==null;)e=e.sibling,o=o.sibling=ai(e,e.pendingProps),o.return=i;o.sibling=null}return i.child}function zu(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Ya(e)))}function hv(e,i,o){switch(i.tag){case 3:W(i,i.stateNode.containerInfo),Gi(i,xt,e.memoizedState.cache),fl();break;case 27:case 5:wt(i);break;case 4:W(i,i.stateNode.containerInfo);break;case 10:Gi(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,su(i),null;break;case 13:var s=i.memoizedState;if(s!==null)return s.dehydrated!==null?(Vi(i),i.flags|=128,null):(o&i.child.childLanes)!==0?Ep(e,i,o):(Vi(i),e=di(e,i,o),e!==null?e.sibling:null);Vi(i);break;case 19:var d=(e.flags&128)!==0;if(s=(o&i.childLanes)!==0,s||(Vl(e,i,o,!1),s=(o&i.childLanes)!==0),d){if(s)return Ap(e,i,o);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ae(_t,_t.current),s)break;return null;case 22:return i.lanes=0,yp(e,i,o,i.pendingProps);case 24:Gi(i,xt,e.memoizedState.cache)}return di(e,i,o)}function Np(e,i,o){if(e!==null)if(e.memoizedProps!==i.pendingProps)Ct=!0;else{if(!zu(e,o)&&(i.flags&128)===0)return Ct=!1,hv(e,i,o);Ct=(e.flags&131072)!==0}else Ct=!1,Ye&&(i.flags&1048576)!==0&&ld(i,Do,i.index);switch(i.lanes=0,i.tag){case 16:e:{var s=i.pendingProps;if(e=hl(i.elementType),i.type=e,typeof e=="function")Vr(e)?(s=_l(e,s),i.tag=1,i=Sp(null,i,e,s,o)):(i.tag=0,i=Ru(null,i,e,s,o));else{if(e!=null){var d=e.$$typeof;if(d===B){i.tag=11,i=mp(null,i,e,s,o);break e}else if(d===ne){i.tag=14,i=hp(null,i,e,s,o);break e}}throw i=k(e)||e,Error(a(306,i,""))}}return i;case 0:return Ru(e,i,i.type,i.pendingProps,o);case 1:return s=i.type,d=_l(s,i.pendingProps),Sp(e,i,s,d,o);case 3:e:{if(W(i,i.stateNode.containerInfo),e===null)throw Error(a(387));s=i.pendingProps;var h=i.memoizedState;d=h.element,nu(e,i),Po(i,s,null,o);var _=i.memoizedState;if(s=_.cache,Gi(i,xt,s),s!==h.cache&&$r(i,[xt],o,!0),Ho(),s=_.element,h.isDehydrated)if(h={element:s,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){i=xp(e,i,s,o);break e}else if(s!==d){d=Sn(Error(a(424)),i),Io(d),i=xp(e,i,s,o);break e}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ut=Nn(e.firstChild),kt=i,Ye=!0,Li=null,Cn=!0,o=yd(i,null,s,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(fl(),s===d){i=di(e,i,o);break e}zt(e,i,s,o)}i=i.child}return i;case 26:return us(e,i),e===null?(o=Gm(i.type,null,i.pendingProps,null))?i.memoizedState=o:Ye||(o=i.type,e=i.pendingProps,s=Ns(Me.current).createElement(o),s[bt]=i,s[Ht]=e,Gt(s,o,e),I(s),i.stateNode=s):i.memoizedState=Gm(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return wt(i),e===null&&Ye&&(s=i.stateNode=km(i.type,i.pendingProps,Me.current),kt=i,Cn=!0,d=ut,$i(i.type)?(hc=d,ut=Nn(s.firstChild)):ut=d),zt(e,i,i.pendingProps.children,o),us(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Ye&&((d=s=ut)&&(s=Fv(s,i.type,i.pendingProps,Cn),s!==null?(i.stateNode=s,kt=i,ut=Nn(s.firstChild),Cn=!1,d=!0):d=!1),d||zi(i)),wt(i),d=i.type,h=i.pendingProps,_=e!==null?e.memoizedProps:null,s=h.children,cc(d,h)?s=null:_!==null&&cc(d,_)&&(i.flags|=32),i.memoizedState!==null&&(d=uu(e,i,av,null,null,o),oa._currentValue=d),us(e,i),zt(e,i,s,o),i.child;case 6:return e===null&&Ye&&((e=o=ut)&&(o=Jv(o,i.pendingProps,Cn),o!==null?(i.stateNode=o,kt=i,ut=null,e=!0):e=!1),e||zi(i)),null;case 13:return Ep(e,i,o);case 4:return W(i,i.stateNode.containerInfo),s=i.pendingProps,e===null?i.child=yl(i,null,s,o):zt(e,i,s,o),i.child;case 11:return mp(e,i,i.type,i.pendingProps,o);case 7:return zt(e,i,i.pendingProps,o),i.child;case 8:return zt(e,i,i.pendingProps.children,o),i.child;case 12:return zt(e,i,i.pendingProps.children,o),i.child;case 10:return s=i.pendingProps,Gi(i,i.type,s.value),zt(e,i,s.children,o),i.child;case 9:return d=i.type._context,s=i.pendingProps.children,pl(i),d=Lt(d),s=s(d),i.flags|=1,zt(e,i,s,o),i.child;case 14:return hp(e,i,i.type,i.pendingProps,o);case 15:return gp(e,i,i.type,i.pendingProps,o);case 19:return Ap(e,i,o);case 31:return mv(e,i,o);case 22:return yp(e,i,o,i.pendingProps);case 24:return pl(i),s=Lt(xt),e===null?(d=jr(),d===null&&(d=st,h=Zr(),d.pooledCache=h,h.refCount++,h!==null&&(d.pooledCacheLanes|=o),d=h),i.memoizedState={parent:s,cache:d},tu(i),Gi(i,xt,d)):((e.lanes&o)!==0&&(nu(e,i),Po(i,null,null,o),Ho()),d=e.memoizedState,h=i.memoizedState,d.parent!==s?(d={parent:s,cache:s},i.memoizedState=d,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=d),Gi(i,xt,s)):(s=h.cache,Gi(i,xt,s),s!==d.cache&&$r(i,[xt],o,!0))),zt(e,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function pi(e){e.flags|=4}function Gu(e,i,o,s,d){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(d&335544128)===d)if(e.stateNode.complete)e.flags|=8192;else if(jp())e.flags|=8192;else throw gl=Ka,eu}else e.flags&=-16777217}function Mp(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Bm(i))if(jp())e.flags|=8192;else throw gl=Ka,eu}function fs(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?ht():536870912,e.lanes|=i,jl|=i)}function Fo(e,i){if(!Ye)switch(e.tailMode){case"hidden":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var s=null;o!==null;)o.alternate!==null&&(s=o),o=o.sibling;s===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function ct(e){var i=e.alternate!==null&&e.alternate.child===e.child,o=0,s=0;if(i)for(var d=e.child;d!==null;)o|=d.lanes|d.childLanes,s|=d.subtreeFlags&65011712,s|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)o|=d.lanes|d.childLanes,s|=d.subtreeFlags,s|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=s,e.childLanes=o,i}function gv(e,i,o){var s=i.pendingProps;switch(Fr(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(i),null;case 1:return ct(i),null;case 3:return o=i.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),ui(xt),Ge(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(ql(i)?pi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Xr())),ct(i),null;case 26:var d=i.type,h=i.memoizedState;return e===null?(pi(i),h!==null?(ct(i),Mp(i,h)):(ct(i),Gu(i,d,null,s,o))):h?h!==e.memoizedState?(pi(i),ct(i),Mp(i,h)):(ct(i),i.flags&=-16777217):(e=e.memoizedProps,e!==s&&pi(i),ct(i),Gu(i,d,e,s,o)),null;case 27:if(Nt(i),o=Me.current,d=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==s&&pi(i);else{if(!s){if(i.stateNode===null)throw Error(a(166));return ct(i),null}e=j.current,ql(i)?ad(i):(e=km(d,s,o),i.stateNode=e,pi(i))}return ct(i),null;case 5:if(Nt(i),d=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==s&&pi(i);else{if(!s){if(i.stateNode===null)throw Error(a(166));return ct(i),null}if(h=j.current,ql(i))ad(i);else{var _=Ns(Me.current);switch(h){case 1:h=_.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:h=_.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":h=_.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":h=_.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":h=_.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof s.is=="string"?_.createElement("select",{is:s.is}):_.createElement("select"),s.multiple?h.multiple=!0:s.size&&(h.size=s.size);break;default:h=typeof s.is=="string"?_.createElement(d,{is:s.is}):_.createElement(d)}}h[bt]=i,h[Ht]=s;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)h.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=h;e:switch(Gt(h,d,s),d){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&pi(i)}}return ct(i),Gu(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,o),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==s&&pi(i);else{if(typeof s!="string"&&i.stateNode===null)throw Error(a(166));if(e=Me.current,ql(i)){if(e=i.stateNode,o=i.memoizedProps,s=null,d=kt,d!==null)switch(d.tag){case 27:case 5:s=d.memoizedProps}e[bt]=i,e=!!(e.nodeValue===o||s!==null&&s.suppressHydrationWarning===!0||Em(e.nodeValue,o)),e||zi(i,!0)}else e=Ns(e).createTextNode(s),e[bt]=i,i.stateNode=e}return ct(i),null;case 31:if(o=i.memoizedState,e===null||e.memoizedState!==null){if(s=ql(i),o!==null){if(e===null){if(!s)throw Error(a(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[bt]=i}else fl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ct(i),e=!1}else o=Xr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),e=!0;if(!e)return i.flags&256?(fn(i),i):(fn(i),null);if((i.flags&128)!==0)throw Error(a(558))}return ct(i),null;case 13:if(s=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=ql(i),s!==null&&s.dehydrated!==null){if(e===null){if(!d)throw Error(a(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(a(317));d[bt]=i}else fl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ct(i),d=!1}else d=Xr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return i.flags&256?(fn(i),i):(fn(i),null)}return fn(i),(i.flags&128)!==0?(i.lanes=o,i):(o=s!==null,e=e!==null&&e.memoizedState!==null,o&&(s=i.child,d=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(d=s.alternate.memoizedState.cachePool.pool),h=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),h!==d&&(s.flags|=2048)),o!==e&&o&&(i.child.flags|=8192),fs(i,i.updateQueue),ct(i),null);case 4:return Ge(),e===null&&oc(i.stateNode.containerInfo),ct(i),null;case 10:return ui(i.type),ct(i),null;case 19:if(V(_t),s=i.memoizedState,s===null)return ct(i),null;if(d=(i.flags&128)!==0,h=s.rendering,h===null)if(d)Fo(s,!1);else{if(vt!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(h=Wa(e),h!==null){for(i.flags|=128,Fo(s,!1),e=h.updateQueue,i.updateQueue=e,fs(i,e),i.subtreeFlags=0,e=o,o=i.child;o!==null;)td(o,e),o=o.sibling;return ae(_t,_t.current&1|2),Ye&&si(i,s.treeForkCount),i.child}e=e.sibling}s.tail!==null&&at()>gs&&(i.flags|=128,d=!0,Fo(s,!1),i.lanes=4194304)}else{if(!d)if(e=Wa(h),e!==null){if(i.flags|=128,d=!0,e=e.updateQueue,i.updateQueue=e,fs(i,e),Fo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!h.alternate&&!Ye)return ct(i),null}else 2*at()-s.renderingStartTime>gs&&o!==536870912&&(i.flags|=128,d=!0,Fo(s,!1),i.lanes=4194304);s.isBackwards?(h.sibling=i.child,i.child=h):(e=s.last,e!==null?e.sibling=h:i.child=h,s.last=h)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=at(),e.sibling=null,o=_t.current,ae(_t,d?o&1|2:o&1),Ye&&si(i,s.treeForkCount),e):(ct(i),null);case 22:case 23:return fn(i),au(),s=i.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(i.flags|=8192):s&&(i.flags|=8192),s?(o&536870912)!==0&&(i.flags&128)===0&&(ct(i),i.subtreeFlags&6&&(i.flags|=8192)):ct(i),o=i.updateQueue,o!==null&&fs(i,o.retryQueue),o=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),s=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==o&&(i.flags|=2048),e!==null&&V(ml),null;case 24:return o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),ui(xt),ct(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function yv(e,i){switch(Fr(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return ui(xt),Ge(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Nt(i),null;case 31:if(i.memoizedState!==null){if(fn(i),i.alternate===null)throw Error(a(340));fl()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(fn(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(a(340));fl()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return V(_t),null;case 4:return Ge(),null;case 10:return ui(i.type),null;case 22:case 23:return fn(i),au(),e!==null&&V(ml),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return ui(xt),null;case 25:return null;default:return null}}function bp(e,i){switch(Fr(i),i.tag){case 3:ui(xt),Ge();break;case 26:case 27:case 5:Nt(i);break;case 4:Ge();break;case 31:i.memoizedState!==null&&fn(i);break;case 13:fn(i);break;case 19:V(_t);break;case 10:ui(i.type);break;case 22:case 23:fn(i),au(),e!==null&&V(ml);break;case 24:ui(xt)}}function Jo(e,i){try{var o=i.updateQueue,s=o!==null?o.lastEffect:null;if(s!==null){var d=s.next;o=d;do{if((o.tag&e)===e){s=void 0;var h=o.create,_=o.inst;s=h(),_.destroy=s}o=o.next}while(o!==d)}}catch(E){tt(i,i.return,E)}}function Oi(e,i,o){try{var s=i.updateQueue,d=s!==null?s.lastEffect:null;if(d!==null){var h=d.next;s=h;do{if((s.tag&e)===e){var _=s.inst,E=_.destroy;if(E!==void 0){_.destroy=void 0,d=i;var b=o,H=E;try{H()}catch(X){tt(d,b,X)}}}s=s.next}while(s!==h)}}catch(X){tt(i,i.return,X)}}function Rp(e){var i=e.updateQueue;if(i!==null){var o=e.stateNode;try{_d(i,o)}catch(s){tt(e,e.return,s)}}}function wp(e,i,o){o.props=_l(e.type,e.memoizedProps),o.state=e.memoizedState;try{o.componentWillUnmount()}catch(s){tt(e,i,s)}}function Xo(e,i){try{var o=e.ref;if(o!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof o=="function"?e.refCleanup=o(s):o.current=s}}catch(d){tt(e,i,d)}}function Yn(e,i){var o=e.ref,s=e.refCleanup;if(o!==null)if(typeof s=="function")try{s()}catch(d){tt(e,i,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){tt(e,i,d)}else o.current=null}function Dp(e){var i=e.type,o=e.memoizedProps,s=e.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&s.focus();break e;case"img":o.src?s.src=o.src:o.srcSet&&(s.srcset=o.srcSet)}}catch(d){tt(e,e.return,d)}}function Hu(e,i,o){try{var s=e.stateNode;Pv(s,e.type,o,i),s[Ht]=i}catch(d){tt(e,e.return,d)}}function Ip(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&$i(e.type)||e.tag===4}function Pu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ip(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&$i(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qu(e,i,o){var s=e.tag;if(s===5||s===6)e=e.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(e,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(e),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=li));else if(s!==4&&(s===27&&$i(e.type)&&(o=e.stateNode,i=null),e=e.child,e!==null))for(qu(e,i,o),e=e.sibling;e!==null;)qu(e,i,o),e=e.sibling}function ds(e,i,o){var s=e.tag;if(s===5||s===6)e=e.stateNode,i?o.insertBefore(e,i):o.appendChild(e);else if(s!==4&&(s===27&&$i(e.type)&&(o=e.stateNode),e=e.child,e!==null))for(ds(e,i,o),e=e.sibling;e!==null;)ds(e,i,o),e=e.sibling}function Up(e){var i=e.stateNode,o=e.memoizedProps;try{for(var s=e.type,d=i.attributes;d.length;)i.removeAttributeNode(d[0]);Gt(i,s,o),i[bt]=e,i[Ht]=o}catch(h){tt(e,e.return,h)}}var mi=!1,At=!1,Vu=!1,kp=typeof WeakSet=="function"?WeakSet:Set,Dt=null;function vv(e,i){if(e=e.containerInfo,rc=Us,e=Jf(e),kr(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else e:{o=(o=e.ownerDocument)&&o.defaultView||window;var s=o.getSelection&&o.getSelection();if(s&&s.rangeCount!==0){o=s.anchorNode;var d=s.anchorOffset,h=s.focusNode;s=s.focusOffset;try{o.nodeType,h.nodeType}catch{o=null;break e}var _=0,E=-1,b=-1,H=0,X=0,Z=e,q=null;t:for(;;){for(var F;Z!==o||d!==0&&Z.nodeType!==3||(E=_+d),Z!==h||s!==0&&Z.nodeType!==3||(b=_+s),Z.nodeType===3&&(_+=Z.nodeValue.length),(F=Z.firstChild)!==null;)q=Z,Z=F;for(;;){if(Z===e)break t;if(q===o&&++H===d&&(E=_),q===h&&++X===s&&(b=_),(F=Z.nextSibling)!==null)break;Z=q,q=Z.parentNode}Z=F}o=E===-1||b===-1?null:{start:E,end:b}}else o=null}o=o||{start:0,end:0}}else o=null;for(uc={focusedElem:e,selectionRange:o},Us=!1,Dt=i;Dt!==null;)if(i=Dt,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,Dt=e;else for(;Dt!==null;){switch(i=Dt,h=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(o=0;o<e.length;o++)d=e[o],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,o=i,d=h.memoizedProps,h=h.memoizedState,s=o.stateNode;try{var ve=_l(o.type,d);e=s.getSnapshotBeforeUpdate(ve,h),s.__reactInternalSnapshotBeforeUpdate=e}catch(we){tt(o,o.return,we)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,o=e.nodeType,o===9)dc(e);else if(o===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":dc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=i.sibling,e!==null){e.return=i.return,Dt=e;break}Dt=i.return}}function Lp(e,i,o){var s=o.flags;switch(o.tag){case 0:case 11:case 15:gi(e,o),s&4&&Jo(5,o);break;case 1:if(gi(e,o),s&4)if(e=o.stateNode,i===null)try{e.componentDidMount()}catch(_){tt(o,o.return,_)}else{var d=_l(o.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(d,i,e.__reactInternalSnapshotBeforeUpdate)}catch(_){tt(o,o.return,_)}}s&64&&Rp(o),s&512&&Xo(o,o.return);break;case 3:if(gi(e,o),s&64&&(e=o.updateQueue,e!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{_d(e,i)}catch(_){tt(o,o.return,_)}}break;case 27:i===null&&s&4&&Up(o);case 26:case 5:gi(e,o),i===null&&s&4&&Dp(o),s&512&&Xo(o,o.return);break;case 12:gi(e,o);break;case 31:gi(e,o),s&4&&Hp(e,o);break;case 13:gi(e,o),s&4&&Pp(e,o),s&64&&(e=o.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(o=Mv.bind(null,o),Xv(e,o))));break;case 22:if(s=o.memoizedState!==null||mi,!s){i=i!==null&&i.memoizedState!==null||At,d=mi;var h=At;mi=s,(At=i)&&!h?yi(e,o,(o.subtreeFlags&8772)!==0):gi(e,o),mi=d,At=h}break;case 30:break;default:gi(e,o)}}function zp(e){var i=e.alternate;i!==null&&(e.alternate=null,zp(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&bl(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var mt=null,jt=!1;function hi(e,i,o){for(o=o.child;o!==null;)Gp(e,i,o),o=o.sibling}function Gp(e,i,o){if(Mt&&typeof Mt.onCommitFiberUnmount=="function")try{Mt.onCommitFiberUnmount(yn,o)}catch{}switch(o.tag){case 26:At||Yn(o,i),hi(e,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:At||Yn(o,i);var s=mt,d=jt;$i(o.type)&&(mt=o.stateNode,jt=!1),hi(e,i,o),na(o.stateNode),mt=s,jt=d;break;case 5:At||Yn(o,i);case 6:if(s=mt,d=jt,mt=null,hi(e,i,o),mt=s,jt=d,mt!==null)if(jt)try{(mt.nodeType===9?mt.body:mt.nodeName==="HTML"?mt.ownerDocument.body:mt).removeChild(o.stateNode)}catch(h){tt(o,i,h)}else try{mt.removeChild(o.stateNode)}catch(h){tt(o,i,h)}break;case 18:mt!==null&&(jt?(e=mt,Rm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,o.stateNode),so(e)):Rm(mt,o.stateNode));break;case 4:s=mt,d=jt,mt=o.stateNode.containerInfo,jt=!0,hi(e,i,o),mt=s,jt=d;break;case 0:case 11:case 14:case 15:Oi(2,o,i),At||Oi(4,o,i),hi(e,i,o);break;case 1:At||(Yn(o,i),s=o.stateNode,typeof s.componentWillUnmount=="function"&&wp(o,i,s)),hi(e,i,o);break;case 21:hi(e,i,o);break;case 22:At=(s=At)||o.memoizedState!==null,hi(e,i,o),At=s;break;default:hi(e,i,o)}}function Hp(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{so(e)}catch(o){tt(i,i.return,o)}}}function Pp(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{so(e)}catch(o){tt(i,i.return,o)}}function _v(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new kp),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new kp),i;default:throw Error(a(435,e.tag))}}function ps(e,i){var o=_v(e);i.forEach(function(s){if(!o.has(s)){o.add(s);var d=bv.bind(null,e,s);s.then(d,d)}})}function en(e,i){var o=i.deletions;if(o!==null)for(var s=0;s<o.length;s++){var d=o[s],h=e,_=i,E=_;e:for(;E!==null;){switch(E.tag){case 27:if($i(E.type)){mt=E.stateNode,jt=!1;break e}break;case 5:mt=E.stateNode,jt=!1;break e;case 3:case 4:mt=E.stateNode.containerInfo,jt=!0;break e}E=E.return}if(mt===null)throw Error(a(160));Gp(h,_,d),mt=null,jt=!1,h=d.alternate,h!==null&&(h.return=null),d.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)qp(i,e),i=i.sibling}var In=null;function qp(e,i){var o=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:en(i,e),tn(e),s&4&&(Oi(3,e,e.return),Jo(3,e),Oi(5,e,e.return));break;case 1:en(i,e),tn(e),s&512&&(At||o===null||Yn(o,o.return)),s&64&&mi&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(o=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=o===null?s:o.concat(s))));break;case 26:var d=In;if(en(i,e),tn(e),s&512&&(At||o===null||Yn(o,o.return)),s&4){var h=o!==null?o.memoizedState:null;if(s=e.memoizedState,o===null)if(s===null)if(e.stateNode===null){e:{s=e.type,o=e.memoizedProps,d=d.ownerDocument||d;t:switch(s){case"title":h=d.getElementsByTagName("title")[0],(!h||h[ll]||h[bt]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=d.createElement(s),d.head.insertBefore(h,d.querySelector("head > title"))),Gt(h,s,o),h[bt]=e,I(h),s=h;break e;case"link":var _=qm("link","href",d).get(s+(o.href||""));if(_){for(var E=0;E<_.length;E++)if(h=_[E],h.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&h.getAttribute("rel")===(o.rel==null?null:o.rel)&&h.getAttribute("title")===(o.title==null?null:o.title)&&h.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){_.splice(E,1);break t}}h=d.createElement(s),Gt(h,s,o),d.head.appendChild(h);break;case"meta":if(_=qm("meta","content",d).get(s+(o.content||""))){for(E=0;E<_.length;E++)if(h=_[E],h.getAttribute("content")===(o.content==null?null:""+o.content)&&h.getAttribute("name")===(o.name==null?null:o.name)&&h.getAttribute("property")===(o.property==null?null:o.property)&&h.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&h.getAttribute("charset")===(o.charSet==null?null:o.charSet)){_.splice(E,1);break t}}h=d.createElement(s),Gt(h,s,o),d.head.appendChild(h);break;default:throw Error(a(468,s))}h[bt]=e,I(h),s=h}e.stateNode=s}else Vm(d,e.type,e.stateNode);else e.stateNode=Pm(d,s,e.memoizedProps);else h!==s?(h===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):h.count--,s===null?Vm(d,e.type,e.stateNode):Pm(d,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Hu(e,e.memoizedProps,o.memoizedProps)}break;case 27:en(i,e),tn(e),s&512&&(At||o===null||Yn(o,o.return)),o!==null&&s&4&&Hu(e,e.memoizedProps,o.memoizedProps);break;case 5:if(en(i,e),tn(e),s&512&&(At||o===null||Yn(o,o.return)),e.flags&32){d=e.stateNode;try{wl(d,"")}catch(ve){tt(e,e.return,ve)}}s&4&&e.stateNode!=null&&(d=e.memoizedProps,Hu(e,d,o!==null?o.memoizedProps:d)),s&1024&&(Vu=!0);break;case 6:if(en(i,e),tn(e),s&4){if(e.stateNode===null)throw Error(a(162));s=e.memoizedProps,o=e.stateNode;try{o.nodeValue=s}catch(ve){tt(e,e.return,ve)}}break;case 3:if(Rs=null,d=In,In=Ms(i.containerInfo),en(i,e),In=d,tn(e),s&4&&o!==null&&o.memoizedState.isDehydrated)try{so(i.containerInfo)}catch(ve){tt(e,e.return,ve)}Vu&&(Vu=!1,Vp(e));break;case 4:s=In,In=Ms(e.stateNode.containerInfo),en(i,e),tn(e),In=s;break;case 12:en(i,e),tn(e);break;case 31:en(i,e),tn(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,ps(e,s)));break;case 13:en(i,e),tn(e),e.child.flags&8192&&e.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(hs=at()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,ps(e,s)));break;case 22:d=e.memoizedState!==null;var b=o!==null&&o.memoizedState!==null,H=mi,X=At;if(mi=H||d,At=X||b,en(i,e),At=X,mi=H,tn(e),s&8192)e:for(i=e.stateNode,i._visibility=d?i._visibility&-2:i._visibility|1,d&&(o===null||b||mi||At||Tl(e)),o=null,i=e;;){if(i.tag===5||i.tag===26){if(o===null){b=o=i;try{if(h=b.stateNode,d)_=h.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{E=b.stateNode;var Z=b.memoizedProps.style,q=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;E.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(ve){tt(b,b.return,ve)}}}else if(i.tag===6){if(o===null){b=i;try{b.stateNode.nodeValue=d?"":b.memoizedProps}catch(ve){tt(b,b.return,ve)}}}else if(i.tag===18){if(o===null){b=i;try{var F=b.stateNode;d?wm(F,!0):wm(b.stateNode,!1)}catch(ve){tt(b,b.return,ve)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break e;for(;i.sibling===null;){if(i.return===null||i.return===e)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}s&4&&(s=e.updateQueue,s!==null&&(o=s.retryQueue,o!==null&&(s.retryQueue=null,ps(e,o))));break;case 19:en(i,e),tn(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,ps(e,s)));break;case 30:break;case 21:break;default:en(i,e),tn(e)}}function tn(e){var i=e.flags;if(i&2){try{for(var o,s=e.return;s!==null;){if(Ip(s)){o=s;break}s=s.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var d=o.stateNode,h=Pu(e);ds(e,h,d);break;case 5:var _=o.stateNode;o.flags&32&&(wl(_,""),o.flags&=-33);var E=Pu(e);ds(e,E,_);break;case 3:case 4:var b=o.stateNode.containerInfo,H=Pu(e);qu(e,H,b);break;default:throw Error(a(161))}}catch(X){tt(e,e.return,X)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Vp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Vp(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function gi(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Lp(e,i.alternate,i),i=i.sibling}function Tl(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Oi(4,i,i.return),Tl(i);break;case 1:Yn(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&wp(i,i.return,o),Tl(i);break;case 27:na(i.stateNode);case 26:case 5:Yn(i,i.return),Tl(i);break;case 22:i.memoizedState===null&&Tl(i);break;case 30:Tl(i);break;default:Tl(i)}e=e.sibling}}function yi(e,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var s=i.alternate,d=e,h=i,_=h.flags;switch(h.tag){case 0:case 11:case 15:yi(d,h,o),Jo(4,h);break;case 1:if(yi(d,h,o),s=h,d=s.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(H){tt(s,s.return,H)}if(s=h,d=s.updateQueue,d!==null){var E=s.stateNode;try{var b=d.shared.hiddenCallbacks;if(b!==null)for(d.shared.hiddenCallbacks=null,d=0;d<b.length;d++)vd(b[d],E)}catch(H){tt(s,s.return,H)}}o&&_&64&&Rp(h),Xo(h,h.return);break;case 27:Up(h);case 26:case 5:yi(d,h,o),o&&s===null&&_&4&&Dp(h),Xo(h,h.return);break;case 12:yi(d,h,o);break;case 31:yi(d,h,o),o&&_&4&&Hp(d,h);break;case 13:yi(d,h,o),o&&_&4&&Pp(d,h);break;case 22:h.memoizedState===null&&yi(d,h,o),Xo(h,h.return);break;case 30:break;default:yi(d,h,o)}i=i.sibling}}function Bu(e,i){var o=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==o&&(e!=null&&e.refCount++,o!=null&&Uo(o))}function Ou(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Uo(e))}function Un(e,i,o,s){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Bp(e,i,o,s),i=i.sibling}function Bp(e,i,o,s){var d=i.flags;switch(i.tag){case 0:case 11:case 15:Un(e,i,o,s),d&2048&&Jo(9,i);break;case 1:Un(e,i,o,s);break;case 3:Un(e,i,o,s),d&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Uo(e)));break;case 12:if(d&2048){Un(e,i,o,s),e=i.stateNode;try{var h=i.memoizedProps,_=h.id,E=h.onPostCommit;typeof E=="function"&&E(_,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(b){tt(i,i.return,b)}}else Un(e,i,o,s);break;case 31:Un(e,i,o,s);break;case 13:Un(e,i,o,s);break;case 23:break;case 22:h=i.stateNode,_=i.alternate,i.memoizedState!==null?h._visibility&2?Un(e,i,o,s):Ko(e,i):h._visibility&2?Un(e,i,o,s):(h._visibility|=2,$l(e,i,o,s,(i.subtreeFlags&10256)!==0||!1)),d&2048&&Bu(_,i);break;case 24:Un(e,i,o,s),d&2048&&Ou(i.alternate,i);break;default:Un(e,i,o,s)}}function $l(e,i,o,s,d){for(d=d&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var h=e,_=i,E=o,b=s,H=_.flags;switch(_.tag){case 0:case 11:case 15:$l(h,_,E,b,d),Jo(8,_);break;case 23:break;case 22:var X=_.stateNode;_.memoizedState!==null?X._visibility&2?$l(h,_,E,b,d):Ko(h,_):(X._visibility|=2,$l(h,_,E,b,d)),d&&H&2048&&Bu(_.alternate,_);break;case 24:$l(h,_,E,b,d),d&&H&2048&&Ou(_.alternate,_);break;default:$l(h,_,E,b,d)}i=i.sibling}}function Ko(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=e,s=i,d=s.flags;switch(s.tag){case 22:Ko(o,s),d&2048&&Bu(s.alternate,s);break;case 24:Ko(o,s),d&2048&&Ou(s.alternate,s);break;default:Ko(o,s)}i=i.sibling}}var Qo=8192;function Zl(e,i,o){if(e.subtreeFlags&Qo)for(e=e.child;e!==null;)Op(e,i,o),e=e.sibling}function Op(e,i,o){switch(e.tag){case 26:Zl(e,i,o),e.flags&Qo&&e.memoizedState!==null&&o_(o,In,e.memoizedState,e.memoizedProps);break;case 5:Zl(e,i,o);break;case 3:case 4:var s=In;In=Ms(e.stateNode.containerInfo),Zl(e,i,o),In=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=Qo,Qo=16777216,Zl(e,i,o),Qo=s):Zl(e,i,o));break;default:Zl(e,i,o)}}function Yp(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function $o(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var s=i[o];Dt=s,Jp(s,e)}Yp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Fp(e),e=e.sibling}function Fp(e){switch(e.tag){case 0:case 11:case 15:$o(e),e.flags&2048&&Oi(9,e,e.return);break;case 3:$o(e);break;case 12:$o(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,ms(e)):$o(e);break;default:$o(e)}}function ms(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var s=i[o];Dt=s,Jp(s,e)}Yp(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Oi(8,i,i.return),ms(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,ms(i));break;default:ms(i)}e=e.sibling}}function Jp(e,i){for(;Dt!==null;){var o=Dt;switch(o.tag){case 0:case 11:case 15:Oi(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var s=o.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Uo(o.memoizedState.cache)}if(s=o.child,s!==null)s.return=o,Dt=s;else e:for(o=e;Dt!==null;){s=Dt;var d=s.sibling,h=s.return;if(zp(s),s===o){Dt=null;break e}if(d!==null){d.return=h,Dt=d;break e}Dt=h}}}var Tv={getCacheForType:function(e){var i=Lt(xt),o=i.data.get(e);return o===void 0&&(o=e(),i.data.set(e,o)),o},cacheSignal:function(){return Lt(xt).controller.signal}},Sv=typeof WeakMap=="function"?WeakMap:Map,je=0,st=null,qe=null,Be=0,et=0,dn=null,Yi=!1,Wl=!1,Yu=!1,vi=0,vt=0,Fi=0,Sl=0,Fu=0,pn=0,jl=0,Zo=null,nn=null,Ju=!1,hs=0,Xp=0,gs=1/0,ys=null,Ji=null,Rt=0,Xi=null,eo=null,_i=0,Xu=0,Ku=null,Kp=null,Wo=0,Qu=null;function mn(){return(je&2)!==0&&Be!==0?Be&-Be:M.T!==null?tc():ti()}function Qp(){if(pn===0)if((Be&536870912)===0||Ye){var e=se;se<<=1,(se&3932160)===0&&(se=262144),pn=e}else pn=536870912;return e=cn.current,e!==null&&(e.flags|=32),pn}function ln(e,i,o){(e===st&&(et===2||et===9)||e.cancelPendingCommit!==null)&&(to(e,0),Ki(e,Be,pn,!1)),$t(e,o),((je&2)===0||e!==st)&&(e===st&&((je&2)===0&&(Sl|=o),vt===4&&Ki(e,Be,pn,!1)),Fn(e))}function $p(e,i,o){if((je&6)!==0)throw Error(a(327));var s=!o&&(i&127)===0&&(i&e.expiredLanes)===0||Re(e,i),d=s?Cv(e,i):Zu(e,i,!0),h=s;do{if(d===0){Wl&&!s&&Ki(e,i,0,!1);break}else{if(o=e.current.alternate,h&&!xv(o)){d=Zu(e,i,!1),h=!1;continue}if(d===2){if(h=i,e.errorRecoveryDisabledLanes&h)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var E=e;d=Zo;var b=E.current.memoizedState.isDehydrated;if(b&&(to(E,_).flags|=256),_=Zu(E,_,!1),_!==2){if(Yu&&!b){E.errorRecoveryDisabledLanes|=h,Sl|=h,d=4;break e}h=nn,nn=d,h!==null&&(nn===null?nn=h:nn.push.apply(nn,h))}d=_}if(h=!1,d!==2)continue}}if(d===1){to(e,0),Ki(e,i,0,!0);break}e:{switch(s=e,h=d,h){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:Ki(s,i,pn,!Yi);break e;case 2:nn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(d=hs+300-at(),10<d)){if(Ki(s,i,pn,!Yi),De(s,0,!0)!==0)break e;_i=i,s.timeoutHandle=Mm(Zp.bind(null,s,o,nn,ys,Ju,i,pn,Sl,jl,Yi,h,"Throttled",-0,0),d);break e}Zp(s,o,nn,ys,Ju,i,pn,Sl,jl,Yi,h,null,-0,0)}}break}while(!0);Fn(e)}function Zp(e,i,o,s,d,h,_,E,b,H,X,Z,q,F){if(e.timeoutHandle=-1,Z=i.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:li},Op(i,h,Z);var ve=(h&62914560)===h?hs-at():(h&4194048)===h?Xp-at():0;if(ve=a_(Z,ve),ve!==null){_i=h,e.cancelPendingCommit=ve(om.bind(null,e,i,h,o,s,d,_,E,b,X,Z,null,q,F)),Ki(e,h,_,!H);return}}om(e,i,h,o,s,d,_,E,b)}function xv(e){for(var i=e;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var s=0;s<o.length;s++){var d=o[s],h=d.getSnapshot;d=d.value;try{if(!rn(h(),d))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ki(e,i,o,s){i&=~Fu,i&=~Sl,e.suspendedLanes|=i,e.pingedLanes&=~i,s&&(e.warmLanes|=i),s=e.expirationTimes;for(var d=i;0<d;){var h=31-St(d),_=1<<h;s[h]=-1,d&=~_}o!==0&&sn(e,o,i)}function vs(){return(je&6)===0?(jo(0),!1):!0}function $u(){if(qe!==null){if(et===0)var e=qe.return;else e=qe,ri=dl=null,du(e),Fl=null,Lo=0,e=qe;for(;e!==null;)bp(e.alternate,e),e=e.return;qe=null}}function to(e,i){var o=e.timeoutHandle;o!==-1&&(e.timeoutHandle=-1,Bv(o)),o=e.cancelPendingCommit,o!==null&&(e.cancelPendingCommit=null,o()),_i=0,$u(),st=e,qe=o=ai(e.current,null),Be=i,et=0,dn=null,Yi=!1,Wl=Re(e,i),Yu=!1,jl=pn=Fu=Sl=Fi=vt=0,nn=Zo=null,Ju=!1,(i&8)!==0&&(i|=i&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=i;0<s;){var d=31-St(s),h=1<<d;i|=e[d],s&=~h}return vi=i,Pa(),o}function Wp(e,i){Le=null,M.H=Oo,i===Yl||i===Xa?(i=md(),et=3):i===eu?(i=md(),et=4):et=i===bu?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,dn=i,qe===null&&(vt=1,ss(e,Sn(i,e.current)))}function jp(){var e=cn.current;return e===null?!0:(Be&4194048)===Be?An===null:(Be&62914560)===Be||(Be&536870912)!==0?e===An:!1}function em(){var e=M.H;return M.H=Oo,e===null?Oo:e}function tm(){var e=M.A;return M.A=Tv,e}function _s(){vt=4,Yi||(Be&4194048)!==Be&&cn.current!==null||(Wl=!0),(Fi&134217727)===0&&(Sl&134217727)===0||st===null||Ki(st,Be,pn,!1)}function Zu(e,i,o){var s=je;je|=2;var d=em(),h=tm();(st!==e||Be!==i)&&(ys=null,to(e,i)),i=!1;var _=vt;e:do try{if(et!==0&&qe!==null){var E=qe,b=dn;switch(et){case 8:$u(),_=6;break e;case 3:case 2:case 9:case 6:cn.current===null&&(i=!0);var H=et;if(et=0,dn=null,no(e,E,b,H),o&&Wl){_=0;break e}break;default:H=et,et=0,dn=null,no(e,E,b,H)}}Ev(),_=vt;break}catch(X){Wp(e,X)}while(!0);return i&&e.shellSuspendCounter++,ri=dl=null,je=s,M.H=d,M.A=h,qe===null&&(st=null,Be=0,Pa()),_}function Ev(){for(;qe!==null;)nm(qe)}function Cv(e,i){var o=je;je|=2;var s=em(),d=tm();st!==e||Be!==i?(ys=null,gs=at()+500,to(e,i)):Wl=Re(e,i);e:do try{if(et!==0&&qe!==null){i=qe;var h=dn;t:switch(et){case 1:et=0,dn=null,no(e,i,h,1);break;case 2:case 9:if(dd(h)){et=0,dn=null,im(i);break}i=function(){et!==2&&et!==9||st!==e||(et=7),Fn(e)},h.then(i,i);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:dd(h)?(et=0,dn=null,im(i)):(et=0,dn=null,no(e,i,h,7));break;case 5:var _=null;switch(qe.tag){case 26:_=qe.memoizedState;case 5:case 27:var E=qe;if(_?Bm(_):E.stateNode.complete){et=0,dn=null;var b=E.sibling;if(b!==null)qe=b;else{var H=E.return;H!==null?(qe=H,Ts(H)):qe=null}break t}}et=0,dn=null,no(e,i,h,5);break;case 6:et=0,dn=null,no(e,i,h,6);break;case 8:$u(),vt=6;break e;default:throw Error(a(462))}}Av();break}catch(X){Wp(e,X)}while(!0);return ri=dl=null,M.H=s,M.A=d,je=o,qe!==null?0:(st=null,Be=0,Pa(),vt)}function Av(){for(;qe!==null&&!Qn();)nm(qe)}function nm(e){var i=Np(e.alternate,e,vi);e.memoizedProps=e.pendingProps,i===null?Ts(e):qe=i}function im(e){var i=e,o=i.alternate;switch(i.tag){case 15:case 0:i=Tp(o,i,i.pendingProps,i.type,void 0,Be);break;case 11:i=Tp(o,i,i.pendingProps,i.type.render,i.ref,Be);break;case 5:du(i);default:bp(o,i),i=qe=td(i,vi),i=Np(o,i,vi)}e.memoizedProps=e.pendingProps,i===null?Ts(e):qe=i}function no(e,i,o,s){ri=dl=null,du(i),Fl=null,Lo=0;var d=i.return;try{if(pv(e,d,i,o,Be)){vt=1,ss(e,Sn(o,e.current)),qe=null;return}}catch(h){if(d!==null)throw qe=d,h;vt=1,ss(e,Sn(o,e.current)),qe=null;return}i.flags&32768?(Ye||s===1?e=!0:Wl||(Be&536870912)!==0?e=!1:(Yi=e=!0,(s===2||s===9||s===3||s===6)&&(s=cn.current,s!==null&&s.tag===13&&(s.flags|=16384))),lm(i,e)):Ts(i)}function Ts(e){var i=e;do{if((i.flags&32768)!==0){lm(i,Yi);return}e=i.return;var o=gv(i.alternate,i,vi);if(o!==null){qe=o;return}if(i=i.sibling,i!==null){qe=i;return}qe=i=e}while(i!==null);vt===0&&(vt=5)}function lm(e,i){do{var o=yv(e.alternate,e);if(o!==null){o.flags&=32767,qe=o;return}if(o=e.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(e=e.sibling,e!==null)){qe=e;return}qe=e=o}while(e!==null);vt=6,qe=null}function om(e,i,o,s,d,h,_,E,b){e.cancelPendingCommit=null;do Ss();while(Rt!==0);if((je&6)!==0)throw Error(a(327));if(i!==null){if(i===e.current)throw Error(a(177));if(h=i.lanes|i.childLanes,h|=Pr,Rn(e,o,h,_,E,b),e===st&&(qe=st=null,Be=0),eo=i,Xi=e,_i=o,Xu=h,Ku=d,Kp=s,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Rv(Yt,function(){return cm(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||s){s=M.T,M.T=null,d=O.p,O.p=2,_=je,je|=4;try{vv(e,i,o)}finally{je=_,O.p=d,M.T=s}}Rt=1,am(),sm(),rm()}}function am(){if(Rt===1){Rt=0;var e=Xi,i=eo,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=M.T,M.T=null;var s=O.p;O.p=2;var d=je;je|=4;try{qp(i,e);var h=uc,_=Jf(e.containerInfo),E=h.focusedElem,b=h.selectionRange;if(_!==E&&E&&E.ownerDocument&&Ff(E.ownerDocument.documentElement,E)){if(b!==null&&kr(E)){var H=b.start,X=b.end;if(X===void 0&&(X=H),"selectionStart"in E)E.selectionStart=H,E.selectionEnd=Math.min(X,E.value.length);else{var Z=E.ownerDocument||document,q=Z&&Z.defaultView||window;if(q.getSelection){var F=q.getSelection(),ve=E.textContent.length,we=Math.min(b.start,ve),ot=b.end===void 0?we:Math.min(b.end,ve);!F.extend&&we>ot&&(_=ot,ot=we,we=_);var U=Yf(E,we),D=Yf(E,ot);if(U&&D&&(F.rangeCount!==1||F.anchorNode!==U.node||F.anchorOffset!==U.offset||F.focusNode!==D.node||F.focusOffset!==D.offset)){var G=Z.createRange();G.setStart(U.node,U.offset),F.removeAllRanges(),we>ot?(F.addRange(G),F.extend(D.node,D.offset)):(G.setEnd(D.node,D.offset),F.addRange(G))}}}}for(Z=[],F=E;F=F.parentNode;)F.nodeType===1&&Z.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Z.length;E++){var Q=Z[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Us=!!rc,uc=rc=null}finally{je=d,O.p=s,M.T=o}}e.current=i,Rt=2}}function sm(){if(Rt===2){Rt=0;var e=Xi,i=eo,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=M.T,M.T=null;var s=O.p;O.p=2;var d=je;je|=4;try{Lp(e,i.alternate,i)}finally{je=d,O.p=s,M.T=o}}Rt=3}}function rm(){if(Rt===4||Rt===3){Rt=0,$n();var e=Xi,i=eo,o=_i,s=Kp;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Rt=5:(Rt=0,eo=Xi=null,um(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(Ji=null),ei(o),i=i.stateNode,Mt&&typeof Mt.onCommitFiberRoot=="function")try{Mt.onCommitFiberRoot(yn,i,void 0,(i.current.flags&128)===128)}catch{}if(s!==null){i=M.T,d=O.p,O.p=2,M.T=null;try{for(var h=e.onRecoverableError,_=0;_<s.length;_++){var E=s[_];h(E.value,{componentStack:E.stack})}}finally{M.T=i,O.p=d}}(_i&3)!==0&&Ss(),Fn(e),d=e.pendingLanes,(o&261930)!==0&&(d&42)!==0?e===Qu?Wo++:(Wo=0,Qu=e):Wo=0,jo(0)}}function um(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Uo(i)))}function Ss(){return am(),sm(),rm(),cm()}function cm(){if(Rt!==5)return!1;var e=Xi,i=Xu;Xu=0;var o=ei(_i),s=M.T,d=O.p;try{O.p=32>o?32:o,M.T=null,o=Ku,Ku=null;var h=Xi,_=_i;if(Rt=0,eo=Xi=null,_i=0,(je&6)!==0)throw Error(a(331));var E=je;if(je|=4,Fp(h.current),Bp(h,h.current,_,o),je=E,jo(0,!1),Mt&&typeof Mt.onPostCommitFiberRoot=="function")try{Mt.onPostCommitFiberRoot(yn,h)}catch{}return!0}finally{O.p=d,M.T=s,um(e,i)}}function fm(e,i,o){i=Sn(o,i),i=Mu(e.stateNode,i,2),e=qi(e,i,2),e!==null&&($t(e,2),Fn(e))}function tt(e,i,o){if(e.tag===3)fm(e,e,o);else for(;i!==null;){if(i.tag===3){fm(i,e,o);break}else if(i.tag===1){var s=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Ji===null||!Ji.has(s))){e=Sn(o,e),o=dp(2),s=qi(i,o,2),s!==null&&(pp(o,s,i,e),$t(s,2),Fn(s));break}}i=i.return}}function Wu(e,i,o){var s=e.pingCache;if(s===null){s=e.pingCache=new Sv;var d=new Set;s.set(i,d)}else d=s.get(i),d===void 0&&(d=new Set,s.set(i,d));d.has(o)||(Yu=!0,d.add(o),e=Nv.bind(null,e,i,o),i.then(e,e))}function Nv(e,i,o){var s=e.pingCache;s!==null&&s.delete(i),e.pingedLanes|=e.suspendedLanes&o,e.warmLanes&=~o,st===e&&(Be&o)===o&&(vt===4||vt===3&&(Be&62914560)===Be&&300>at()-hs?(je&2)===0&&to(e,0):Fu|=o,jl===Be&&(jl=0)),Fn(e)}function dm(e,i){i===0&&(i=ht()),e=ul(e,i),e!==null&&($t(e,i),Fn(e))}function Mv(e){var i=e.memoizedState,o=0;i!==null&&(o=i.retryLane),dm(e,o)}function bv(e,i){var o=0;switch(e.tag){case 31:case 13:var s=e.stateNode,d=e.memoizedState;d!==null&&(o=d.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(a(314))}s!==null&&s.delete(i),dm(e,o)}function Rv(e,i){return dt(e,i)}var xs=null,io=null,ju=!1,Es=!1,ec=!1,Qi=0;function Fn(e){e!==io&&e.next===null&&(io===null?xs=io=e:io=io.next=e),Es=!0,ju||(ju=!0,Dv())}function jo(e,i){if(!ec&&Es){ec=!0;do for(var o=!1,s=xs;s!==null;){if(e!==0){var d=s.pendingLanes;if(d===0)var h=0;else{var _=s.suspendedLanes,E=s.pingedLanes;h=(1<<31-St(42|e)+1)-1,h&=d&~(_&~E),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(o=!0,gm(s,h))}else h=Be,h=De(s,s===st?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(h&3)===0||Re(s,h)||(o=!0,gm(s,h));s=s.next}while(o);ec=!1}}function wv(){pm()}function pm(){Es=ju=!1;var e=0;Qi!==0&&Vv()&&(e=Qi);for(var i=at(),o=null,s=xs;s!==null;){var d=s.next,h=mm(s,i);h===0?(s.next=null,o===null?xs=d:o.next=d,d===null&&(io=o)):(o=s,(e!==0||(h&3)!==0)&&(Es=!0)),s=d}Rt!==0&&Rt!==5||jo(e),Qi!==0&&(Qi=0)}function mm(e,i){for(var o=e.suspendedLanes,s=e.pingedLanes,d=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var _=31-St(h),E=1<<_,b=d[_];b===-1?((E&o)===0||(E&s)!==0)&&(d[_]=rt(E,i)):b<=i&&(e.expiredLanes|=E),h&=~E}if(i=st,o=Be,o=De(e,e===i?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,o===0||e===i&&(et===2||et===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&Ot(s),e.callbackNode=null,e.callbackPriority=0;if((o&3)===0||Re(e,o)){if(i=o&-o,i===e.callbackPriority)return i;switch(s!==null&&Ot(s),ei(o)){case 2:case 8:o=He;break;case 32:o=Yt;break;case 268435456:o=nt;break;default:o=Yt}return s=hm.bind(null,e),o=dt(o,s),e.callbackPriority=i,e.callbackNode=o,i}return s!==null&&s!==null&&Ot(s),e.callbackPriority=2,e.callbackNode=null,2}function hm(e,i){if(Rt!==0&&Rt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var o=e.callbackNode;if(Ss()&&e.callbackNode!==o)return null;var s=Be;return s=De(e,e===st?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:($p(e,s,i),mm(e,at()),e.callbackNode!=null&&e.callbackNode===o?hm.bind(null,e):null)}function gm(e,i){if(Ss())return null;$p(e,i,!0)}function Dv(){Ov(function(){(je&6)!==0?dt(Zn,wv):pm()})}function tc(){if(Qi===0){var e=Bl;e===0&&(e=P,P<<=1,(P&261888)===0&&(P=256)),Qi=e}return Qi}function ym(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Da(""+e)}function vm(e,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,e.id&&o.setAttribute("form",e.id),i.parentNode.insertBefore(o,i),e=new FormData(e),o.parentNode.removeChild(o),e}function Iv(e,i,o,s,d){if(i==="submit"&&o&&o.stateNode===d){var h=ym((d[Ht]||null).action),_=s.submitter;_&&(i=(i=_[Ht]||null)?ym(i.formAction):_.getAttribute("formAction"),i!==null&&(h=i,_=null));var E=new La("action","action",null,s,d);e.push({event:E,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Qi!==0){var b=_?vm(d,_):new FormData(d);Su(o,{pending:!0,data:b,method:d.method,action:h},null,b)}}else typeof h=="function"&&(E.preventDefault(),b=_?vm(d,_):new FormData(d),Su(o,{pending:!0,data:b,method:d.method,action:h},h,b))},currentTarget:d}]})}}for(var nc=0;nc<Hr.length;nc++){var ic=Hr[nc],Uv=ic.toLowerCase(),kv=ic[0].toUpperCase()+ic.slice(1);Dn(Uv,"on"+kv)}Dn(Qf,"onAnimationEnd"),Dn($f,"onAnimationIteration"),Dn(Zf,"onAnimationStart"),Dn("dblclick","onDoubleClick"),Dn("focusin","onFocus"),Dn("focusout","onBlur"),Dn($y,"onTransitionRun"),Dn(Zy,"onTransitionStart"),Dn(Wy,"onTransitionCancel"),Dn(Wf,"onTransitionEnd"),ce("onMouseEnter",["mouseout","mouseover"]),ce("onMouseLeave",["mouseout","mouseover"]),ce("onPointerEnter",["pointerout","pointerover"]),ce("onPointerLeave",["pointerout","pointerover"]),me("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),me("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),me("onBeforeInput",["compositionend","keypress","textInput","paste"]),me("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),me("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),me("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ea="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ea));function _m(e,i){i=(i&4)!==0;for(var o=0;o<e.length;o++){var s=e[o],d=s.event;s=s.listeners;e:{var h=void 0;if(i)for(var _=s.length-1;0<=_;_--){var E=s[_],b=E.instance,H=E.currentTarget;if(E=E.listener,b!==h&&d.isPropagationStopped())break e;h=E,d.currentTarget=H;try{h(d)}catch(X){Ha(X)}d.currentTarget=null,h=b}else for(_=0;_<s.length;_++){if(E=s[_],b=E.instance,H=E.currentTarget,E=E.listener,b!==h&&d.isPropagationStopped())break e;h=E,d.currentTarget=H;try{h(d)}catch(X){Ha(X)}d.currentTarget=null,h=b}}}}function Ve(e,i){var o=i[So];o===void 0&&(o=i[So]=new Set);var s=e+"__bubble";o.has(s)||(Tm(i,e,2,!1),o.add(s))}function lc(e,i,o){var s=0;i&&(s|=4),Tm(o,e,s,i)}var Cs="_reactListening"+Math.random().toString(36).slice(2);function oc(e){if(!e[Cs]){e[Cs]=!0,Y.forEach(function(o){o!=="selectionchange"&&(Lv.has(o)||lc(o,!1,e),lc(o,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Cs]||(i[Cs]=!0,lc("selectionchange",!1,i))}}function Tm(e,i,o,s){switch(Qm(i)){case 2:var d=u_;break;case 8:d=c_;break;default:d=Tc}o=d.bind(null,i,o,e),d=void 0,!Ar||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),s?d!==void 0?e.addEventListener(i,o,{capture:!0,passive:d}):e.addEventListener(i,o,!0):d!==void 0?e.addEventListener(i,o,{passive:d}):e.addEventListener(i,o,!1)}function ac(e,i,o,s,d){var h=s;if((i&1)===0&&(i&2)===0&&s!==null)e:for(;;){if(s===null)return;var _=s.tag;if(_===3||_===4){var E=s.stateNode.containerInfo;if(E===d)break;if(_===4)for(_=s.return;_!==null;){var b=_.tag;if((b===3||b===4)&&_.stateNode.containerInfo===d)return;_=_.return}for(;E!==null;){if(_=wn(E),_===null)return;if(b=_.tag,b===5||b===6||b===26||b===27){s=h=_;continue e}E=E.parentNode}}s=s.return}Af(function(){var H=h,X=Er(o),Z=[];e:{var q=jf.get(e);if(q!==void 0){var F=La,ve=e;switch(e){case"keypress":if(Ua(o)===0)break e;case"keydown":case"keyup":F=by;break;case"focusin":ve="focus",F=Rr;break;case"focusout":ve="blur",F=Rr;break;case"beforeblur":case"afterblur":F=Rr;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=bf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=gy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=Dy;break;case Qf:case $f:case Zf:F=_y;break;case Wf:F=Uy;break;case"scroll":case"scrollend":F=my;break;case"wheel":F=Ly;break;case"copy":case"cut":case"paste":F=Sy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=wf;break;case"toggle":case"beforetoggle":F=Gy}var we=(i&4)!==0,ot=!we&&(e==="scroll"||e==="scrollend"),U=we?q!==null?q+"Capture":null:q;we=[];for(var D=H,G;D!==null;){var Q=D;if(G=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||G===null||U===null||(Q=xo(D,U),Q!=null&&we.push(ta(D,Q,G))),ot)break;D=D.return}0<we.length&&(q=new F(q,ve,null,o,X),Z.push({event:q,listeners:we}))}}if((i&7)===0){e:{if(q=e==="mouseover"||e==="pointerover",F=e==="mouseout"||e==="pointerout",q&&o!==xr&&(ve=o.relatedTarget||o.fromElement)&&(wn(ve)||ve[Di]))break e;if((F||q)&&(q=X.window===X?X:(q=X.ownerDocument)?q.defaultView||q.parentWindow:window,F?(ve=o.relatedTarget||o.toElement,F=H,ve=ve?wn(ve):null,ve!==null&&(ot=c(ve),we=ve.tag,ve!==ot||we!==5&&we!==27&&we!==6)&&(ve=null)):(F=null,ve=H),F!==ve)){if(we=bf,Q="onMouseLeave",U="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(we=wf,Q="onPointerLeave",U="onPointerEnter",D="pointer"),ot=F==null?q:ol(F),G=ve==null?q:ol(ve),q=new we(Q,D+"leave",F,o,X),q.target=ot,q.relatedTarget=G,Q=null,wn(X)===H&&(we=new we(U,D+"enter",ve,o,X),we.target=G,we.relatedTarget=ot,Q=we),ot=Q,F&&ve)t:{for(we=zv,U=F,D=ve,G=0,Q=U;Q;Q=we(Q))G++;Q=0;for(var Ce=D;Ce;Ce=we(Ce))Q++;for(;0<G-Q;)U=we(U),G--;for(;0<Q-G;)D=we(D),Q--;for(;G--;){if(U===D||D!==null&&U===D.alternate){we=U;break t}U=we(U),D=we(D)}we=null}else we=null;F!==null&&Sm(Z,q,F,we,!1),ve!==null&&ot!==null&&Sm(Z,ot,ve,we,!0)}}e:{if(q=H?ol(H):window,F=q.nodeName&&q.nodeName.toLowerCase(),F==="select"||F==="input"&&q.type==="file")var Ke=Hf;else if(zf(q))if(Pf)Ke=Xy;else{Ke=Fy;var _e=Yy}else F=q.nodeName,!F||F.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?H&&Sr(H.elementType)&&(Ke=Hf):Ke=Jy;if(Ke&&(Ke=Ke(e,H))){Gf(Z,Ke,o,X);break e}_e&&_e(e,q,H),e==="focusout"&&H&&q.type==="number"&&H.memoizedProps.value!=null&&Tr(q,"number",q.value)}switch(_e=H?ol(H):window,e){case"focusin":(zf(_e)||_e.contentEditable==="true")&&(kl=_e,Lr=H,wo=null);break;case"focusout":wo=Lr=kl=null;break;case"mousedown":zr=!0;break;case"contextmenu":case"mouseup":case"dragend":zr=!1,Xf(Z,o,X);break;case"selectionchange":if(Qy)break;case"keydown":case"keyup":Xf(Z,o,X)}var ze;if(Dr)e:{switch(e){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else Ul?kf(e,o)&&(Oe="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(Oe="onCompositionStart");Oe&&(Df&&o.locale!=="ko"&&(Ul||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&Ul&&(ze=Nf()):(Ui=X,Nr="value"in Ui?Ui.value:Ui.textContent,Ul=!0)),_e=As(H,Oe),0<_e.length&&(Oe=new Rf(Oe,e,null,o,X),Z.push({event:Oe,listeners:_e}),ze?Oe.data=ze:(ze=Lf(o),ze!==null&&(Oe.data=ze)))),(ze=Py?qy(e,o):Vy(e,o))&&(Oe=As(H,"onBeforeInput"),0<Oe.length&&(_e=new Rf("onBeforeInput","beforeinput",null,o,X),Z.push({event:_e,listeners:Oe}),_e.data=ze)),Iv(Z,e,H,o,X)}_m(Z,i)})}function ta(e,i,o){return{instance:e,listener:i,currentTarget:o}}function As(e,i){for(var o=i+"Capture",s=[];e!==null;){var d=e,h=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||h===null||(d=xo(e,o),d!=null&&s.unshift(ta(e,d,h)),d=xo(e,i),d!=null&&s.push(ta(e,d,h))),e.tag===3)return s;e=e.return}return[]}function zv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Sm(e,i,o,s,d){for(var h=i._reactName,_=[];o!==null&&o!==s;){var E=o,b=E.alternate,H=E.stateNode;if(E=E.tag,b!==null&&b===s)break;E!==5&&E!==26&&E!==27||H===null||(b=H,d?(H=xo(o,h),H!=null&&_.unshift(ta(o,H,b))):d||(H=xo(o,h),H!=null&&_.push(ta(o,H,b)))),o=o.return}_.length!==0&&e.push({event:i,listeners:_})}var Gv=/\r\n?/g,Hv=/\u0000|\uFFFD/g;function xm(e){return(typeof e=="string"?e:""+e).replace(Gv,`
`).replace(Hv,"")}function Em(e,i){return i=xm(i),xm(e)===i}function lt(e,i,o,s,d,h){switch(o){case"children":typeof s=="string"?i==="body"||i==="textarea"&&s===""||wl(e,s):(typeof s=="number"||typeof s=="bigint")&&i!=="body"&&wl(e,""+s);break;case"className":Ze(e,"class",s);break;case"tabIndex":Ze(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Ze(e,o,s);break;case"style":Ef(e,s,h);break;case"data":if(i!=="object"){Ze(e,"data",s);break}case"src":case"href":if(s===""&&(i!=="a"||o!=="href")){e.removeAttribute(o);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(o);break}s=Da(""+s),e.setAttribute(o,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(o==="formAction"?(i!=="input"&&lt(e,i,"name",d.name,d,null),lt(e,i,"formEncType",d.formEncType,d,null),lt(e,i,"formMethod",d.formMethod,d,null),lt(e,i,"formTarget",d.formTarget,d,null)):(lt(e,i,"encType",d.encType,d,null),lt(e,i,"method",d.method,d,null),lt(e,i,"target",d.target,d,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(o);break}s=Da(""+s),e.setAttribute(o,s);break;case"onClick":s!=null&&(e.onclick=li);break;case"onScroll":s!=null&&Ve("scroll",e);break;case"onScrollEnd":s!=null&&Ve("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(o=s.__html,o!=null){if(d.children!=null)throw Error(a(60));e.innerHTML=o}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}o=Da(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(o,""+s):e.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(o,""):e.removeAttribute(o);break;case"capture":case"download":s===!0?e.setAttribute(o,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(o,s):e.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(o,s):e.removeAttribute(o);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(o):e.setAttribute(o,s);break;case"popover":Ve("beforetoggle",e),Ve("toggle",e),Je(e,"popover",s);break;case"xlinkActuate":Xe(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Xe(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Xe(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Xe(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Xe(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Xe(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Xe(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Xe(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Xe(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Je(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=dy.get(o)||o,Je(e,o,s))}}function sc(e,i,o,s,d,h){switch(o){case"style":Ef(e,s,h);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(o=s.__html,o!=null){if(d.children!=null)throw Error(a(60));e.innerHTML=o}}break;case"children":typeof s=="string"?wl(e,s):(typeof s=="number"||typeof s=="bigint")&&wl(e,""+s);break;case"onScroll":s!=null&&Ve("scroll",e);break;case"onScrollEnd":s!=null&&Ve("scrollend",e);break;case"onClick":s!=null&&(e.onclick=li);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!K.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),i=o.slice(2,d?o.length-7:void 0),h=e[Ht]||null,h=h!=null?h[o]:null,typeof h=="function"&&e.removeEventListener(i,h,d),typeof s=="function")){typeof h!="function"&&h!==null&&(o in e?e[o]=null:e.hasAttribute(o)&&e.removeAttribute(o)),e.addEventListener(i,s,d);break e}o in e?e[o]=s:s===!0?e.setAttribute(o,""):Je(e,o,s)}}}function Gt(e,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",e),Ve("load",e);var s=!1,d=!1,h;for(h in o)if(o.hasOwnProperty(h)){var _=o[h];if(_!=null)switch(h){case"src":s=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:lt(e,i,h,_,o,null)}}d&&lt(e,i,"srcSet",o.srcSet,o,null),s&&lt(e,i,"src",o.src,o,null);return;case"input":Ve("invalid",e);var E=h=_=d=null,b=null,H=null;for(s in o)if(o.hasOwnProperty(s)){var X=o[s];if(X!=null)switch(s){case"name":d=X;break;case"type":_=X;break;case"checked":b=X;break;case"defaultChecked":H=X;break;case"value":h=X;break;case"defaultValue":E=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(a(137,i));break;default:lt(e,i,s,X,o,null)}}_f(e,h,E,b,H,_,d,!1);return;case"select":Ve("invalid",e),s=_=h=null;for(d in o)if(o.hasOwnProperty(d)&&(E=o[d],E!=null))switch(d){case"value":h=E;break;case"defaultValue":_=E;break;case"multiple":s=E;default:lt(e,i,d,E,o,null)}i=h,o=_,e.multiple=!!s,i!=null?Rl(e,!!s,i,!1):o!=null&&Rl(e,!!s,o,!0);return;case"textarea":Ve("invalid",e),h=d=s=null;for(_ in o)if(o.hasOwnProperty(_)&&(E=o[_],E!=null))switch(_){case"value":s=E;break;case"defaultValue":d=E;break;case"children":h=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:lt(e,i,_,E,o,null)}Sf(e,s,d,h);return;case"option":for(b in o)if(o.hasOwnProperty(b)&&(s=o[b],s!=null))switch(b){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:lt(e,i,b,s,o,null)}return;case"dialog":Ve("beforetoggle",e),Ve("toggle",e),Ve("cancel",e),Ve("close",e);break;case"iframe":case"object":Ve("load",e);break;case"video":case"audio":for(s=0;s<ea.length;s++)Ve(ea[s],e);break;case"image":Ve("error",e),Ve("load",e);break;case"details":Ve("toggle",e);break;case"embed":case"source":case"link":Ve("error",e),Ve("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in o)if(o.hasOwnProperty(H)&&(s=o[H],s!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:lt(e,i,H,s,o,null)}return;default:if(Sr(i)){for(X in o)o.hasOwnProperty(X)&&(s=o[X],s!==void 0&&sc(e,i,X,s,o,void 0));return}}for(E in o)o.hasOwnProperty(E)&&(s=o[E],s!=null&&lt(e,i,E,s,o,null))}function Pv(e,i,o,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,h=null,_=null,E=null,b=null,H=null,X=null;for(F in o){var Z=o[F];if(o.hasOwnProperty(F)&&Z!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":b=Z;default:s.hasOwnProperty(F)||lt(e,i,F,null,s,Z)}}for(var q in s){var F=s[q];if(Z=o[q],s.hasOwnProperty(q)&&(F!=null||Z!=null))switch(q){case"type":h=F;break;case"name":d=F;break;case"checked":H=F;break;case"defaultChecked":X=F;break;case"value":_=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,i));break;default:F!==Z&&lt(e,i,q,F,s,Z)}}_r(e,_,E,b,H,X,h,d);return;case"select":F=_=E=q=null;for(h in o)if(b=o[h],o.hasOwnProperty(h)&&b!=null)switch(h){case"value":break;case"multiple":F=b;default:s.hasOwnProperty(h)||lt(e,i,h,null,s,b)}for(d in s)if(h=s[d],b=o[d],s.hasOwnProperty(d)&&(h!=null||b!=null))switch(d){case"value":q=h;break;case"defaultValue":E=h;break;case"multiple":_=h;default:h!==b&&lt(e,i,d,h,s,b)}i=E,o=_,s=F,q!=null?Rl(e,!!o,q,!1):!!s!=!!o&&(i!=null?Rl(e,!!o,i,!0):Rl(e,!!o,o?[]:"",!1));return;case"textarea":F=q=null;for(E in o)if(d=o[E],o.hasOwnProperty(E)&&d!=null&&!s.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:lt(e,i,E,null,s,d)}for(_ in s)if(d=s[_],h=o[_],s.hasOwnProperty(_)&&(d!=null||h!=null))switch(_){case"value":q=d;break;case"defaultValue":F=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(a(91));break;default:d!==h&&lt(e,i,_,d,s,h)}Tf(e,q,F);return;case"option":for(var ve in o)if(q=o[ve],o.hasOwnProperty(ve)&&q!=null&&!s.hasOwnProperty(ve))switch(ve){case"selected":e.selected=!1;break;default:lt(e,i,ve,null,s,q)}for(b in s)if(q=s[b],F=o[b],s.hasOwnProperty(b)&&q!==F&&(q!=null||F!=null))switch(b){case"selected":e.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:lt(e,i,b,q,s,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in o)q=o[we],o.hasOwnProperty(we)&&q!=null&&!s.hasOwnProperty(we)&&lt(e,i,we,null,s,q);for(H in s)if(q=s[H],F=o[H],s.hasOwnProperty(H)&&q!==F&&(q!=null||F!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,i));break;default:lt(e,i,H,q,s,F)}return;default:if(Sr(i)){for(var ot in o)q=o[ot],o.hasOwnProperty(ot)&&q!==void 0&&!s.hasOwnProperty(ot)&&sc(e,i,ot,void 0,s,q);for(X in s)q=s[X],F=o[X],!s.hasOwnProperty(X)||q===F||q===void 0&&F===void 0||sc(e,i,X,q,s,F);return}}for(var U in o)q=o[U],o.hasOwnProperty(U)&&q!=null&&!s.hasOwnProperty(U)&&lt(e,i,U,null,s,q);for(Z in s)q=s[Z],F=o[Z],!s.hasOwnProperty(Z)||q===F||q==null&&F==null||lt(e,i,Z,q,s,F)}function Cm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function qv(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,o=performance.getEntriesByType("resource"),s=0;s<o.length;s++){var d=o[s],h=d.transferSize,_=d.initiatorType,E=d.duration;if(h&&E&&Cm(_)){for(_=0,E=d.responseEnd,s+=1;s<o.length;s++){var b=o[s],H=b.startTime;if(H>E)break;var X=b.transferSize,Z=b.initiatorType;X&&Cm(Z)&&(b=b.responseEnd,_+=X*(b<E?1:(E-H)/(b-H)))}if(--s,i+=8*(h+_)/(d.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var rc=null,uc=null;function Ns(e){return e.nodeType===9?e:e.ownerDocument}function Am(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Nm(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function cc(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var fc=null;function Vv(){var e=window.event;return e&&e.type==="popstate"?e===fc?!1:(fc=e,!0):(fc=null,!1)}var Mm=typeof setTimeout=="function"?setTimeout:void 0,Bv=typeof clearTimeout=="function"?clearTimeout:void 0,bm=typeof Promise=="function"?Promise:void 0,Ov=typeof queueMicrotask=="function"?queueMicrotask:typeof bm<"u"?function(e){return bm.resolve(null).then(e).catch(Yv)}:Mm;function Yv(e){setTimeout(function(){throw e})}function $i(e){return e==="head"}function Rm(e,i){var o=i,s=0;do{var d=o.nextSibling;if(e.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"||o==="/&"){if(s===0){e.removeChild(d),so(i);return}s--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")s++;else if(o==="html")na(e.ownerDocument.documentElement);else if(o==="head"){o=e.ownerDocument.head,na(o);for(var h=o.firstChild;h;){var _=h.nextSibling,E=h.nodeName;h[ll]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&h.rel.toLowerCase()==="stylesheet"||o.removeChild(h),h=_}}else o==="body"&&na(e.ownerDocument.body);o=d}while(o);so(i)}function wm(e,i){var o=e;e=0;do{var s=o.nextSibling;if(o.nodeType===1?i?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(i?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),s&&s.nodeType===8)if(o=s.data,o==="/$"){if(e===0)break;e--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||e++;o=s}while(o)}function dc(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":dc(o),bl(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}e.removeChild(o)}}function Fv(e,i,o,s){for(;e.nodeType===1;){var d=o;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[ll])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var h=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=Nn(e.nextSibling),e===null)break}return null}function Jv(e,i,o){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!o||(e=Nn(e.nextSibling),e===null))return null;return e}function Dm(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Nn(e.nextSibling),e===null))return null;return e}function pc(e){return e.data==="$?"||e.data==="$~"}function mc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Xv(e,i){var o=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||o.readyState!=="loading")i();else{var s=function(){i(),o.removeEventListener("DOMContentLoaded",s)};o.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Nn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var hc=null;function Im(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"||o==="/&"){if(i===0)return Nn(e.nextSibling);i--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||i++}e=e.nextSibling}return null}function Um(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(i===0)return e;i--}else o!=="/$"&&o!=="/&"||i++}e=e.previousSibling}return null}function km(e,i,o){switch(i=Ns(o),e){case"html":if(e=i.documentElement,!e)throw Error(a(452));return e;case"head":if(e=i.head,!e)throw Error(a(453));return e;case"body":if(e=i.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function na(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);bl(e)}var Mn=new Map,Lm=new Set;function Ms(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ti=O.d;O.d={f:Kv,r:Qv,D:$v,C:Zv,L:Wv,m:jv,X:t_,S:e_,M:n_};function Kv(){var e=Ti.f(),i=vs();return e||i}function Qv(e){var i=Ii(e);i!==null&&i.tag===5&&i.type==="form"?Wd(i):Ti.r(e)}var lo=typeof document>"u"?null:document;function zm(e,i,o){var s=lo;if(s&&typeof i=="string"&&i){var d=_n(i);d='link[rel="'+e+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),Lm.has(d)||(Lm.add(d),e={rel:e,crossOrigin:o,href:i},s.querySelector(d)===null&&(i=s.createElement("link"),Gt(i,"link",e),I(i),s.head.appendChild(i)))}}function $v(e){Ti.D(e),zm("dns-prefetch",e,null)}function Zv(e,i){Ti.C(e,i),zm("preconnect",e,i)}function Wv(e,i,o){Ti.L(e,i,o);var s=lo;if(s&&e&&i){var d='link[rel="preload"][as="'+_n(i)+'"]';i==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+_n(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+_n(o.imageSizes)+'"]')):d+='[href="'+_n(e)+'"]';var h=d;switch(i){case"style":h=oo(e);break;case"script":h=ao(e)}Mn.has(h)||(e=T({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:e,as:i},o),Mn.set(h,e),s.querySelector(d)!==null||i==="style"&&s.querySelector(ia(h))||i==="script"&&s.querySelector(la(h))||(i=s.createElement("link"),Gt(i,"link",e),I(i),s.head.appendChild(i)))}}function jv(e,i){Ti.m(e,i);var o=lo;if(o&&e){var s=i&&typeof i.as=="string"?i.as:"script",d='link[rel="modulepreload"][as="'+_n(s)+'"][href="'+_n(e)+'"]',h=d;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=ao(e)}if(!Mn.has(h)&&(e=T({rel:"modulepreload",href:e},i),Mn.set(h,e),o.querySelector(d)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(la(h)))return}s=o.createElement("link"),Gt(s,"link",e),I(s),o.head.appendChild(s)}}}function e_(e,i,o){Ti.S(e,i,o);var s=lo;if(s&&e){var d=R(s).hoistableStyles,h=oo(e);i=i||"default";var _=d.get(h);if(!_){var E={loading:0,preload:null};if(_=s.querySelector(ia(h)))E.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":i},o),(o=Mn.get(h))&&gc(e,o);var b=_=s.createElement("link");I(b),Gt(b,"link",e),b._p=new Promise(function(H,X){b.onload=H,b.onerror=X}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,bs(_,i,s)}_={type:"stylesheet",instance:_,count:1,state:E},d.set(h,_)}}}function t_(e,i){Ti.X(e,i);var o=lo;if(o&&e){var s=R(o).hoistableScripts,d=ao(e),h=s.get(d);h||(h=o.querySelector(la(d)),h||(e=T({src:e,async:!0},i),(i=Mn.get(d))&&yc(e,i),h=o.createElement("script"),I(h),Gt(h,"link",e),o.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},s.set(d,h))}}function n_(e,i){Ti.M(e,i);var o=lo;if(o&&e){var s=R(o).hoistableScripts,d=ao(e),h=s.get(d);h||(h=o.querySelector(la(d)),h||(e=T({src:e,async:!0,type:"module"},i),(i=Mn.get(d))&&yc(e,i),h=o.createElement("script"),I(h),Gt(h,"link",e),o.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},s.set(d,h))}}function Gm(e,i,o,s){var d=(d=Me.current)?Ms(d):null;if(!d)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=oo(o.href),o=R(d).hoistableStyles,s=o.get(i),s||(s={type:"style",instance:null,count:0,state:null},o.set(i,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){e=oo(o.href);var h=R(d).hoistableStyles,_=h.get(e);if(_||(d=d.ownerDocument||d,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,_),(h=d.querySelector(ia(e)))&&!h._p&&(_.instance=h,_.state.loading=5),Mn.has(e)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Mn.set(e,o),h||i_(d,e,o,_.state))),i&&s===null)throw Error(a(528,""));return _}if(i&&s!==null)throw Error(a(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ao(o),o=R(d).hoistableScripts,s=o.get(i),s||(s={type:"script",instance:null,count:0,state:null},o.set(i,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function oo(e){return'href="'+_n(e)+'"'}function ia(e){return'link[rel="stylesheet"]['+e+"]"}function Hm(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function i_(e,i,o,s){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?s.loading=1:(i=e.createElement("link"),s.preload=i,i.addEventListener("load",function(){return s.loading|=1}),i.addEventListener("error",function(){return s.loading|=2}),Gt(i,"link",o),I(i),e.head.appendChild(i))}function ao(e){return'[src="'+_n(e)+'"]'}function la(e){return"script[async]"+e}function Pm(e,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var s=e.querySelector('style[data-href~="'+_n(o.href)+'"]');if(s)return i.instance=s,I(s),s;var d=T({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),I(s),Gt(s,"style",d),bs(s,o.precedence,e),i.instance=s;case"stylesheet":d=oo(o.href);var h=e.querySelector(ia(d));if(h)return i.state.loading|=4,i.instance=h,I(h),h;s=Hm(o),(d=Mn.get(d))&&gc(s,d),h=(e.ownerDocument||e).createElement("link"),I(h);var _=h;return _._p=new Promise(function(E,b){_.onload=E,_.onerror=b}),Gt(h,"link",s),i.state.loading|=4,bs(h,o.precedence,e),i.instance=h;case"script":return h=ao(o.src),(d=e.querySelector(la(h)))?(i.instance=d,I(d),d):(s=o,(d=Mn.get(h))&&(s=T({},o),yc(s,d)),e=e.ownerDocument||e,d=e.createElement("script"),I(d),Gt(d,"link",s),e.head.appendChild(d),i.instance=d);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(s=i.instance,i.state.loading|=4,bs(s,o.precedence,e));return i.instance}function bs(e,i,o){for(var s=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=s.length?s[s.length-1]:null,h=d,_=0;_<s.length;_++){var E=s[_];if(E.dataset.precedence===i)h=E;else if(h!==d)break}h?h.parentNode.insertBefore(e,h.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(e,i.firstChild))}function gc(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function yc(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Rs=null;function qm(e,i,o){if(Rs===null){var s=new Map,d=Rs=new Map;d.set(o,s)}else d=Rs,s=d.get(o),s||(s=new Map,d.set(o,s));if(s.has(e))return s;for(s.set(e,null),o=o.getElementsByTagName(e),d=0;d<o.length;d++){var h=o[d];if(!(h[ll]||h[bt]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var _=h.getAttribute(i)||"";_=e+_;var E=s.get(_);E?E.push(h):s.set(_,[h])}}return s}function Vm(e,i,o){e=e.ownerDocument||e,e.head.insertBefore(o,i==="title"?e.querySelector("head > title"):null)}function l_(e,i,o){if(o===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Bm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function o_(e,i,o,s){if(o.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var d=oo(s.href),h=i.querySelector(ia(d));if(h){i=h._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=ws.bind(e),i.then(e,e)),o.state.loading|=4,o.instance=h,I(h);return}h=i.ownerDocument||i,s=Hm(s),(d=Mn.get(d))&&gc(s,d),h=h.createElement("link"),I(h);var _=h;_._p=new Promise(function(E,b){_.onload=E,_.onerror=b}),Gt(h,"link",s),o.instance=h}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(e.count++,o=ws.bind(e),i.addEventListener("load",o),i.addEventListener("error",o))}}var vc=0;function a_(e,i){return e.stylesheets&&e.count===0&&Is(e,e.stylesheets),0<e.count||0<e.imgCount?function(o){var s=setTimeout(function(){if(e.stylesheets&&Is(e,e.stylesheets),e.unsuspend){var h=e.unsuspend;e.unsuspend=null,h()}},6e4+i);0<e.imgBytes&&vc===0&&(vc=62500*qv());var d=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Is(e,e.stylesheets),e.unsuspend)){var h=e.unsuspend;e.unsuspend=null,h()}},(e.imgBytes>vc?50:800)+i);return e.unsuspend=o,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(d)}}:null}function ws(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Is(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ds=null;function Is(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ds=new Map,i.forEach(s_,e),Ds=null,ws.call(e))}function s_(e,i){if(!(i.state.loading&4)){var o=Ds.get(e);if(o)var s=o.get(null);else{o=new Map,Ds.set(e,o);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<d.length;h++){var _=d[h];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(o.set(_.dataset.precedence,_),s=_)}s&&o.set(null,s)}d=i.instance,_=d.getAttribute("data-precedence"),h=o.get(_)||s,h===s&&o.set(null,d),o.set(_,d),this.count++,s=ws.bind(this),d.addEventListener("load",s),d.addEventListener("error",s),h?h.parentNode.insertBefore(d,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),i.state.loading|=4}}var oa={$$typeof:$,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function r_(e,i,o,s,d,h,_,E,b){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.hiddenUpdates=gt(null),this.identifierPrefix=s,this.onUncaughtError=d,this.onCaughtError=h,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function Om(e,i,o,s,d,h,_,E,b,H,X,Z){return e=new r_(e,i,o,_,b,H,X,Z,E),i=1,h===!0&&(i|=24),h=un(3,null,null,i),e.current=h,h.stateNode=e,i=Zr(),i.refCount++,e.pooledCache=i,i.refCount++,h.memoizedState={element:s,isDehydrated:o,cache:i},tu(h),e}function Ym(e){return e?(e=Gl,e):Gl}function Fm(e,i,o,s,d,h){d=Ym(d),s.context===null?s.context=d:s.pendingContext=d,s=Pi(i),s.payload={element:o},h=h===void 0?null:h,h!==null&&(s.callback=h),o=qi(e,s,i),o!==null&&(ln(o,e,i),Go(o,e,i))}function Jm(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<i?o:i}}function _c(e,i){Jm(e,i),(e=e.alternate)&&Jm(e,i)}function Xm(e){if(e.tag===13||e.tag===31){var i=ul(e,67108864);i!==null&&ln(i,e,67108864),_c(e,67108864)}}function Km(e){if(e.tag===13||e.tag===31){var i=mn();i=Zt(i);var o=ul(e,i);o!==null&&ln(o,e,i),_c(e,i)}}var Us=!0;function u_(e,i,o,s){var d=M.T;M.T=null;var h=O.p;try{O.p=2,Tc(e,i,o,s)}finally{O.p=h,M.T=d}}function c_(e,i,o,s){var d=M.T;M.T=null;var h=O.p;try{O.p=8,Tc(e,i,o,s)}finally{O.p=h,M.T=d}}function Tc(e,i,o,s){if(Us){var d=Sc(s);if(d===null)ac(e,i,s,ks,o),$m(e,s);else if(d_(d,e,i,o,s))s.stopPropagation();else if($m(e,s),i&4&&-1<f_.indexOf(e)){for(;d!==null;){var h=Ii(d);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var _=Se(h.pendingLanes);if(_!==0){var E=h;for(E.pendingLanes|=2,E.entangledLanes|=2;_;){var b=1<<31-St(_);E.entanglements[1]|=b,_&=~b}Fn(h),(je&6)===0&&(gs=at()+500,jo(0))}}break;case 31:case 13:E=ul(h,2),E!==null&&ln(E,h,2),vs(),_c(h,2)}if(h=Sc(s),h===null&&ac(e,i,s,ks,o),h===d)break;d=h}d!==null&&s.stopPropagation()}else ac(e,i,s,null,o)}}function Sc(e){return e=Er(e),xc(e)}var ks=null;function xc(e){if(ks=null,e=wn(e),e!==null){var i=c(e);if(i===null)e=null;else{var o=i.tag;if(o===13){if(e=p(i),e!==null)return e;e=null}else if(o===31){if(e=g(i),e!==null)return e;e=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return ks=e,null}function Qm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pt()){case Zn:return 2;case He:return 8;case Yt:case Wn:return 32;case nt:return 268435456;default:return 32}default:return 32}}var Ec=!1,Zi=null,Wi=null,ji=null,aa=new Map,sa=new Map,el=[],f_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $m(e,i){switch(e){case"focusin":case"focusout":Zi=null;break;case"dragenter":case"dragleave":Wi=null;break;case"mouseover":case"mouseout":ji=null;break;case"pointerover":case"pointerout":aa.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":sa.delete(i.pointerId)}}function ra(e,i,o,s,d,h){return e===null||e.nativeEvent!==h?(e={blockedOn:i,domEventName:o,eventSystemFlags:s,nativeEvent:h,targetContainers:[d]},i!==null&&(i=Ii(i),i!==null&&Xm(i)),e):(e.eventSystemFlags|=s,i=e.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),e)}function d_(e,i,o,s,d){switch(i){case"focusin":return Zi=ra(Zi,e,i,o,s,d),!0;case"dragenter":return Wi=ra(Wi,e,i,o,s,d),!0;case"mouseover":return ji=ra(ji,e,i,o,s,d),!0;case"pointerover":var h=d.pointerId;return aa.set(h,ra(aa.get(h)||null,e,i,o,s,d)),!0;case"gotpointercapture":return h=d.pointerId,sa.set(h,ra(sa.get(h)||null,e,i,o,s,d)),!0}return!1}function Zm(e){var i=wn(e.target);if(i!==null){var o=c(i);if(o!==null){if(i=o.tag,i===13){if(i=p(o),i!==null){e.blockedOn=i,ba(e.priority,function(){Km(o)});return}}else if(i===31){if(i=g(o),i!==null){e.blockedOn=i,ba(e.priority,function(){Km(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ls(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var o=Sc(e.nativeEvent);if(o===null){o=e.nativeEvent;var s=new o.constructor(o.type,o);xr=s,o.target.dispatchEvent(s),xr=null}else return i=Ii(o),i!==null&&Xm(i),e.blockedOn=o,!1;i.shift()}return!0}function Wm(e,i,o){Ls(e)&&o.delete(i)}function p_(){Ec=!1,Zi!==null&&Ls(Zi)&&(Zi=null),Wi!==null&&Ls(Wi)&&(Wi=null),ji!==null&&Ls(ji)&&(ji=null),aa.forEach(Wm),sa.forEach(Wm)}function zs(e,i){e.blockedOn===i&&(e.blockedOn=null,Ec||(Ec=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,p_)))}var Gs=null;function jm(e){Gs!==e&&(Gs=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Gs===e&&(Gs=null);for(var i=0;i<e.length;i+=3){var o=e[i],s=e[i+1],d=e[i+2];if(typeof s!="function"){if(xc(s||o)===null)continue;break}var h=Ii(o);h!==null&&(e.splice(i,3),i-=3,Su(h,{pending:!0,data:d,method:o.method,action:s},s,d))}}))}function so(e){function i(b){return zs(b,e)}Zi!==null&&zs(Zi,e),Wi!==null&&zs(Wi,e),ji!==null&&zs(ji,e),aa.forEach(i),sa.forEach(i);for(var o=0;o<el.length;o++){var s=el[o];s.blockedOn===e&&(s.blockedOn=null)}for(;0<el.length&&(o=el[0],o.blockedOn===null);)Zm(o),o.blockedOn===null&&el.shift();if(o=(e.ownerDocument||e).$$reactFormReplay,o!=null)for(s=0;s<o.length;s+=3){var d=o[s],h=o[s+1],_=d[Ht]||null;if(typeof h=="function")_||jm(o);else if(_){var E=null;if(h&&h.hasAttribute("formAction")){if(d=h,_=h[Ht]||null)E=_.formAction;else if(xc(d)!==null)continue}else E=_.action;typeof E=="function"?o[s+1]=E:(o.splice(s,3),s-=3),jm(o)}}}function eh(){function e(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(_){return d=_})},focusReset:"manual",scroll:"manual"})}function i(){d!==null&&(d(),d=null),s||setTimeout(o,20)}function o(){if(!s&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,d=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(o,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),d!==null&&(d(),d=null)}}}function Cc(e){this._internalRoot=e}Hs.prototype.render=Cc.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(a(409));var o=i.current,s=mn();Fm(o,s,e,i,null,null)},Hs.prototype.unmount=Cc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;Fm(e.current,2,null,e,null,null),vs(),i[Di]=null}};function Hs(e){this._internalRoot=e}Hs.prototype.unstable_scheduleHydration=function(e){if(e){var i=ti();e={blockedOn:null,target:e,priority:i};for(var o=0;o<el.length&&i!==0&&i<el[o].priority;o++);el.splice(o,0,e),o===0&&Zm(e)}};var th=t.version;if(th!=="19.2.0")throw Error(a(527,th,"19.2.0"));O.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=m(i),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var m_={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ps=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ps.isDisabled&&Ps.supportsFiber)try{yn=Ps.inject(m_),Mt=Ps}catch{}}return ca.createRoot=function(e,i){if(!r(e))throw Error(a(299));var o=!1,s="",d=rp,h=up,_=cp;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(s=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(h=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=Om(e,1,!1,null,null,o,s,null,d,h,_,eh),e[Di]=i.current,oc(e),new Cc(i)},ca.hydrateRoot=function(e,i,o){if(!r(e))throw Error(a(299));var s=!1,d="",h=rp,_=up,E=cp,b=null;return o!=null&&(o.unstable_strictMode===!0&&(s=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(h=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(E=o.onRecoverableError),o.formState!==void 0&&(b=o.formState)),i=Om(e,1,!0,i,o??null,s,d,b,h,_,E,eh),i.context=Ym(null),o=i.current,s=mn(),s=Zt(s),d=Pi(s),d.callback=null,qi(o,d,s),o=s,i.current.lanes=o,$t(i,o),Fn(i),e[Di]=i.current,oc(e),new Hs(i)},ca.version="19.2.0",ca}var fh;function A_(){if(fh)return Mc.exports;fh=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Mc.exports=C_(),Mc.exports}var N_=A_();const M_=l0(N_);var b_={value:()=>{}};function ur(){for(var n=0,t=arguments.length,l={},a;n<t;++n){if(!(a=arguments[n]+"")||a in l||/[\s.]/.test(a))throw new Error("illegal type: "+a);l[a]=[]}return new Fs(l)}function Fs(n){this._=n}function R_(n,t){return n.trim().split(/^|\s+/).map(function(l){var a="",r=l.indexOf(".");if(r>=0&&(a=l.slice(r+1),l=l.slice(0,r)),l&&!t.hasOwnProperty(l))throw new Error("unknown type: "+l);return{type:l,name:a}})}Fs.prototype=ur.prototype={constructor:Fs,on:function(n,t){var l=this._,a=R_(n+"",l),r,c=-1,p=a.length;if(arguments.length<2){for(;++c<p;)if((r=(n=a[c]).type)&&(r=w_(l[r],n.name)))return r;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++c<p;)if(r=(n=a[c]).type)l[r]=dh(l[r],n.name,t);else if(t==null)for(r in l)l[r]=dh(l[r],n.name,null);return this},copy:function(){var n={},t=this._;for(var l in t)n[l]=t[l].slice();return new Fs(n)},call:function(n,t){if((r=arguments.length-2)>0)for(var l=new Array(r),a=0,r,c;a<r;++a)l[a]=arguments[a+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(c=this._[n],a=0,r=c.length;a<r;++a)c[a].value.apply(t,l)},apply:function(n,t,l){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var a=this._[n],r=0,c=a.length;r<c;++r)a[r].value.apply(t,l)}};function w_(n,t){for(var l=0,a=n.length,r;l<a;++l)if((r=n[l]).name===t)return r.value}function dh(n,t,l){for(var a=0,r=n.length;a<r;++a)if(n[a].name===t){n[a]=b_,n=n.slice(0,a).concat(n.slice(a+1));break}return l!=null&&n.push({name:t,value:l}),n}var Gc="http://www.w3.org/1999/xhtml";const ph={svg:"http://www.w3.org/2000/svg",xhtml:Gc,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function cr(n){var t=n+="",l=t.indexOf(":");return l>=0&&(t=n.slice(0,l))!=="xmlns"&&(n=n.slice(l+1)),ph.hasOwnProperty(t)?{space:ph[t],local:n}:n}function D_(n){return function(){var t=this.ownerDocument,l=this.namespaceURI;return l===Gc&&t.documentElement.namespaceURI===Gc?t.createElement(n):t.createElementNS(l,n)}}function I_(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function o0(n){var t=cr(n);return(t.local?I_:D_)(t)}function U_(){}function nf(n){return n==null?U_:function(){return this.querySelector(n)}}function k_(n){typeof n!="function"&&(n=nf(n));for(var t=this._groups,l=t.length,a=new Array(l),r=0;r<l;++r)for(var c=t[r],p=c.length,g=a[r]=new Array(p),y,m,v=0;v<p;++v)(y=c[v])&&(m=n.call(y,y.__data__,v,c))&&("__data__"in y&&(m.__data__=y.__data__),g[v]=m);return new hn(a,this._parents)}function L_(n){return n==null?[]:Array.isArray(n)?n:Array.from(n)}function z_(){return[]}function a0(n){return n==null?z_:function(){return this.querySelectorAll(n)}}function G_(n){return function(){return L_(n.apply(this,arguments))}}function H_(n){typeof n=="function"?n=G_(n):n=a0(n);for(var t=this._groups,l=t.length,a=[],r=[],c=0;c<l;++c)for(var p=t[c],g=p.length,y,m=0;m<g;++m)(y=p[m])&&(a.push(n.call(y,y.__data__,m,p)),r.push(y));return new hn(a,r)}function s0(n){return function(){return this.matches(n)}}function r0(n){return function(t){return t.matches(n)}}var P_=Array.prototype.find;function q_(n){return function(){return P_.call(this.children,n)}}function V_(){return this.firstElementChild}function B_(n){return this.select(n==null?V_:q_(typeof n=="function"?n:r0(n)))}var O_=Array.prototype.filter;function Y_(){return Array.from(this.children)}function F_(n){return function(){return O_.call(this.children,n)}}function J_(n){return this.selectAll(n==null?Y_:F_(typeof n=="function"?n:r0(n)))}function X_(n){typeof n!="function"&&(n=s0(n));for(var t=this._groups,l=t.length,a=new Array(l),r=0;r<l;++r)for(var c=t[r],p=c.length,g=a[r]=[],y,m=0;m<p;++m)(y=c[m])&&n.call(y,y.__data__,m,c)&&g.push(y);return new hn(a,this._parents)}function u0(n){return new Array(n.length)}function K_(){return new hn(this._enter||this._groups.map(u0),this._parents)}function js(n,t){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=t}js.prototype={constructor:js,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,t){return this._parent.insertBefore(n,t)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};function Q_(n){return function(){return n}}function $_(n,t,l,a,r,c){for(var p=0,g,y=t.length,m=c.length;p<m;++p)(g=t[p])?(g.__data__=c[p],a[p]=g):l[p]=new js(n,c[p]);for(;p<y;++p)(g=t[p])&&(r[p]=g)}function Z_(n,t,l,a,r,c,p){var g,y,m=new Map,v=t.length,T=c.length,S=new Array(v),C;for(g=0;g<v;++g)(y=t[g])&&(S[g]=C=p.call(y,y.__data__,g,t)+"",m.has(C)?r[g]=y:m.set(C,y));for(g=0;g<T;++g)C=p.call(n,c[g],g,c)+"",(y=m.get(C))?(a[g]=y,y.__data__=c[g],m.delete(C)):l[g]=new js(n,c[g]);for(g=0;g<v;++g)(y=t[g])&&m.get(S[g])===y&&(r[g]=y)}function W_(n){return n.__data__}function j_(n,t){if(!arguments.length)return Array.from(this,W_);var l=t?Z_:$_,a=this._parents,r=this._groups;typeof n!="function"&&(n=Q_(n));for(var c=r.length,p=new Array(c),g=new Array(c),y=new Array(c),m=0;m<c;++m){var v=a[m],T=r[m],S=T.length,C=eT(n.call(v,v&&v.__data__,m,a)),w=C.length,L=g[m]=new Array(w),te=p[m]=new Array(w),z=y[m]=new Array(S);l(v,T,L,te,z,C,t);for(var ee=0,$=0,B,J;ee<w;++ee)if(B=L[ee]){for(ee>=$&&($=ee+1);!(J=te[$])&&++$<w;);B._next=J||null}}return p=new hn(p,a),p._enter=g,p._exit=y,p}function eT(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function tT(){return new hn(this._exit||this._groups.map(u0),this._parents)}function nT(n,t,l){var a=this.enter(),r=this,c=this.exit();return typeof n=="function"?(a=n(a),a&&(a=a.selection())):a=a.append(n+""),t!=null&&(r=t(r),r&&(r=r.selection())),l==null?c.remove():l(c),a&&r?a.merge(r).order():r}function iT(n){for(var t=n.selection?n.selection():n,l=this._groups,a=t._groups,r=l.length,c=a.length,p=Math.min(r,c),g=new Array(r),y=0;y<p;++y)for(var m=l[y],v=a[y],T=m.length,S=g[y]=new Array(T),C,w=0;w<T;++w)(C=m[w]||v[w])&&(S[w]=C);for(;y<r;++y)g[y]=l[y];return new hn(g,this._parents)}function lT(){for(var n=this._groups,t=-1,l=n.length;++t<l;)for(var a=n[t],r=a.length-1,c=a[r],p;--r>=0;)(p=a[r])&&(c&&p.compareDocumentPosition(c)^4&&c.parentNode.insertBefore(p,c),c=p);return this}function oT(n){n||(n=aT);function t(T,S){return T&&S?n(T.__data__,S.__data__):!T-!S}for(var l=this._groups,a=l.length,r=new Array(a),c=0;c<a;++c){for(var p=l[c],g=p.length,y=r[c]=new Array(g),m,v=0;v<g;++v)(m=p[v])&&(y[v]=m);y.sort(t)}return new hn(r,this._parents).order()}function aT(n,t){return n<t?-1:n>t?1:n>=t?0:NaN}function sT(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this}function rT(){return Array.from(this)}function uT(){for(var n=this._groups,t=0,l=n.length;t<l;++t)for(var a=n[t],r=0,c=a.length;r<c;++r){var p=a[r];if(p)return p}return null}function cT(){let n=0;for(const t of this)++n;return n}function fT(){return!this.node()}function dT(n){for(var t=this._groups,l=0,a=t.length;l<a;++l)for(var r=t[l],c=0,p=r.length,g;c<p;++c)(g=r[c])&&n.call(g,g.__data__,c,r);return this}function pT(n){return function(){this.removeAttribute(n)}}function mT(n){return function(){this.removeAttributeNS(n.space,n.local)}}function hT(n,t){return function(){this.setAttribute(n,t)}}function gT(n,t){return function(){this.setAttributeNS(n.space,n.local,t)}}function yT(n,t){return function(){var l=t.apply(this,arguments);l==null?this.removeAttribute(n):this.setAttribute(n,l)}}function vT(n,t){return function(){var l=t.apply(this,arguments);l==null?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,l)}}function _T(n,t){var l=cr(n);if(arguments.length<2){var a=this.node();return l.local?a.getAttributeNS(l.space,l.local):a.getAttribute(l)}return this.each((t==null?l.local?mT:pT:typeof t=="function"?l.local?vT:yT:l.local?gT:hT)(l,t))}function c0(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function TT(n){return function(){this.style.removeProperty(n)}}function ST(n,t,l){return function(){this.style.setProperty(n,t,l)}}function xT(n,t,l){return function(){var a=t.apply(this,arguments);a==null?this.style.removeProperty(n):this.style.setProperty(n,a,l)}}function ET(n,t,l){return arguments.length>1?this.each((t==null?TT:typeof t=="function"?xT:ST)(n,t,l??"")):ho(this.node(),n)}function ho(n,t){return n.style.getPropertyValue(t)||c0(n).getComputedStyle(n,null).getPropertyValue(t)}function CT(n){return function(){delete this[n]}}function AT(n,t){return function(){this[n]=t}}function NT(n,t){return function(){var l=t.apply(this,arguments);l==null?delete this[n]:this[n]=l}}function MT(n,t){return arguments.length>1?this.each((t==null?CT:typeof t=="function"?NT:AT)(n,t)):this.node()[n]}function f0(n){return n.trim().split(/^|\s+/)}function lf(n){return n.classList||new d0(n)}function d0(n){this._node=n,this._names=f0(n.getAttribute("class")||"")}d0.prototype={add:function(n){var t=this._names.indexOf(n);t<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var t=this._names.indexOf(n);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};function p0(n,t){for(var l=lf(n),a=-1,r=t.length;++a<r;)l.add(t[a])}function m0(n,t){for(var l=lf(n),a=-1,r=t.length;++a<r;)l.remove(t[a])}function bT(n){return function(){p0(this,n)}}function RT(n){return function(){m0(this,n)}}function wT(n,t){return function(){(t.apply(this,arguments)?p0:m0)(this,n)}}function DT(n,t){var l=f0(n+"");if(arguments.length<2){for(var a=lf(this.node()),r=-1,c=l.length;++r<c;)if(!a.contains(l[r]))return!1;return!0}return this.each((typeof t=="function"?wT:t?bT:RT)(l,t))}function IT(){this.textContent=""}function UT(n){return function(){this.textContent=n}}function kT(n){return function(){var t=n.apply(this,arguments);this.textContent=t??""}}function LT(n){return arguments.length?this.each(n==null?IT:(typeof n=="function"?kT:UT)(n)):this.node().textContent}function zT(){this.innerHTML=""}function GT(n){return function(){this.innerHTML=n}}function HT(n){return function(){var t=n.apply(this,arguments);this.innerHTML=t??""}}function PT(n){return arguments.length?this.each(n==null?zT:(typeof n=="function"?HT:GT)(n)):this.node().innerHTML}function qT(){this.nextSibling&&this.parentNode.appendChild(this)}function VT(){return this.each(qT)}function BT(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function OT(){return this.each(BT)}function YT(n){var t=typeof n=="function"?n:o0(n);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function FT(){return null}function JT(n,t){var l=typeof n=="function"?n:o0(n),a=t==null?FT:typeof t=="function"?t:nf(t);return this.select(function(){return this.insertBefore(l.apply(this,arguments),a.apply(this,arguments)||null)})}function XT(){var n=this.parentNode;n&&n.removeChild(this)}function KT(){return this.each(XT)}function QT(){var n=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(n,this.nextSibling):n}function $T(){var n=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(n,this.nextSibling):n}function ZT(n){return this.select(n?$T:QT)}function WT(n){return arguments.length?this.property("__data__",n):this.node().__data__}function jT(n){return function(t){n.call(this,t,this.__data__)}}function eS(n){return n.trim().split(/^|\s+/).map(function(t){var l="",a=t.indexOf(".");return a>=0&&(l=t.slice(a+1),t=t.slice(0,a)),{type:t,name:l}})}function tS(n){return function(){var t=this.__on;if(t){for(var l=0,a=-1,r=t.length,c;l<r;++l)c=t[l],(!n.type||c.type===n.type)&&c.name===n.name?this.removeEventListener(c.type,c.listener,c.options):t[++a]=c;++a?t.length=a:delete this.__on}}}function nS(n,t,l){return function(){var a=this.__on,r,c=jT(t);if(a){for(var p=0,g=a.length;p<g;++p)if((r=a[p]).type===n.type&&r.name===n.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=c,r.options=l),r.value=t;return}}this.addEventListener(n.type,c,l),r={type:n.type,name:n.name,value:t,listener:c,options:l},a?a.push(r):this.__on=[r]}}function iS(n,t,l){var a=eS(n+""),r,c=a.length,p;if(arguments.length<2){var g=this.node().__on;if(g){for(var y=0,m=g.length,v;y<m;++y)for(r=0,v=g[y];r<c;++r)if((p=a[r]).type===v.type&&p.name===v.name)return v.value}return}for(g=t?nS:tS,r=0;r<c;++r)this.each(g(a[r],t,l));return this}function h0(n,t,l){var a=c0(n),r=a.CustomEvent;typeof r=="function"?r=new r(t,l):(r=a.document.createEvent("Event"),l?(r.initEvent(t,l.bubbles,l.cancelable),r.detail=l.detail):r.initEvent(t,!1,!1)),n.dispatchEvent(r)}function lS(n,t){return function(){return h0(this,n,t)}}function oS(n,t){return function(){return h0(this,n,t.apply(this,arguments))}}function aS(n,t){return this.each((typeof t=="function"?oS:lS)(n,t))}function*sS(){for(var n=this._groups,t=0,l=n.length;t<l;++t)for(var a=n[t],r=0,c=a.length,p;r<c;++r)(p=a[r])&&(yield p)}var g0=[null];function hn(n,t){this._groups=n,this._parents=t}function Na(){return new hn([[document.documentElement]],g0)}function rS(){return this}hn.prototype=Na.prototype={constructor:hn,select:k_,selectAll:H_,selectChild:B_,selectChildren:J_,filter:X_,data:j_,enter:K_,exit:tT,join:nT,merge:iT,selection:rS,order:lT,sort:oT,call:sT,nodes:rT,node:uT,size:cT,empty:fT,each:dT,attr:_T,style:ET,property:MT,classed:DT,text:LT,html:PT,raise:VT,lower:OT,append:YT,insert:JT,remove:KT,clone:ZT,datum:WT,on:iS,dispatch:aS,[Symbol.iterator]:sS};function qt(n){return typeof n=="string"?new hn([[document.querySelector(n)]],[document.documentElement]):new hn([[n]],g0)}function uS(n){let t;for(;t=n.sourceEvent;)n=t;return n}function Ei(n,t){if(n=uS(n),t===void 0&&(t=n.currentTarget),t){var l=t.ownerSVGElement||t;if(l.createSVGPoint){var a=l.createSVGPoint();return a.x=n.clientX,a.y=n.clientY,a=a.matrixTransform(t.getScreenCTM().inverse()),[a.x,a.y]}if(t.getBoundingClientRect){var r=t.getBoundingClientRect();return[n.clientX-r.left-t.clientLeft,n.clientY-r.top-t.clientTop]}}return[n.pageX,n.pageY]}const cS={passive:!1},Ta={capture:!0,passive:!1};function Dc(n){n.stopImmediatePropagation()}function uo(n){n.preventDefault(),n.stopImmediatePropagation()}function y0(n){var t=n.document.documentElement,l=qt(n).on("dragstart.drag",uo,Ta);"onselectstart"in t?l.on("selectstart.drag",uo,Ta):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function v0(n,t){var l=n.document.documentElement,a=qt(n).on("dragstart.drag",null);t&&(a.on("click.drag",uo,Ta),setTimeout(function(){a.on("click.drag",null)},0)),"onselectstart"in l?a.on("selectstart.drag",null):(l.style.MozUserSelect=l.__noselect,delete l.__noselect)}const qs=n=>()=>n;function Hc(n,{sourceEvent:t,subject:l,target:a,identifier:r,active:c,x:p,y:g,dx:y,dy:m,dispatch:v}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:l,enumerable:!0,configurable:!0},target:{value:a,enumerable:!0,configurable:!0},identifier:{value:r,enumerable:!0,configurable:!0},active:{value:c,enumerable:!0,configurable:!0},x:{value:p,enumerable:!0,configurable:!0},y:{value:g,enumerable:!0,configurable:!0},dx:{value:y,enumerable:!0,configurable:!0},dy:{value:m,enumerable:!0,configurable:!0},_:{value:v}})}Hc.prototype.on=function(){var n=this._.on.apply(this._,arguments);return n===this._?this:n};function fS(n){return!n.ctrlKey&&!n.button}function dS(){return this.parentNode}function pS(n,t){return t??{x:n.x,y:n.y}}function mS(){return navigator.maxTouchPoints||"ontouchstart"in this}function hS(){var n=fS,t=dS,l=pS,a=mS,r={},c=ur("start","drag","end"),p=0,g,y,m,v,T=0;function S(B){B.on("mousedown.drag",C).filter(a).on("touchstart.drag",te).on("touchmove.drag",z,cS).on("touchend.drag touchcancel.drag",ee).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function C(B,J){if(!(v||!n.call(this,B,J))){var oe=$(this,t.call(this,B,J),B,J,"mouse");oe&&(qt(B.view).on("mousemove.drag",w,Ta).on("mouseup.drag",L,Ta),y0(B.view),Dc(B),m=!1,g=B.clientX,y=B.clientY,oe("start",B))}}function w(B){if(uo(B),!m){var J=B.clientX-g,oe=B.clientY-y;m=J*J+oe*oe>T}r.mouse("drag",B)}function L(B){qt(B.view).on("mousemove.drag mouseup.drag",null),v0(B.view,m),uo(B),r.mouse("end",B)}function te(B,J){if(n.call(this,B,J)){var oe=B.changedTouches,ne=t.call(this,B,J),xe=oe.length,re,Te;for(re=0;re<xe;++re)(Te=$(this,ne,B,J,oe[re].identifier,oe[re]))&&(Dc(B),Te("start",B,oe[re]))}}function z(B){var J=B.changedTouches,oe=J.length,ne,xe;for(ne=0;ne<oe;++ne)(xe=r[J[ne].identifier])&&(uo(B),xe("drag",B,J[ne]))}function ee(B){var J=B.changedTouches,oe=J.length,ne,xe;for(v&&clearTimeout(v),v=setTimeout(function(){v=null},500),ne=0;ne<oe;++ne)(xe=r[J[ne].identifier])&&(Dc(B),xe("end",B,J[ne]))}function $(B,J,oe,ne,xe,re){var Te=c.copy(),fe=Ei(re||oe,J),Ee,Fe,k;if((k=l.call(B,new Hc("beforestart",{sourceEvent:oe,target:S,identifier:xe,active:p,x:fe[0],y:fe[1],dx:0,dy:0,dispatch:Te}),ne))!=null)return Ee=k.x-fe[0]||0,Fe=k.y-fe[1]||0,function ue(M,O,ie){var pe=fe,de;switch(M){case"start":r[xe]=ue,de=p++;break;case"end":delete r[xe],--p;case"drag":fe=Ei(ie||O,J),de=p;break}Te.call(M,B,new Hc(M,{sourceEvent:O,subject:k,target:S,identifier:xe,active:de,x:fe[0]+Ee,y:fe[1]+Fe,dx:fe[0]-pe[0],dy:fe[1]-pe[1],dispatch:Te}),ne)}}return S.filter=function(B){return arguments.length?(n=typeof B=="function"?B:qs(!!B),S):n},S.container=function(B){return arguments.length?(t=typeof B=="function"?B:qs(B),S):t},S.subject=function(B){return arguments.length?(l=typeof B=="function"?B:qs(B),S):l},S.touchable=function(B){return arguments.length?(a=typeof B=="function"?B:qs(!!B),S):a},S.on=function(){var B=c.on.apply(c,arguments);return B===c?S:B},S.clickDistance=function(B){return arguments.length?(T=(B=+B)*B,S):Math.sqrt(T)},S}function of(n,t,l){n.prototype=t.prototype=l,l.constructor=n}function _0(n,t){var l=Object.create(n.prototype);for(var a in t)l[a]=t[a];return l}function Ma(){}var Sa=.7,er=1/Sa,co="\\s*([+-]?\\d+)\\s*",xa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Xn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",gS=/^#([0-9a-f]{3,8})$/,yS=new RegExp(`^rgb\\(${co},${co},${co}\\)$`),vS=new RegExp(`^rgb\\(${Xn},${Xn},${Xn}\\)$`),_S=new RegExp(`^rgba\\(${co},${co},${co},${xa}\\)$`),TS=new RegExp(`^rgba\\(${Xn},${Xn},${Xn},${xa}\\)$`),SS=new RegExp(`^hsl\\(${xa},${Xn},${Xn}\\)$`),xS=new RegExp(`^hsla\\(${xa},${Xn},${Xn},${xa}\\)$`),mh={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};of(Ma,Ea,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:hh,formatHex:hh,formatHex8:ES,formatHsl:CS,formatRgb:gh,toString:gh});function hh(){return this.rgb().formatHex()}function ES(){return this.rgb().formatHex8()}function CS(){return T0(this).formatHsl()}function gh(){return this.rgb().formatRgb()}function Ea(n){var t,l;return n=(n+"").trim().toLowerCase(),(t=gS.exec(n))?(l=t[1].length,t=parseInt(t[1],16),l===6?yh(t):l===3?new an(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):l===8?Vs(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):l===4?Vs(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=yS.exec(n))?new an(t[1],t[2],t[3],1):(t=vS.exec(n))?new an(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=_S.exec(n))?Vs(t[1],t[2],t[3],t[4]):(t=TS.exec(n))?Vs(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=SS.exec(n))?Th(t[1],t[2]/100,t[3]/100,1):(t=xS.exec(n))?Th(t[1],t[2]/100,t[3]/100,t[4]):mh.hasOwnProperty(n)?yh(mh[n]):n==="transparent"?new an(NaN,NaN,NaN,0):null}function yh(n){return new an(n>>16&255,n>>8&255,n&255,1)}function Vs(n,t,l,a){return a<=0&&(n=t=l=NaN),new an(n,t,l,a)}function AS(n){return n instanceof Ma||(n=Ea(n)),n?(n=n.rgb(),new an(n.r,n.g,n.b,n.opacity)):new an}function Pc(n,t,l,a){return arguments.length===1?AS(n):new an(n,t,l,a??1)}function an(n,t,l,a){this.r=+n,this.g=+t,this.b=+l,this.opacity=+a}of(an,Pc,_0(Ma,{brighter(n){return n=n==null?er:Math.pow(er,n),new an(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?Sa:Math.pow(Sa,n),new an(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new an(El(this.r),El(this.g),El(this.b),tr(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:vh,formatHex:vh,formatHex8:NS,formatRgb:_h,toString:_h}));function vh(){return`#${xl(this.r)}${xl(this.g)}${xl(this.b)}`}function NS(){return`#${xl(this.r)}${xl(this.g)}${xl(this.b)}${xl((isNaN(this.opacity)?1:this.opacity)*255)}`}function _h(){const n=tr(this.opacity);return`${n===1?"rgb(":"rgba("}${El(this.r)}, ${El(this.g)}, ${El(this.b)}${n===1?")":`, ${n})`}`}function tr(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function El(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function xl(n){return n=El(n),(n<16?"0":"")+n.toString(16)}function Th(n,t,l,a){return a<=0?n=t=l=NaN:l<=0||l>=1?n=t=NaN:t<=0&&(n=NaN),new Ln(n,t,l,a)}function T0(n){if(n instanceof Ln)return new Ln(n.h,n.s,n.l,n.opacity);if(n instanceof Ma||(n=Ea(n)),!n)return new Ln;if(n instanceof Ln)return n;n=n.rgb();var t=n.r/255,l=n.g/255,a=n.b/255,r=Math.min(t,l,a),c=Math.max(t,l,a),p=NaN,g=c-r,y=(c+r)/2;return g?(t===c?p=(l-a)/g+(l<a)*6:l===c?p=(a-t)/g+2:p=(t-l)/g+4,g/=y<.5?c+r:2-c-r,p*=60):g=y>0&&y<1?0:p,new Ln(p,g,y,n.opacity)}function MS(n,t,l,a){return arguments.length===1?T0(n):new Ln(n,t,l,a??1)}function Ln(n,t,l,a){this.h=+n,this.s=+t,this.l=+l,this.opacity=+a}of(Ln,MS,_0(Ma,{brighter(n){return n=n==null?er:Math.pow(er,n),new Ln(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?Sa:Math.pow(Sa,n),new Ln(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,t=isNaN(n)||isNaN(this.s)?0:this.s,l=this.l,a=l+(l<.5?l:1-l)*t,r=2*l-a;return new an(Ic(n>=240?n-240:n+120,r,a),Ic(n,r,a),Ic(n<120?n+240:n-120,r,a),this.opacity)},clamp(){return new Ln(Sh(this.h),Bs(this.s),Bs(this.l),tr(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=tr(this.opacity);return`${n===1?"hsl(":"hsla("}${Sh(this.h)}, ${Bs(this.s)*100}%, ${Bs(this.l)*100}%${n===1?")":`, ${n})`}`}}));function Sh(n){return n=(n||0)%360,n<0?n+360:n}function Bs(n){return Math.max(0,Math.min(1,n||0))}function Ic(n,t,l){return(n<60?t+(l-t)*n/60:n<180?l:n<240?t+(l-t)*(240-n)/60:t)*255}const S0=n=>()=>n;function bS(n,t){return function(l){return n+l*t}}function RS(n,t,l){return n=Math.pow(n,l),t=Math.pow(t,l)-n,l=1/l,function(a){return Math.pow(n+a*t,l)}}function wS(n){return(n=+n)==1?x0:function(t,l){return l-t?RS(t,l,n):S0(isNaN(t)?l:t)}}function x0(n,t){var l=t-n;return l?bS(n,l):S0(isNaN(n)?t:n)}const xh=(function n(t){var l=wS(t);function a(r,c){var p=l((r=Pc(r)).r,(c=Pc(c)).r),g=l(r.g,c.g),y=l(r.b,c.b),m=x0(r.opacity,c.opacity);return function(v){return r.r=p(v),r.g=g(v),r.b=y(v),r.opacity=m(v),r+""}}return a.gamma=n,a})(1);function nl(n,t){return n=+n,t=+t,function(l){return n*(1-l)+t*l}}var qc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Uc=new RegExp(qc.source,"g");function DS(n){return function(){return n}}function IS(n){return function(t){return n(t)+""}}function US(n,t){var l=qc.lastIndex=Uc.lastIndex=0,a,r,c,p=-1,g=[],y=[];for(n=n+"",t=t+"";(a=qc.exec(n))&&(r=Uc.exec(t));)(c=r.index)>l&&(c=t.slice(l,c),g[p]?g[p]+=c:g[++p]=c),(a=a[0])===(r=r[0])?g[p]?g[p]+=r:g[++p]=r:(g[++p]=null,y.push({i:p,x:nl(a,r)})),l=Uc.lastIndex;return l<t.length&&(c=t.slice(l),g[p]?g[p]+=c:g[++p]=c),g.length<2?y[0]?IS(y[0].x):DS(t):(t=y.length,function(m){for(var v=0,T;v<t;++v)g[(T=y[v]).i]=T.x(m);return g.join("")})}var Eh=180/Math.PI,Vc={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function E0(n,t,l,a,r,c){var p,g,y;return(p=Math.sqrt(n*n+t*t))&&(n/=p,t/=p),(y=n*l+t*a)&&(l-=n*y,a-=t*y),(g=Math.sqrt(l*l+a*a))&&(l/=g,a/=g,y/=g),n*a<t*l&&(n=-n,t=-t,y=-y,p=-p),{translateX:r,translateY:c,rotate:Math.atan2(t,n)*Eh,skewX:Math.atan(y)*Eh,scaleX:p,scaleY:g}}var Os;function kS(n){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(n+"");return t.isIdentity?Vc:E0(t.a,t.b,t.c,t.d,t.e,t.f)}function LS(n){return n==null||(Os||(Os=document.createElementNS("http://www.w3.org/2000/svg","g")),Os.setAttribute("transform",n),!(n=Os.transform.baseVal.consolidate()))?Vc:(n=n.matrix,E0(n.a,n.b,n.c,n.d,n.e,n.f))}function C0(n,t,l,a){function r(m){return m.length?m.pop()+" ":""}function c(m,v,T,S,C,w){if(m!==T||v!==S){var L=C.push("translate(",null,t,null,l);w.push({i:L-4,x:nl(m,T)},{i:L-2,x:nl(v,S)})}else(T||S)&&C.push("translate("+T+t+S+l)}function p(m,v,T,S){m!==v?(m-v>180?v+=360:v-m>180&&(m+=360),S.push({i:T.push(r(T)+"rotate(",null,a)-2,x:nl(m,v)})):v&&T.push(r(T)+"rotate("+v+a)}function g(m,v,T,S){m!==v?S.push({i:T.push(r(T)+"skewX(",null,a)-2,x:nl(m,v)}):v&&T.push(r(T)+"skewX("+v+a)}function y(m,v,T,S,C,w){if(m!==T||v!==S){var L=C.push(r(C)+"scale(",null,",",null,")");w.push({i:L-4,x:nl(m,T)},{i:L-2,x:nl(v,S)})}else(T!==1||S!==1)&&C.push(r(C)+"scale("+T+","+S+")")}return function(m,v){var T=[],S=[];return m=n(m),v=n(v),c(m.translateX,m.translateY,v.translateX,v.translateY,T,S),p(m.rotate,v.rotate,T,S),g(m.skewX,v.skewX,T,S),y(m.scaleX,m.scaleY,v.scaleX,v.scaleY,T,S),m=v=null,function(C){for(var w=-1,L=S.length,te;++w<L;)T[(te=S[w]).i]=te.x(C);return T.join("")}}}var zS=C0(kS,"px, ","px)","deg)"),GS=C0(LS,", ",")",")"),HS=1e-12;function Ch(n){return((n=Math.exp(n))+1/n)/2}function PS(n){return((n=Math.exp(n))-1/n)/2}function qS(n){return((n=Math.exp(2*n))-1)/(n+1)}const VS=(function n(t,l,a){function r(c,p){var g=c[0],y=c[1],m=c[2],v=p[0],T=p[1],S=p[2],C=v-g,w=T-y,L=C*C+w*w,te,z;if(L<HS)z=Math.log(S/m)/t,te=function(ne){return[g+ne*C,y+ne*w,m*Math.exp(t*ne*z)]};else{var ee=Math.sqrt(L),$=(S*S-m*m+a*L)/(2*m*l*ee),B=(S*S-m*m-a*L)/(2*S*l*ee),J=Math.log(Math.sqrt($*$+1)-$),oe=Math.log(Math.sqrt(B*B+1)-B);z=(oe-J)/t,te=function(ne){var xe=ne*z,re=Ch(J),Te=m/(l*ee)*(re*qS(t*xe+J)-PS(J));return[g+Te*C,y+Te*w,m*re/Ch(t*xe+J)]}}return te.duration=z*1e3*t/Math.SQRT2,te}return r.rho=function(c){var p=Math.max(.001,+c),g=p*p,y=g*g;return n(p,g,y)},r})(Math.SQRT2,2,4);var go=0,ha=0,fa=0,A0=1e3,nr,ga,ir=0,Cl=0,fr=0,Ca=typeof performance=="object"&&performance.now?performance:Date,N0=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function af(){return Cl||(N0(BS),Cl=Ca.now()+fr)}function BS(){Cl=0}function lr(){this._call=this._time=this._next=null}lr.prototype=M0.prototype={constructor:lr,restart:function(n,t,l){if(typeof n!="function")throw new TypeError("callback is not a function");l=(l==null?af():+l)+(t==null?0:+t),!this._next&&ga!==this&&(ga?ga._next=this:nr=this,ga=this),this._call=n,this._time=l,Bc()},stop:function(){this._call&&(this._call=null,this._time=1/0,Bc())}};function M0(n,t,l){var a=new lr;return a.restart(n,t,l),a}function OS(){af(),++go;for(var n=nr,t;n;)(t=Cl-n._time)>=0&&n._call.call(void 0,t),n=n._next;--go}function Ah(){Cl=(ir=Ca.now())+fr,go=ha=0;try{OS()}finally{go=0,FS(),Cl=0}}function YS(){var n=Ca.now(),t=n-ir;t>A0&&(fr-=t,ir=n)}function FS(){for(var n,t=nr,l,a=1/0;t;)t._call?(a>t._time&&(a=t._time),n=t,t=t._next):(l=t._next,t._next=null,t=n?n._next=l:nr=l);ga=n,Bc(a)}function Bc(n){if(!go){ha&&(ha=clearTimeout(ha));var t=n-Cl;t>24?(n<1/0&&(ha=setTimeout(Ah,n-Ca.now()-fr)),fa&&(fa=clearInterval(fa))):(fa||(ir=Ca.now(),fa=setInterval(YS,A0)),go=1,N0(Ah))}}function Nh(n,t,l){var a=new lr;return t=t==null?0:+t,a.restart(r=>{a.stop(),n(r+t)},t,l),a}var JS=ur("start","end","cancel","interrupt"),XS=[],b0=0,Mh=1,Oc=2,Js=3,bh=4,Yc=5,Xs=6;function dr(n,t,l,a,r,c){var p=n.__transition;if(!p)n.__transition={};else if(l in p)return;KS(n,l,{name:t,index:a,group:r,on:JS,tween:XS,time:c.time,delay:c.delay,duration:c.duration,ease:c.ease,timer:null,state:b0})}function sf(n,t){var l=zn(n,t);if(l.state>b0)throw new Error("too late; already scheduled");return l}function Kn(n,t){var l=zn(n,t);if(l.state>Js)throw new Error("too late; already running");return l}function zn(n,t){var l=n.__transition;if(!l||!(l=l[t]))throw new Error("transition not found");return l}function KS(n,t,l){var a=n.__transition,r;a[t]=l,l.timer=M0(c,0,l.time);function c(m){l.state=Mh,l.timer.restart(p,l.delay,l.time),l.delay<=m&&p(m-l.delay)}function p(m){var v,T,S,C;if(l.state!==Mh)return y();for(v in a)if(C=a[v],C.name===l.name){if(C.state===Js)return Nh(p);C.state===bh?(C.state=Xs,C.timer.stop(),C.on.call("interrupt",n,n.__data__,C.index,C.group),delete a[v]):+v<t&&(C.state=Xs,C.timer.stop(),C.on.call("cancel",n,n.__data__,C.index,C.group),delete a[v])}if(Nh(function(){l.state===Js&&(l.state=bh,l.timer.restart(g,l.delay,l.time),g(m))}),l.state=Oc,l.on.call("start",n,n.__data__,l.index,l.group),l.state===Oc){for(l.state=Js,r=new Array(S=l.tween.length),v=0,T=-1;v<S;++v)(C=l.tween[v].value.call(n,n.__data__,l.index,l.group))&&(r[++T]=C);r.length=T+1}}function g(m){for(var v=m<l.duration?l.ease.call(null,m/l.duration):(l.timer.restart(y),l.state=Yc,1),T=-1,S=r.length;++T<S;)r[T].call(n,v);l.state===Yc&&(l.on.call("end",n,n.__data__,l.index,l.group),y())}function y(){l.state=Xs,l.timer.stop(),delete a[t];for(var m in a)return;delete n.__transition}}function Ks(n,t){var l=n.__transition,a,r,c=!0,p;if(l){t=t==null?null:t+"";for(p in l){if((a=l[p]).name!==t){c=!1;continue}r=a.state>Oc&&a.state<Yc,a.state=Xs,a.timer.stop(),a.on.call(r?"interrupt":"cancel",n,n.__data__,a.index,a.group),delete l[p]}c&&delete n.__transition}}function QS(n){return this.each(function(){Ks(this,n)})}function $S(n,t){var l,a;return function(){var r=Kn(this,n),c=r.tween;if(c!==l){a=l=c;for(var p=0,g=a.length;p<g;++p)if(a[p].name===t){a=a.slice(),a.splice(p,1);break}}r.tween=a}}function ZS(n,t,l){var a,r;if(typeof l!="function")throw new Error;return function(){var c=Kn(this,n),p=c.tween;if(p!==a){r=(a=p).slice();for(var g={name:t,value:l},y=0,m=r.length;y<m;++y)if(r[y].name===t){r[y]=g;break}y===m&&r.push(g)}c.tween=r}}function WS(n,t){var l=this._id;if(n+="",arguments.length<2){for(var a=zn(this.node(),l).tween,r=0,c=a.length,p;r<c;++r)if((p=a[r]).name===n)return p.value;return null}return this.each((t==null?$S:ZS)(l,n,t))}function rf(n,t,l){var a=n._id;return n.each(function(){var r=Kn(this,a);(r.value||(r.value={}))[t]=l.apply(this,arguments)}),function(r){return zn(r,a).value[t]}}function R0(n,t){var l;return(typeof t=="number"?nl:t instanceof Ea?xh:(l=Ea(t))?(t=l,xh):US)(n,t)}function jS(n){return function(){this.removeAttribute(n)}}function ex(n){return function(){this.removeAttributeNS(n.space,n.local)}}function tx(n,t,l){var a,r=l+"",c;return function(){var p=this.getAttribute(n);return p===r?null:p===a?c:c=t(a=p,l)}}function nx(n,t,l){var a,r=l+"",c;return function(){var p=this.getAttributeNS(n.space,n.local);return p===r?null:p===a?c:c=t(a=p,l)}}function ix(n,t,l){var a,r,c;return function(){var p,g=l(this),y;return g==null?void this.removeAttribute(n):(p=this.getAttribute(n),y=g+"",p===y?null:p===a&&y===r?c:(r=y,c=t(a=p,g)))}}function lx(n,t,l){var a,r,c;return function(){var p,g=l(this),y;return g==null?void this.removeAttributeNS(n.space,n.local):(p=this.getAttributeNS(n.space,n.local),y=g+"",p===y?null:p===a&&y===r?c:(r=y,c=t(a=p,g)))}}function ox(n,t){var l=cr(n),a=l==="transform"?GS:R0;return this.attrTween(n,typeof t=="function"?(l.local?lx:ix)(l,a,rf(this,"attr."+n,t)):t==null?(l.local?ex:jS)(l):(l.local?nx:tx)(l,a,t))}function ax(n,t){return function(l){this.setAttribute(n,t.call(this,l))}}function sx(n,t){return function(l){this.setAttributeNS(n.space,n.local,t.call(this,l))}}function rx(n,t){var l,a;function r(){var c=t.apply(this,arguments);return c!==a&&(l=(a=c)&&sx(n,c)),l}return r._value=t,r}function ux(n,t){var l,a;function r(){var c=t.apply(this,arguments);return c!==a&&(l=(a=c)&&ax(n,c)),l}return r._value=t,r}function cx(n,t){var l="attr."+n;if(arguments.length<2)return(l=this.tween(l))&&l._value;if(t==null)return this.tween(l,null);if(typeof t!="function")throw new Error;var a=cr(n);return this.tween(l,(a.local?rx:ux)(a,t))}function fx(n,t){return function(){sf(this,n).delay=+t.apply(this,arguments)}}function dx(n,t){return t=+t,function(){sf(this,n).delay=t}}function px(n){var t=this._id;return arguments.length?this.each((typeof n=="function"?fx:dx)(t,n)):zn(this.node(),t).delay}function mx(n,t){return function(){Kn(this,n).duration=+t.apply(this,arguments)}}function hx(n,t){return t=+t,function(){Kn(this,n).duration=t}}function gx(n){var t=this._id;return arguments.length?this.each((typeof n=="function"?mx:hx)(t,n)):zn(this.node(),t).duration}function yx(n,t){if(typeof t!="function")throw new Error;return function(){Kn(this,n).ease=t}}function vx(n){var t=this._id;return arguments.length?this.each(yx(t,n)):zn(this.node(),t).ease}function _x(n,t){return function(){var l=t.apply(this,arguments);if(typeof l!="function")throw new Error;Kn(this,n).ease=l}}function Tx(n){if(typeof n!="function")throw new Error;return this.each(_x(this._id,n))}function Sx(n){typeof n!="function"&&(n=s0(n));for(var t=this._groups,l=t.length,a=new Array(l),r=0;r<l;++r)for(var c=t[r],p=c.length,g=a[r]=[],y,m=0;m<p;++m)(y=c[m])&&n.call(y,y.__data__,m,c)&&g.push(y);return new Ai(a,this._parents,this._name,this._id)}function xx(n){if(n._id!==this._id)throw new Error;for(var t=this._groups,l=n._groups,a=t.length,r=l.length,c=Math.min(a,r),p=new Array(a),g=0;g<c;++g)for(var y=t[g],m=l[g],v=y.length,T=p[g]=new Array(v),S,C=0;C<v;++C)(S=y[C]||m[C])&&(T[C]=S);for(;g<a;++g)p[g]=t[g];return new Ai(p,this._parents,this._name,this._id)}function Ex(n){return(n+"").trim().split(/^|\s+/).every(function(t){var l=t.indexOf(".");return l>=0&&(t=t.slice(0,l)),!t||t==="start"})}function Cx(n,t,l){var a,r,c=Ex(t)?sf:Kn;return function(){var p=c(this,n),g=p.on;g!==a&&(r=(a=g).copy()).on(t,l),p.on=r}}function Ax(n,t){var l=this._id;return arguments.length<2?zn(this.node(),l).on.on(n):this.each(Cx(l,n,t))}function Nx(n){return function(){var t=this.parentNode;for(var l in this.__transition)if(+l!==n)return;t&&t.removeChild(this)}}function Mx(){return this.on("end.remove",Nx(this._id))}function bx(n){var t=this._name,l=this._id;typeof n!="function"&&(n=nf(n));for(var a=this._groups,r=a.length,c=new Array(r),p=0;p<r;++p)for(var g=a[p],y=g.length,m=c[p]=new Array(y),v,T,S=0;S<y;++S)(v=g[S])&&(T=n.call(v,v.__data__,S,g))&&("__data__"in v&&(T.__data__=v.__data__),m[S]=T,dr(m[S],t,l,S,m,zn(v,l)));return new Ai(c,this._parents,t,l)}function Rx(n){var t=this._name,l=this._id;typeof n!="function"&&(n=a0(n));for(var a=this._groups,r=a.length,c=[],p=[],g=0;g<r;++g)for(var y=a[g],m=y.length,v,T=0;T<m;++T)if(v=y[T]){for(var S=n.call(v,v.__data__,T,y),C,w=zn(v,l),L=0,te=S.length;L<te;++L)(C=S[L])&&dr(C,t,l,L,S,w);c.push(S),p.push(v)}return new Ai(c,p,t,l)}var wx=Na.prototype.constructor;function Dx(){return new wx(this._groups,this._parents)}function Ix(n,t){var l,a,r;return function(){var c=ho(this,n),p=(this.style.removeProperty(n),ho(this,n));return c===p?null:c===l&&p===a?r:r=t(l=c,a=p)}}function w0(n){return function(){this.style.removeProperty(n)}}function Ux(n,t,l){var a,r=l+"",c;return function(){var p=ho(this,n);return p===r?null:p===a?c:c=t(a=p,l)}}function kx(n,t,l){var a,r,c;return function(){var p=ho(this,n),g=l(this),y=g+"";return g==null&&(y=g=(this.style.removeProperty(n),ho(this,n))),p===y?null:p===a&&y===r?c:(r=y,c=t(a=p,g))}}function Lx(n,t){var l,a,r,c="style."+t,p="end."+c,g;return function(){var y=Kn(this,n),m=y.on,v=y.value[c]==null?g||(g=w0(t)):void 0;(m!==l||r!==v)&&(a=(l=m).copy()).on(p,r=v),y.on=a}}function zx(n,t,l){var a=(n+="")=="transform"?zS:R0;return t==null?this.styleTween(n,Ix(n,a)).on("end.style."+n,w0(n)):typeof t=="function"?this.styleTween(n,kx(n,a,rf(this,"style."+n,t))).each(Lx(this._id,n)):this.styleTween(n,Ux(n,a,t),l).on("end.style."+n,null)}function Gx(n,t,l){return function(a){this.style.setProperty(n,t.call(this,a),l)}}function Hx(n,t,l){var a,r;function c(){var p=t.apply(this,arguments);return p!==r&&(a=(r=p)&&Gx(n,p,l)),a}return c._value=t,c}function Px(n,t,l){var a="style."+(n+="");if(arguments.length<2)return(a=this.tween(a))&&a._value;if(t==null)return this.tween(a,null);if(typeof t!="function")throw new Error;return this.tween(a,Hx(n,t,l??""))}function qx(n){return function(){this.textContent=n}}function Vx(n){return function(){var t=n(this);this.textContent=t??""}}function Bx(n){return this.tween("text",typeof n=="function"?Vx(rf(this,"text",n)):qx(n==null?"":n+""))}function Ox(n){return function(t){this.textContent=n.call(this,t)}}function Yx(n){var t,l;function a(){var r=n.apply(this,arguments);return r!==l&&(t=(l=r)&&Ox(r)),t}return a._value=n,a}function Fx(n){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(n==null)return this.tween(t,null);if(typeof n!="function")throw new Error;return this.tween(t,Yx(n))}function Jx(){for(var n=this._name,t=this._id,l=D0(),a=this._groups,r=a.length,c=0;c<r;++c)for(var p=a[c],g=p.length,y,m=0;m<g;++m)if(y=p[m]){var v=zn(y,t);dr(y,n,l,m,p,{time:v.time+v.delay+v.duration,delay:0,duration:v.duration,ease:v.ease})}return new Ai(a,this._parents,n,l)}function Xx(){var n,t,l=this,a=l._id,r=l.size();return new Promise(function(c,p){var g={value:p},y={value:function(){--r===0&&c()}};l.each(function(){var m=Kn(this,a),v=m.on;v!==n&&(t=(n=v).copy(),t._.cancel.push(g),t._.interrupt.push(g),t._.end.push(y)),m.on=t}),r===0&&c()})}var Kx=0;function Ai(n,t,l,a){this._groups=n,this._parents=t,this._name=l,this._id=a}function D0(){return++Kx}var Si=Na.prototype;Ai.prototype={constructor:Ai,select:bx,selectAll:Rx,selectChild:Si.selectChild,selectChildren:Si.selectChildren,filter:Sx,merge:xx,selection:Dx,transition:Jx,call:Si.call,nodes:Si.nodes,node:Si.node,size:Si.size,empty:Si.empty,each:Si.each,on:Ax,attr:ox,attrTween:cx,style:zx,styleTween:Px,text:Bx,textTween:Fx,remove:Mx,tween:WS,delay:px,duration:gx,ease:vx,easeVarying:Tx,end:Xx,[Symbol.iterator]:Si[Symbol.iterator]};function Qx(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}var $x={time:null,delay:0,duration:250,ease:Qx};function Zx(n,t){for(var l;!(l=n.__transition)||!(l=l[t]);)if(!(n=n.parentNode))throw new Error(`transition ${t} not found`);return l}function Wx(n){var t,l;n instanceof Ai?(t=n._id,n=n._name):(t=D0(),(l=$x).time=af(),n=n==null?null:n+"");for(var a=this._groups,r=a.length,c=0;c<r;++c)for(var p=a[c],g=p.length,y,m=0;m<g;++m)(y=p[m])&&dr(y,n,t,m,p,l||Zx(y,t));return new Ai(a,this._parents,n,t)}Na.prototype.interrupt=QS;Na.prototype.transition=Wx;function jx(n){var t=0,l=n.children,a=l&&l.length;if(!a)t=1;else for(;--a>=0;)t+=l[a].value;n.value=t}function eE(){return this.eachAfter(jx)}function tE(n,t){let l=-1;for(const a of this)n.call(t,a,++l,this);return this}function nE(n,t){for(var l=this,a=[l],r,c,p=-1;l=a.pop();)if(n.call(t,l,++p,this),r=l.children)for(c=r.length-1;c>=0;--c)a.push(r[c]);return this}function iE(n,t){for(var l=this,a=[l],r=[],c,p,g,y=-1;l=a.pop();)if(r.push(l),c=l.children)for(p=0,g=c.length;p<g;++p)a.push(c[p]);for(;l=r.pop();)n.call(t,l,++y,this);return this}function lE(n,t){let l=-1;for(const a of this)if(n.call(t,a,++l,this))return a}function oE(n){return this.eachAfter(function(t){for(var l=+n(t.data)||0,a=t.children,r=a&&a.length;--r>=0;)l+=a[r].value;t.value=l})}function aE(n){return this.eachBefore(function(t){t.children&&t.children.sort(n)})}function sE(n){for(var t=this,l=rE(t,n),a=[t];t!==l;)t=t.parent,a.push(t);for(var r=a.length;n!==l;)a.splice(r,0,n),n=n.parent;return a}function rE(n,t){if(n===t)return n;var l=n.ancestors(),a=t.ancestors(),r=null;for(n=l.pop(),t=a.pop();n===t;)r=n,n=l.pop(),t=a.pop();return r}function uE(){for(var n=this,t=[n];n=n.parent;)t.push(n);return t}function cE(){return Array.from(this)}function fE(){var n=[];return this.eachBefore(function(t){t.children||n.push(t)}),n}function dE(){var n=this,t=[];return n.each(function(l){l!==n&&t.push({source:l.parent,target:l})}),t}function*pE(){var n=this,t,l=[n],a,r,c;do for(t=l.reverse(),l=[];n=t.pop();)if(yield n,a=n.children)for(r=0,c=a.length;r<c;++r)l.push(a[r]);while(l.length)}function uf(n,t){n instanceof Map?(n=[void 0,n],t===void 0&&(t=gE)):t===void 0&&(t=hE);for(var l=new Aa(n),a,r=[l],c,p,g,y;a=r.pop();)if((p=t(a.data))&&(y=(p=Array.from(p)).length))for(a.children=p,g=y-1;g>=0;--g)r.push(c=p[g]=new Aa(p[g])),c.parent=a,c.depth=a.depth+1;return l.eachBefore(vE)}function mE(){return uf(this).eachBefore(yE)}function hE(n){return n.children}function gE(n){return Array.isArray(n)?n[1]:null}function yE(n){n.data.value!==void 0&&(n.value=n.data.value),n.data=n.data.data}function vE(n){var t=0;do n.height=t;while((n=n.parent)&&n.height<++t)}function Aa(n){this.data=n,this.depth=this.height=0,this.parent=null}Aa.prototype=uf.prototype={constructor:Aa,count:eE,each:tE,eachAfter:iE,eachBefore:nE,find:lE,sum:oE,sort:aE,path:sE,ancestors:uE,descendants:cE,leaves:fE,links:dE,copy:mE,[Symbol.iterator]:pE};function _E(n,t){return n.parent===t.parent?1:2}function kc(n){var t=n.children;return t?t[0]:n.t}function Lc(n){var t=n.children;return t?t[t.length-1]:n.t}function TE(n,t,l){var a=l/(t.i-n.i);t.c-=a,t.s+=l,n.c+=a,t.z+=l,t.m+=l}function SE(n){for(var t=0,l=0,a=n.children,r=a.length,c;--r>=0;)c=a[r],c.z+=t,c.m+=t,t+=c.s+(l+=c.c)}function xE(n,t,l){return n.a.parent===t.parent?n.a:l}function Qs(n,t){this._=n,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}Qs.prototype=Object.create(Aa.prototype);function EE(n){for(var t=new Qs(n,0),l,a=[t],r,c,p,g;l=a.pop();)if(c=l._.children)for(l.children=new Array(g=c.length),p=g-1;p>=0;--p)a.push(r=l.children[p]=new Qs(c[p],p)),r.parent=l;return(t.parent=new Qs(null,0)).children=[t],t}function Rh(){var n=_E,t=1,l=1,a=null;function r(m){var v=EE(m);if(v.eachAfter(c),v.parent.m=-v.z,v.eachBefore(p),a)m.eachBefore(y);else{var T=m,S=m,C=m;m.eachBefore(function(ee){ee.x<T.x&&(T=ee),ee.x>S.x&&(S=ee),ee.depth>C.depth&&(C=ee)});var w=T===S?1:n(T,S)/2,L=w-T.x,te=t/(S.x+w+L),z=l/(C.depth||1);m.eachBefore(function(ee){ee.x=(ee.x+L)*te,ee.y=ee.depth*z})}return m}function c(m){var v=m.children,T=m.parent.children,S=m.i?T[m.i-1]:null;if(v){SE(m);var C=(v[0].z+v[v.length-1].z)/2;S?(m.z=S.z+n(m._,S._),m.m=m.z-C):m.z=C}else S&&(m.z=S.z+n(m._,S._));m.parent.A=g(m,S,m.parent.A||T[0])}function p(m){m._.x=m.z+m.parent.m,m.m+=m.parent.m}function g(m,v,T){if(v){for(var S=m,C=m,w=v,L=S.parent.children[0],te=S.m,z=C.m,ee=w.m,$=L.m,B;w=Lc(w),S=kc(S),w&&S;)L=kc(L),C=Lc(C),C.a=m,B=w.z+ee-S.z-te+n(w._,S._),B>0&&(TE(xE(w,m,T),m,B),te+=B,z+=B),ee+=w.m,te+=S.m,$+=L.m,z+=C.m;w&&!Lc(C)&&(C.t=w,C.m+=ee-z),S&&!kc(L)&&(L.t=S,L.m+=te-$,T=m)}return T}function y(m){m.x*=t,m.y=m.depth*l}return r.separation=function(m){return arguments.length?(n=m,r):n},r.size=function(m){return arguments.length?(a=!1,t=+m[0],l=+m[1],r):a?null:[t,l]},r.nodeSize=function(m){return arguments.length?(a=!0,t=+m[0],l=+m[1],r):a?[t,l]:null},r}const Ys=n=>()=>n;function CE(n,{sourceEvent:t,target:l,transform:a,dispatch:r}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:l,enumerable:!0,configurable:!0},transform:{value:a,enumerable:!0,configurable:!0},_:{value:r}})}function Ci(n,t,l){this.k=n,this.x=t,this.y=l}Ci.prototype={constructor:Ci,scale:function(n){return n===1?this:new Ci(this.k*n,this.x,this.y)},translate:function(n,t){return n===0&t===0?this:new Ci(this.k,this.x+this.k*n,this.y+this.k*t)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var cf=new Ci(1,0,0);Ci.prototype;function zc(n){n.stopImmediatePropagation()}function da(n){n.preventDefault(),n.stopImmediatePropagation()}function AE(n){return(!n.ctrlKey||n.type==="wheel")&&!n.button}function NE(){var n=this;return n instanceof SVGElement?(n=n.ownerSVGElement||n,n.hasAttribute("viewBox")?(n=n.viewBox.baseVal,[[n.x,n.y],[n.x+n.width,n.y+n.height]]):[[0,0],[n.width.baseVal.value,n.height.baseVal.value]]):[[0,0],[n.clientWidth,n.clientHeight]]}function wh(){return this.__zoom||cf}function ME(n){return-n.deltaY*(n.deltaMode===1?.05:n.deltaMode?1:.002)*(n.ctrlKey?10:1)}function bE(){return navigator.maxTouchPoints||"ontouchstart"in this}function RE(n,t,l){var a=n.invertX(t[0][0])-l[0][0],r=n.invertX(t[1][0])-l[1][0],c=n.invertY(t[0][1])-l[0][1],p=n.invertY(t[1][1])-l[1][1];return n.translate(r>a?(a+r)/2:Math.min(0,a)||Math.max(0,r),p>c?(c+p)/2:Math.min(0,c)||Math.max(0,p))}function wE(){var n=AE,t=NE,l=RE,a=ME,r=bE,c=[0,1/0],p=[[-1/0,-1/0],[1/0,1/0]],g=250,y=VS,m=ur("start","zoom","end"),v,T,S,C=500,w=150,L=0,te=10;function z(k){k.property("__zoom",wh).on("wheel.zoom",xe,{passive:!1}).on("mousedown.zoom",re).on("dblclick.zoom",Te).filter(r).on("touchstart.zoom",fe).on("touchmove.zoom",Ee).on("touchend.zoom touchcancel.zoom",Fe).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}z.transform=function(k,ue,M,O){var ie=k.selection?k.selection():k;ie.property("__zoom",wh),k!==ie?J(k,ue,M,O):ie.interrupt().each(function(){oe(this,arguments).event(O).start().zoom(null,typeof ue=="function"?ue.apply(this,arguments):ue).end()})},z.scaleBy=function(k,ue,M,O){z.scaleTo(k,function(){var ie=this.__zoom.k,pe=typeof ue=="function"?ue.apply(this,arguments):ue;return ie*pe},M,O)},z.scaleTo=function(k,ue,M,O){z.transform(k,function(){var ie=t.apply(this,arguments),pe=this.__zoom,de=M==null?B(ie):typeof M=="function"?M.apply(this,arguments):M,N=pe.invert(de),V=typeof ue=="function"?ue.apply(this,arguments):ue;return l($(ee(pe,V),de,N),ie,p)},M,O)},z.translateBy=function(k,ue,M,O){z.transform(k,function(){return l(this.__zoom.translate(typeof ue=="function"?ue.apply(this,arguments):ue,typeof M=="function"?M.apply(this,arguments):M),t.apply(this,arguments),p)},null,O)},z.translateTo=function(k,ue,M,O,ie){z.transform(k,function(){var pe=t.apply(this,arguments),de=this.__zoom,N=O==null?B(pe):typeof O=="function"?O.apply(this,arguments):O;return l(cf.translate(N[0],N[1]).scale(de.k).translate(typeof ue=="function"?-ue.apply(this,arguments):-ue,typeof M=="function"?-M.apply(this,arguments):-M),pe,p)},O,ie)};function ee(k,ue){return ue=Math.max(c[0],Math.min(c[1],ue)),ue===k.k?k:new Ci(ue,k.x,k.y)}function $(k,ue,M){var O=ue[0]-M[0]*k.k,ie=ue[1]-M[1]*k.k;return O===k.x&&ie===k.y?k:new Ci(k.k,O,ie)}function B(k){return[(+k[0][0]+ +k[1][0])/2,(+k[0][1]+ +k[1][1])/2]}function J(k,ue,M,O){k.on("start.zoom",function(){oe(this,arguments).event(O).start()}).on("interrupt.zoom end.zoom",function(){oe(this,arguments).event(O).end()}).tween("zoom",function(){var ie=this,pe=arguments,de=oe(ie,pe).event(O),N=t.apply(ie,pe),V=M==null?B(N):typeof M=="function"?M.apply(ie,pe):M,ae=Math.max(N[1][0]-N[0][0],N[1][1]-N[0][1]),j=ie.__zoom,ye=typeof ue=="function"?ue.apply(ie,pe):ue,Me=y(j.invert(V).concat(ae/j.k),ye.invert(V).concat(ae/ye.k));return function(be){if(be===1)be=ye;else{var W=Me(be),Ge=ae/W[2];be=new Ci(Ge,V[0]-W[0]*Ge,V[1]-W[1]*Ge)}de.zoom(null,be)}})}function oe(k,ue,M){return!M&&k.__zooming||new ne(k,ue)}function ne(k,ue){this.that=k,this.args=ue,this.active=0,this.sourceEvent=null,this.extent=t.apply(k,ue),this.taps=0}ne.prototype={event:function(k){return k&&(this.sourceEvent=k),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(k,ue){return this.mouse&&k!=="mouse"&&(this.mouse[1]=ue.invert(this.mouse[0])),this.touch0&&k!=="touch"&&(this.touch0[1]=ue.invert(this.touch0[0])),this.touch1&&k!=="touch"&&(this.touch1[1]=ue.invert(this.touch1[0])),this.that.__zoom=ue,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(k){var ue=qt(this.that).datum();m.call(k,this.that,new CE(k,{sourceEvent:this.sourceEvent,target:z,transform:this.that.__zoom,dispatch:m}),ue)}};function xe(k,...ue){if(!n.apply(this,arguments))return;var M=oe(this,ue).event(k),O=this.__zoom,ie=Math.max(c[0],Math.min(c[1],O.k*Math.pow(2,a.apply(this,arguments)))),pe=Ei(k);if(M.wheel)(M.mouse[0][0]!==pe[0]||M.mouse[0][1]!==pe[1])&&(M.mouse[1]=O.invert(M.mouse[0]=pe)),clearTimeout(M.wheel);else{if(O.k===ie)return;M.mouse=[pe,O.invert(pe)],Ks(this),M.start()}da(k),M.wheel=setTimeout(de,w),M.zoom("mouse",l($(ee(O,ie),M.mouse[0],M.mouse[1]),M.extent,p));function de(){M.wheel=null,M.end()}}function re(k,...ue){if(S||!n.apply(this,arguments))return;var M=k.currentTarget,O=oe(this,ue,!0).event(k),ie=qt(k.view).on("mousemove.zoom",V,!0).on("mouseup.zoom",ae,!0),pe=Ei(k,M),de=k.clientX,N=k.clientY;y0(k.view),zc(k),O.mouse=[pe,this.__zoom.invert(pe)],Ks(this),O.start();function V(j){if(da(j),!O.moved){var ye=j.clientX-de,Me=j.clientY-N;O.moved=ye*ye+Me*Me>L}O.event(j).zoom("mouse",l($(O.that.__zoom,O.mouse[0]=Ei(j,M),O.mouse[1]),O.extent,p))}function ae(j){ie.on("mousemove.zoom mouseup.zoom",null),v0(j.view,O.moved),da(j),O.event(j).end()}}function Te(k,...ue){if(n.apply(this,arguments)){var M=this.__zoom,O=Ei(k.changedTouches?k.changedTouches[0]:k,this),ie=M.invert(O),pe=M.k*(k.shiftKey?.5:2),de=l($(ee(M,pe),O,ie),t.apply(this,ue),p);da(k),g>0?qt(this).transition().duration(g).call(J,de,O,k):qt(this).call(z.transform,de,O,k)}}function fe(k,...ue){if(n.apply(this,arguments)){var M=k.touches,O=M.length,ie=oe(this,ue,k.changedTouches.length===O).event(k),pe,de,N,V;for(zc(k),de=0;de<O;++de)N=M[de],V=Ei(N,this),V=[V,this.__zoom.invert(V),N.identifier],ie.touch0?!ie.touch1&&ie.touch0[2]!==V[2]&&(ie.touch1=V,ie.taps=0):(ie.touch0=V,pe=!0,ie.taps=1+!!v);v&&(v=clearTimeout(v)),pe&&(ie.taps<2&&(T=V[0],v=setTimeout(function(){v=null},C)),Ks(this),ie.start())}}function Ee(k,...ue){if(this.__zooming){var M=oe(this,ue).event(k),O=k.changedTouches,ie=O.length,pe,de,N,V;for(da(k),pe=0;pe<ie;++pe)de=O[pe],N=Ei(de,this),M.touch0&&M.touch0[2]===de.identifier?M.touch0[0]=N:M.touch1&&M.touch1[2]===de.identifier&&(M.touch1[0]=N);if(de=M.that.__zoom,M.touch1){var ae=M.touch0[0],j=M.touch0[1],ye=M.touch1[0],Me=M.touch1[1],be=(be=ye[0]-ae[0])*be+(be=ye[1]-ae[1])*be,W=(W=Me[0]-j[0])*W+(W=Me[1]-j[1])*W;de=ee(de,Math.sqrt(be/W)),N=[(ae[0]+ye[0])/2,(ae[1]+ye[1])/2],V=[(j[0]+Me[0])/2,(j[1]+Me[1])/2]}else if(M.touch0)N=M.touch0[0],V=M.touch0[1];else return;M.zoom("touch",l($(de,N,V),M.extent,p))}}function Fe(k,...ue){if(this.__zooming){var M=oe(this,ue).event(k),O=k.changedTouches,ie=O.length,pe,de;for(zc(k),S&&clearTimeout(S),S=setTimeout(function(){S=null},C),pe=0;pe<ie;++pe)de=O[pe],M.touch0&&M.touch0[2]===de.identifier?delete M.touch0:M.touch1&&M.touch1[2]===de.identifier&&delete M.touch1;if(M.touch1&&!M.touch0&&(M.touch0=M.touch1,delete M.touch1),M.touch0)M.touch0[1]=this.__zoom.invert(M.touch0[0]);else if(M.end(),M.taps===2&&(de=Ei(de,this),Math.hypot(T[0]-de[0],T[1]-de[1])<te)){var N=qt(this).on("dblclick.zoom");N&&N.apply(this,arguments)}}}return z.wheelDelta=function(k){return arguments.length?(a=typeof k=="function"?k:Ys(+k),z):a},z.filter=function(k){return arguments.length?(n=typeof k=="function"?k:Ys(!!k),z):n},z.touchable=function(k){return arguments.length?(r=typeof k=="function"?k:Ys(!!k),z):r},z.extent=function(k){return arguments.length?(t=typeof k=="function"?k:Ys([[+k[0][0],+k[0][1]],[+k[1][0],+k[1][1]]]),z):t},z.scaleExtent=function(k){return arguments.length?(c[0]=+k[0],c[1]=+k[1],z):[c[0],c[1]]},z.translateExtent=function(k){return arguments.length?(p[0][0]=+k[0][0],p[1][0]=+k[1][0],p[0][1]=+k[0][1],p[1][1]=+k[1][1],z):[[p[0][0],p[0][1]],[p[1][0],p[1][1]]]},z.constrain=function(k){return arguments.length?(l=k,z):l},z.duration=function(k){return arguments.length?(g=+k,z):g},z.interpolate=function(k){return arguments.length?(y=k,z):y},z.on=function(){var k=m.on.apply(m,arguments);return k===m?z:k},z.clickDistance=function(k){return arguments.length?(L=(k=+k)*k,z):Math.sqrt(L)},z.tapDistance=function(k){return arguments.length?(te=+k,z):te},z}var ge=(n=>(n.SYSTEM_ROOT="SYSTEM_ROOT",n.TRANSFORMER="TRANSFORMER",n.METER="METER",n.DISTRIBUTION_BOARD="DISTRIBUTION_BOARD",n.BREAKER="BREAKER",n.SWITCH="SWITCH",n.LOAD="LOAD",n.GENERATOR="GENERATOR",n))(ge||{});const $s={strokeColor:"#334155",lineStyle:"solid",startMarker:"none",endMarker:"arrow"},pa={id:"proj-1",name:"My First Project",pages:[{id:"page-1",name:"Main Distribution",items:[]}]},kn={[ge.SYSTEM_ROOT]:{color:"#475569",icon:"domain"},[ge.TRANSFORMER]:{color:"#eab308",icon:"electric_bolt"},[ge.METER]:{color:"#3b82f6",icon:"speed"},[ge.DISTRIBUTION_BOARD]:{color:"#64748b",icon:"dns"},[ge.BREAKER]:{color:"#f97316",icon:"toggle_off"},[ge.SWITCH]:{color:"#22c55e",icon:"toggle_on"},[ge.LOAD]:{color:"#a855f7",icon:"lightbulb"},[ge.GENERATOR]:{color:"#ef4444",icon:"letter_g"}},Jn={domain:"M12 7V3H2v18h20V7H12zM6 19H4v-2h2v2zm0-4H4v-2h2v2zm0-4H4V9h2v2zm0-4H4V5h2v2zm4 12H8v-2h2v2zm0-4H8v-2h2v2zm0-4H8V9h2v2zm0-4H8V5h2v2zm10 12h-8v-2h2v-2h-2v-2h2v-2h-2V9h8v10zm-2-8h-2v2h2v-2zm0 4h-2v2h2v-2z",electric_bolt:"M15 2L2.5 13 13 14l-5 7 1 1 12.5-11L11 10l5-7z",speed:"M20.38 8.57l-1.23 1.85a8 8 0 0 1-.22 7.58H5.07A8 8 0 0 1 15.58 6.85l1.85-1.23A10 10 0 0 0 3.35 19a2 2 0 0 0 1.72 1h13.85a2 2 0 0 0 1.74-1 10 10 0 0 0-.27-10.44zm-9.79 6.84a2 2 0 0 0 2.83 0l5.66-8.49-8.49 5.66a2 2 0 0 0 0 2.83z",dns:"M20 13H4c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h16c.55 0 1-.45 1-1v-6c0-.55-.45-1-1-1zM7 19c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zM20 3H4c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h16c.55 0 1-.45 1-1V4c0-.55-.45-1-1-1zM7 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z",toggle_off:"M17 7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h10c2.76 0 5-2.24 5-5s-2.24-5-5-5zM7 15c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3z",toggle_on:"M17 7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h10c2.76 0 5-2.24 5-5s-2.24-5-5-5zm0 8c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3z",lightbulb:"M9 21c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-1H9v1zm3-19C8.14 2 5 5.14 5 9c0 2.38 1.19 4.47 3 5.74V17c0 .55.45 1 1 1h6c.55 0 1-.45 1-1v-2.26c1.81-1.27 3-3.36 3-5.74 0-3.86-3.14-7-7-7zm2.85 11.1l-.85.6V16h-4v-2.3l-.85-.6C7.8 12.16 7 10.63 7 9c0-2.76 2.24-5 5-5s5 2.24 5 5c0 1.63-.8 3.16-2.15 4.1z",settings_power:"M7 24h2v-2H7v2zm4 0h2v-2h-2v2zm4 0h2v-2h-2v2zM16.59 5.41L15.17 4L12 7.17L8.83 4L7.41 5.41L10.59 8.59C8.46 9.06 7 11.27 7 13.5V21h10v-7.5c0-2.23-1.46-4.44-3.59-4.91L16.59 5.41z",help:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z",add:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z",visibility:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z",visibility_off:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z",folder_open:"M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm0 12H4V8h16v10z",delete:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z",link:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z",link_off:"M17 7h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1 0 1.55-1.15 2.84-2.63 3.05l1.52 1.52C20.8 15.77 22 14.02 22 12c0-2.76-2.24-5-5-5zM3.27 3L2 4.27l3.11 3.11C3.29 8.12 2 9.91 2 12c0 2.76 2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1 0-.25.03-.5.08-.73L6.29 13.5l.6.6.3.3 3.74 3.74.6.6 8.2 8.2L21 25.73 3.27 3z",close:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z",letter_g:"M20.64 12.2c0-.63-.06-1.25-.16-1.84H12v3.49h4.84a4.14 4.14 0 0 1-1.8 2.71v2.25h2.92c1.71-1.58 2.69-3.9 2.69-6.61zM12 21c2.43 0 4.47-.8 5.96-2.18l-2.91-2.25c-.81.54-1.84.86-3.05.86-2.34 0-4.32-1.58-5.03-3.71H3.85v2.33C5.33 18.97 8.47 21 12 21zM6.97 13.71c-.18-.53-.28-1.09-.28-1.67s.1-1.14.28-1.67V8.05H3.85a8.55 8.55 0 0 0 0 7.99l3.12-2.33zM12 6.88c1.32 0 2.51.45 3.45 1.35l2.58-2.59A9 9 0 0 0 12 3c-3.53 0-6.67 2.03-8.15 5.05l3.12 2.33c.71-2.13 2.69-3.71 5.03-3.71z"},Dh=["Schneider Electric Acti9","Siemens Sentron","ABB S200","Eaton xDigital","Legrand DX3","General Electric TE","Generic Heavy Duty","Smart Meter Three Phase","Caterpillar C15 Generator","Kohler Power System"],DE=({data:n,onNodeClick:t,onLinkClick:l,onDuplicateChild:a,onDeleteNode:r,onToggleCollapse:c,onGroupNode:p,onNodeMove:g,onAddRoot:y,onAddGenerator:m,onBackgroundClick:v,selectedNodeId:T,multiSelection:S,selectedLinkId:C,orientation:w,searchMatches:L,isConnectMode:te=!1,connectionSourceId:z=null,isPrintMode:ee=!1,activeProject:$,onDisconnectLink:B,t:J,language:oe,theme:ne})=>{const xe=Ae.useRef(null),re=Ae.useRef(null),[Te,fe]=Ae.useState({width:800,height:600}),Ee=Ae.useRef(cf),Fe=oe==="he"||oe==="ar",k=ne==="dark",ue=k?"#0f172a":"#ffffff",M=k?"#1e293b":"#e2e8f0",O=k?"#cbd5e1":"#334155",ie=k?"#f1f5f9":"#0f172a",pe=k?"#1e293b":"#ffffff",de=k?"#334155":"#f8fafc",N=k?"#94a3b8":"#475569",V=j=>j?{"Main Supply":J.defaultDesc.grid,"Standby Power":J.defaultDesc.gen,"Step Down/Up":J.defaultDesc.trans,"Independent Load":J.defaultDesc.load,"Grouped Components":J.inputPanel.groupNode}[j]||j:"",ae=(j,ye)=>(!j||j.toUpperCase()===ye||j.replace(/_/g," ").toUpperCase()===ye.replace(/_/g," "))&&J.componentTypes[ye]||j;return Ae.useEffect(()=>{re.current&&fe({width:re.current.offsetWidth,height:re.current.offsetHeight});const j=()=>{re.current&&fe({width:re.current.offsetWidth,height:re.current.offsetHeight})};return window.addEventListener("resize",j),()=>window.removeEventListener("resize",j)},[]),Ae.useEffect(()=>{if(!xe.current)return;const j=qt(xe.current);j.selectAll("*").remove(),j.on("click",A=>{v?.()});const ye=j.append("defs");ye.append("pattern").attr("id","dot-pattern").attr("width",20).attr("height",20).attr("patternUnits","userSpaceOnUse").append("circle").attr("cx",2).attr("cy",2).attr("r",1).attr("fill",M),j.style("background-color",ue).style("background-image","url(#dot-pattern)");const{width:be,height:W}=Te;if(!n||n.length===0){const A=j.append("g").attr("transform",`translate(${be/2},${W/2})`);A.append("circle").attr("r",40).attr("fill",de).attr("stroke",N).attr("stroke-width",2).attr("stroke-dasharray","5,5").style("cursor","pointer").on("click",se=>{se.stopPropagation(),y&&y()}),A.append("path").attr("d",Jn.domain).attr("transform","translate(-16, -16) scale(1.33)").attr("fill",N).style("pointer-events","none"),A.append("text").attr("y",60).attr("text-anchor","middle").style("font-size","14px").style("fill",N).text(J.addFirstNode);const P=j.append("g").attr("transform",`translate(${be/2},${W/2+120})`);P.append("rect").attr("x",-80).attr("y",-20).attr("width",160).attr("height",40).attr("rx",20).attr("fill","transparent").attr("stroke",N).attr("stroke-dasharray","4,4").style("cursor","pointer").on("click",se=>{se.stopPropagation(),m&&m()}),P.append("text").attr("text-anchor","middle").attr("dominant-baseline","central").style("font-size","12px").style("fill",N).style("pointer-events","none").text(J.addStandaloneGen);return}const Ge={top:100,left:150};["arrow","circle","diamond"].forEach(A=>{const P=ye.append("marker").attr("id",`${A}-start`).attr("viewBox","0 0 10 10").attr("refX",5).attr("refY",5).attr("markerWidth",6).attr("markerHeight",6).attr("orient","auto-start-reverse");A==="arrow"?P.append("path").attr("d","M10,0 L0,5 L10,10 z").attr("fill","context-stroke"):A==="circle"?P.append("circle").attr("cx",5).attr("cy",5).attr("r",4).attr("fill","context-stroke"):A==="diamond"&&P.append("path").attr("d","M5,0 L10,5 L5,10 L0,5 z").attr("fill","context-stroke");const se=ye.append("marker").attr("id",`${A}-end`).attr("viewBox","0 0 10 10").attr("refX",5).attr("refY",5).attr("markerWidth",6).attr("markerHeight",6).attr("orient","auto");A==="arrow"?se.append("path").attr("d","M0,0 L10,5 L0,10 z").attr("fill","context-stroke"):A==="circle"?se.append("circle").attr("cx",5).attr("cy",5).attr("r",4).attr("fill","context-stroke"):A==="diamond"&&se.append("path").attr("d","M5,0 L10,5 L5,10 L0,5 z").attr("fill","context-stroke")}),ye.append("marker").attr("id","arrow-end-extra").attr("viewBox","0 0 10 10").attr("refX",5).attr("refY",5).attr("markerWidth",6).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M0,0 L10,5 L0,10 z").attr("fill",k?"#f59e0b":"#d97706");const wt=j.append("g").attr("transform",`translate(${Ge.left},${Ge.top})`),Nt=wE().scaleExtent([.1,4]).on("zoom",A=>{Ee.current=A.transform,wt.attr("transform",A.transform)});j.call(Nt),j.call(Nt.transform,Ee.current);const Ri={id:"virtual-root",name:"Virtual Root",type:ge.SYSTEM_ROOT,children:n},It=uf(Ri);It.descendants().forEach(A=>{A.data.isCollapsed&&A.children&&(A._children=A.children,A.children=null)});const Kt=A=>{if(A.data.id==="virtual-root")return{w:1,h:1};const P=ae(A.data.name,A.data.type),se=A.data.componentNumber||J.componentTypes[A.data.type]||A.data.type,le=A.data.model||"",Se=V(A.data.description);let De="";A.data.amps&&(De+=`${A.data.amps}A`),A.data.voltage&&(De+=`${A.data.voltage}V`),A.data.kva&&(De+=`${A.data.kva}kVA`);const rt=(P?.length||0)*8.5,ht=(se?.length||0)*7.5,gt=De.length*7.5,$t=le.length*7,Rn=Math.min(Se.length*7,220);let sn=0;if(A.data.hasMeter){const ei=(A.data.meterNumber?.length||0)*8+10;sn+=24+(A.data.meterNumber?ei:0)}if(A.data.hasGeneratorConnection){const ei=(A.data.generatorName?.length||0)*8+10;sn+=24+(A.data.generatorName?ei:0)}A.data.hasMeter&&A.data.hasGeneratorConnection&&(sn+=30);const Ml=Math.max(rt,ht,gt,$t,Rn,sn,90)+30;let Zt=25;return Zt+=24,Zt+=16,De&&(Zt+=14),le&&(Zt+=14),Se&&(Zt+=14),(A.data.hasMeter||A.data.hasGeneratorConnection)&&(Zt+=26),Zt+=12,{w:Ml,h:Zt}};It.each(A=>{const P=Kt(A);A.width=P.w,A.height=P.h});const Hn=It.leaves().length,Pn=It.height+1;let Qt;if(w==="horizontal"){const P=Math.max(W,Hn*140),se=Math.max(be,Pn*350);Qt=Rh().size([P,se]).nodeSize([140,350]).separation((le,Se)=>{const De=le.height||100,Re=Se.height||100;return((De+Re)/2+20)/140*(le.parent===Se.parent?1:1.2)})}else{const P=Math.max(be,Hn*200),se=Math.max(W,Pn*200);Qt=Rh().size([P,se]).nodeSize([200,200]).separation((le,Se)=>{const De=le.width||120,Re=Se.width||120;return((De+Re)/2+20)/200*(le.parent===Se.parent?1:1.2)})}Qt(It);const Ut=It.descendants().filter(A=>A.depth>0),Bt=It.links().filter(A=>A.source.data.id!=="virtual-root"),dt=A=>{const P=A.width,se=A.height;return w==="horizontal"?{x:0,y:-se/2,w:P,h:se}:{x:-P/2,y:0,w:P,h:se}},Ot=(A,P)=>{const se=A.data.manualX||0,le=A.data.manualY||0,Se=P.data.manualX||0,De=P.data.manualY||0;if(w==="horizontal"){const Re=A.y+A.width+se,rt=A.x+le,ht=P.y+Se,gt=P.x+De;return`M${Re},${rt} H${(Re+ht)/2} V${gt} H${ht}`}else{const Re=A.x+se,rt=A.y+A.height+le,ht=P.x+Se,gt=P.y+De;return`M${Re},${rt} V${(rt+gt)/2} H${ht} V${gt}`}},Qn=[],$n=new Map;Ut.forEach(A=>$n.set(A.data.id,A)),Ut.forEach(A=>{A.data.extraConnections&&A.data.extraConnections.forEach(P=>{const se=$n.get(P);se&&Qn.push({source:se,target:A})})});const at=wt.append("g").attr("class","links"),pt=hS().on("start",function(A,P){P.descendants().forEach(le=>{le.__initialManualX=le.data.manualX||0,le.__initialManualY=le.data.manualY||0}),qt(this).attr("data-is-dragging","false")}).on("drag",function(A,P){!P.__isDragging&&A.dx*A.dx+A.dy*A.dy>0&&(P.__totalDx=(P.__totalDx||0)+A.dx,P.__totalDy=(P.__totalDy||0)+A.dy,P.__totalDx**2+P.__totalDy**2>16&&(P.__isDragging=!0)),P.__isDragging&&P.descendants().forEach(le=>{const Se=(le.data.manualX||0)+A.dx,De=(le.data.manualY||0)+A.dy;le.data.manualX=Se,le.data.manualY=De;const Re=wt.select(`g.node[data-id="${le.data.id}"]`),rt=le.data.manualX||0,ht=le.data.manualY||0;w==="horizontal"?Re.attr("transform",`translate(${le.y+rt},${le.x+ht})`):Re.attr("transform",`translate(${le.x+rt},${le.y+ht})`),le.parent&&(wt.select(`path.link-visible[data-target-id="${le.data.id}"]`).attr("d",Ot(le.parent,le)),wt.select(`path.link-hit[data-target-id="${le.data.id}"]`).attr("d",Ot(le.parent,le))),le.children&&le.children.forEach(gt=>{wt.select(`path.link-visible[data-target-id="${gt.data.id}"]`).attr("d",Ot(le,gt)),wt.select(`path.link-hit[data-target-id="${gt.data.id}"]`).attr("d",Ot(le,gt))})})}).on("end",function(A,P){if(P.__isDragging){P.__isDragging=!1,P.__totalDx=0,P.__totalDy=0;const se=[];P.descendants().forEach(Se=>{se.push({id:Se.data.id,x:Se.data.manualX||0,y:Se.data.manualY||0})}),g&&g(se)}}),Zn=(A,P,se=!1)=>{A.attr("class",P).attr("data-target-id",le=>le.target.data.id).attr("d",le=>Ot(le.source,le.target)).attr("fill","none").each(function(le){if(se)return;const Se=le.target.data.connectionStyle||{},De=Se.strokeColor||le.target.data.customColor||kn[le.target.data.type]?.color||O,Re=le.target.data.id===C;P==="link-extra"?qt(this).attr("stroke",k?"#f59e0b":"#d97706").attr("stroke-width",2.5).attr("stroke-dasharray","8,5").attr("marker-end","url(#arrow-end-extra)").attr("opacity",.8):qt(this).attr("stroke",De).attr("stroke-width",Re?4:2.5).attr("stroke-dasharray",Se.lineStyle==="dashed"?"8,4":Se.lineStyle==="dotted"?"2,4":"none").attr("marker-start",Se.startMarker&&Se.startMarker!=="none"?`url(#${Se.startMarker}-start)`:null).attr("marker-end",Se.endMarker&&Se.endMarker!=="none"?`url(#${Se.endMarker}-end)`:null).style("filter",Re?"drop-shadow(0 0 3px rgba(0, 0, 0, 0.3))":"none").attr("opacity",rt=>L?L.has(rt.source.data.id)||L.has(rt.target.data.id)?1:.1:.8)})};if(at.selectAll("path.link-visible").data(Bt).enter().append("path").call(Zn,"link-visible"),at.selectAll("path.link-extra").data(Qn).enter().append("path").call(Zn,"link-extra"),at.selectAll("path.link-hit").data(Bt).enter().append("path").attr("class","link-hit").attr("data-target-id",A=>A.target.data.id).attr("d",A=>Ot(A.source,A.target)).attr("fill","none").attr("stroke","transparent").attr("stroke-width",15).style("cursor","pointer").on("click",(A,P)=>{A.stopPropagation(),l(P.source.data.id,P.target.data.id)}),C){const A=Bt.find(P=>P.target.data.id===C)||Qn.find(P=>P.target.data.id===C);if(A){const P=A.source.data.manualX||0,se=A.source.data.manualY||0,le=A.target.data.manualX||0,Se=A.target.data.manualY||0;let De,Re,rt,ht;w==="horizontal"?(De=A.source.y+A.source.width+P,Re=A.source.x+se,rt=A.target.y+le,ht=A.target.x+Se):(De=A.source.x+P,Re=A.source.y+A.source.height+se,rt=A.target.x+le,ht=A.target.y+Se);const gt=(De+rt)/2,$t=(Re+ht)/2;if(!isNaN(gt)&&!isNaN($t)){const Rn=at.append("g").attr("class","link-delete-btn").attr("transform",`translate(${gt}, ${$t})`).style("cursor","pointer").on("click",sn=>{sn.stopPropagation(),B&&B()});Rn.append("circle").attr("r",10).attr("fill","#ef4444").attr("stroke","#ffffff").attr("stroke-width",2),Rn.append("path").attr("d","M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z").attr("transform","translate(-12, -12) scale(1)").attr("fill","white"),Rn.append("title").text(J.inputPanel.disconnect)}}}const He=wt.selectAll("g.node").data(Ut).enter().append("g").attr("class",A=>`node group ${A.data.id===T||S.has(A.data.id)?"selected":""}`).attr("data-id",A=>A.data.id).attr("transform",A=>{const P=A.data.manualX||0,se=A.data.manualY||0;return w==="horizontal"?`translate(${A.y+P},${A.x+se})`:`translate(${A.x+P},${A.y+se})`}).call(pt).on("click",function(A,P){if(P.__isDragging){A.stopPropagation();return}A.defaultPrevented||(A.stopPropagation(),t(P.data,A.shiftKey))}).on("mouseenter",function(A,P){const se=P.data.id===T||S.has(P.data.id),le=P.data.id===z,Se=qt(this);Se.style("cursor","move"),Se.select(".action-buttons").style("opacity",1).style("pointer-events","all"),Se.select("rect.node-bg").transition().duration(200).attr("fill",k?"#334155":"#e2e8f0").attr("stroke",le?"#f59e0b":se?"#3b82f6":"#64748b")}).on("mouseleave",function(A,P){const se=P.data.id===T||S.has(P.data.id),le=P.data.id===z,Se=qt(this);se||Se.select(".action-buttons").style("opacity",0).style("pointer-events","none"),Se.select("rect.node-bg").transition().duration(200).attr("fill",De=>De.data.type===ge.SYSTEM_ROOT?de:pe).attr("stroke",le?"#f59e0b":se?"#3b82f6":N)}).style("cursor",A=>"move").style("opacity",A=>!L||L.has(A.data.id)||A.parent&&A.parent.data.id!=="virtual-root"&&L.has(A.parent.data.id)||A.children&&A.children.some(P=>L.has(P.data.id))||A._children&&A._children.some(P=>L.has(P.data.id))?1:.2);He.append("rect").attr("class","node-bg").attr("width",A=>A.width).attr("height",A=>A.height).attr("x",A=>dt(A).x).attr("y",A=>dt(A).y).attr("rx",12).attr("fill",A=>A.data.type===ge.SYSTEM_ROOT?de:pe).attr("stroke",A=>A.data.id===z?"#f59e0b":A.data.id===T||S.has(A.data.id)?"#3b82f6":A.data.type===ge.SYSTEM_ROOT?"#64748b":N).attr("stroke-width",A=>A.data.id===T||S.has(A.data.id)||A.data.id===z?3:1.5).style("filter",A=>A.data.id===T||S.has(A.data.id)||A.data.id===z?"drop-shadow(0 0 8px rgba(59, 130, 246, 0.3))":"drop-shadow(0 1px 2px rgba(0,0,0,0.1))"),He.filter(A=>!!(A.data.isCollapsed&&A._children&&A._children.length>0)).append("circle").attr("r",8).attr("cx",A=>w==="horizontal"?A.width:0).attr("cy",A=>w==="horizontal"?0:A.height).attr("fill",M).attr("stroke",N).attr("stroke-width",1).style("pointer-events","none"),He.filter(A=>!!(A.data.isCollapsed&&A._children&&A._children.length>0)).append("text").attr("text-anchor","middle").attr("dominant-baseline","central").attr("x",A=>w==="horizontal"?A.width:0).attr("y",A=>w==="horizontal"?0:A.height).attr("fill",N).style("font-size","12px").style("font-weight","bold").text("+"),He.append("path").attr("d",A=>{const se=dt(A);return`M${se.x},${se.y+6} v6 a12,12 0 0 1 12,-12 h${se.w-24} a12,12 0 0 1 12,12 v-6`}).attr("fill",A=>A.data.customColor||kn[A.data.type]?.color||"#94a3b8");const Yt=He.append("g").attr("transform",A=>{const P=dt(A);return w==="horizontal"?`translate(${A.width/2}, ${P.y+25})`:`translate(0, ${P.y+25})`});Yt.append("circle").attr("r",16).attr("cx",0).attr("cy",0).attr("fill",k?"#1e293b":"#ffffff").attr("stroke",A=>A.data.customColor||kn[A.data.type]?.color||"#94a3b8").attr("stroke-width",1.5),Yt.append("path").attr("d",A=>Jn[kn[A.data.type]?.icon]||Jn.help).attr("transform","translate(-9, -9) scale(0.75)").attr("fill",A=>A.data.customColor||kn[A.data.type]?.color||"#94a3b8"),Yt.append("text").attr("x",0).attr("y",32).attr("text-anchor","middle").style("font-size","14px").style("font-weight","bold").style("fill",ie).text(A=>ae(A.data.name,A.data.type)),Yt.append("text").attr("x",0).attr("y",48).attr("text-anchor","middle").style("font-size","10px").style("font-weight","bold").style("fill",A=>A.data.customColor||kn[A.data.type]?.color||"#94a3b8").style("opacity",.9).text(A=>A.data.componentNumber||J.componentTypes[A.data.type]||A.data.type),Yt.append("text").attr("x",0).attr("y",62).attr("text-anchor","middle").style("font-size","11px").style("fill",N).text(A=>{const P=[];return A.data.amps&&P.push(`${A.data.amps}A`),A.data.voltage&&P.push(`${A.data.voltage}V`),A.data.kva&&P.push(`${A.data.kva}kVA`),P.join(" | ")}),Yt.each(function(A){let P=62;const se=qt(this);A.data.model&&(P+=14,se.append("text").attr("x",0).attr("y",P).attr("text-anchor","middle").style("font-size","10px").style("font-style","italic").style("fill",N).text(A.data.model));const le=V(A.data.description);le&&(P+=14,se.append("text").attr("x",0).attr("y",P).attr("text-anchor","middle").style("font-size","10px").style("fill",N).text(le.length>30?le.substring(0,28)+"...":le))});const Wn=A=>{const P=dt(A);return P.y+P.h-24};He.filter(A=>!!A.data.hasMeter).append("g").attr("transform",A=>`translate(${dt(A).x+8}, ${Wn(A)})`).call(A=>{const P=le=>(le.data.meterNumber?.length||0)*8+10,se=le=>24+(le.data.meterNumber?P(le):0);A.append("rect").attr("height",18).attr("width",se).attr("rx",9).attr("fill",k?"#1e3a8a":"#dbeafe").attr("stroke","#3b82f6").attr("stroke-width",.5),A.append("path").attr("d",Jn.speed).attr("transform","translate(3, 3) scale(0.5)").attr("fill","#3b82f6"),A.append("text").attr("x",20).attr("y",9).attr("dominant-baseline","central").attr("text-anchor","start").style("font-size","9px").style("font-weight","bold").style("fill","#3b82f6").style("direction","ltr").text(le=>le.data.meterNumber||""),A.append("title").text(le=>le.data.meterNumber?`${J.legend.meter}: ${le.data.meterNumber}`:J.legend.meter)}),He.filter(A=>!!A.data.hasGeneratorConnection).append("g").attr("transform",function(A){const P=dt(A),se=Wn(A),le=(A.data.generatorName?.length||0)*8+10,Se=24+(A.data.generatorName?le:0);return`translate(${P.x+P.w-Se-8}, ${se})`}).call(A=>{const P=le=>(le.data.generatorName?.length||0)*8+10,se=le=>24+(le.data.generatorName?P(le):0);A.append("rect").attr("height",18).attr("width",se).attr("rx",9).attr("fill",k?"#7f1d1d":"#fee2e2").attr("stroke","#ef4444").attr("stroke-width",.5),A.append("path").attr("d",Jn.letter_g).attr("transform","translate(3, 3) scale(0.5)").attr("fill","#ef4444"),A.append("text").attr("x",20).attr("y",9).attr("dominant-baseline","central").attr("text-anchor","start").style("font-size","9px").style("font-weight","bold").style("fill","#ef4444").style("direction","ltr").text(le=>le.data.generatorName||""),A.append("title").text(le=>le.data.generatorName?`${J.inputPanel.includesGenerator}: ${le.data.generatorName}`:J.inputPanel.includesGenerator)}),He.append("g").attr("class","action-buttons").attr("transform",A=>{const P=dt(A);return`translate(${P.x+P.w+12}, ${P.y+P.h/2})`}).style("opacity",A=>A.data.id===T?1:0).style("pointer-events",A=>A.data.id===T?"all":"none").style("transition","opacity 0.2s").call(A=>{A.append("g").attr("transform","translate(0, -28)").style("cursor","pointer").on("click",(P,se)=>{P.stopPropagation(),a(se.data)}).call(P=>{P.append("circle").attr("r",10).attr("fill","#2563eb").attr("stroke","#1e40af").attr("stroke-width",1),P.append("path").attr("d",Jn.add).attr("transform","translate(-8, -8) scale(0.66)").attr("fill","white"),P.append("title").text(J.inputPanel.addConnection)}),A.filter(P=>P.children&&P.children.length>0||P._children&&P._children.length>0).append("g").attr("transform","translate(0, 0)").style("cursor","pointer").on("click",(P,se)=>{P.stopPropagation(),c(se.data)}).call(P=>{P.append("circle").attr("r",10).attr("fill","#475569").attr("stroke","#334155").attr("stroke-width",1),P.append("path").attr("d",se=>Jn[se.data.isCollapsed?"visibility_off":"visibility"]).attr("transform","translate(-8, -8) scale(0.66)").attr("fill","white"),P.append("title").text(se=>se.data.isCollapsed?J.inputPanel.expand:J.inputPanel.collapse)}),A.filter(P=>P.depth>1).append("g").attr("transform","translate(0, 28)").style("cursor","pointer").on("click",(P,se)=>{P.stopPropagation(),p(se.data)}).call(P=>{P.append("circle").attr("r",10).attr("fill","#eab308").attr("stroke","#ca8a04").attr("stroke-width",1),P.append("path").attr("d",Jn.folder_open).attr("transform","translate(-8, -8) scale(0.66)").attr("fill","white"),P.append("title").text(J.inputPanel.groupNode)}),A.append("g").attr("transform","translate(0, 56)").style("cursor","pointer").on("click",(P,se)=>{P.stopPropagation(),r(se.data)}).call(P=>{P.append("circle").attr("r",10).attr("fill","#ef4444").attr("stroke","#b91c1c").attr("stroke-width",1),P.append("path").attr("d",Jn.delete).attr("transform","translate(-8, -8) scale(0.66)").attr("fill","white"),P.append("title").text(J.inputPanel.deleteComponent)})}),It.leaves();let nt=600,gn=800,wi=0;if(Ut.forEach(A=>{const P=dt(A),se=A.data.manualX||0,le=A.data.manualY||0;let Se,De;w==="horizontal"?(Se=A.y+se,De=A.x+le):(Se=A.x+se,De=A.y+le),Se+P.x;const Re=Se+P.x+P.w,rt=De+P.y,ht=De+P.y+P.h;gn=Math.max(gn,Re),nt=Math.max(nt,ht),wi=Math.min(wi,rt)}),gn=Math.max(gn,800),nt=Math.max(nt,600),ee&&$){const se=gn+50,le=nt+50-120,Se=wt.append("g").attr("transform",`translate(${se}, ${le})`);Se.append("rect").attr("width",400).attr("height",120).attr("fill","none").attr("stroke",ie).attr("stroke-width",2);const De=Fe?400*.3:400*.7;Se.append("line").attr("x1",0).attr("y1",120/2).attr("x2",400).attr("y2",120/2).attr("stroke",ie).attr("stroke-width",1),Se.append("line").attr("x1",De).attr("y1",0).attr("x2",De).attr("y2",120/2).attr("stroke",ie).attr("stroke-width",1);const Re=(rt,ht,gt,$t=12,Rn="normal",sn="start")=>{Se.append("text").attr("x",ht).attr("y",gt).text(rt).attr("fill",ie).attr("font-size",`${$t}px`).attr("font-weight",Rn).attr("text-anchor",sn).style("font-family","sans-serif")};Fe?(Re(J.printLayout.project,390,20,10,"bold","start"),Re($.name,390,45,16,"bold","start"),Re(J.printLayout.date,De-10,20,10,"bold","start"),Re(new Date().toLocaleDateString(),De-10,45,12,"normal","start"),Re(J.printLayout.engineer,390,120/2+20,10,"bold","start"),Re("Saleh Hamdan",390,105,14,"normal","start"),Re(J.printLayout.rev,De-10,120/2+20,10,"bold","start"),Re("1.0",De-10,105,14,"normal","start")):(Re(J.printLayout.project,10,20,10,"bold","start"),Re($.name,10,45,16,"bold","start"),Re(J.printLayout.date,De+10,20,10,"bold","start"),Re(new Date().toLocaleDateString(),De+10,45,12,"normal","start"),Re(J.printLayout.engineer,10,120/2+20,10,"bold","start"),Re("Saleh Hamdan",10,105,14,"normal","start"),Re(J.printLayout.rev,De+10,120/2+20,10,"bold","start"),Re("1.0",De+10,105,14,"normal","start"))}const yn=160,Mt=280;let Ft,St;if(ee&&$){const P=gn+50,se=nt+50-120;Ft=P+400-yn,St=se-Mt-10}else Ft=gn+50,St=wi;const jn=wt.append("g").attr("class","legend-group").attr("transform",`translate(${Ft}, ${St})`);jn.append("rect").attr("width",yn).attr("height",Mt).attr("rx",8).attr("fill",k?"#1e293b":"#ffffff").attr("stroke",N).attr("stroke-width",1).attr("opacity",.95),jn.append("text").attr("x",yn/2).attr("y",25).attr("text-anchor","middle").attr("font-weight","bold").attr("fill",ie).attr("font-size","12px").style("direction","ltr").text(J.legend.title),Object.values(ge).forEach((A,P)=>{const se=50+P*28,le=kn[A];jn.append("circle").attr("cx",20).attr("cy",se).attr("r",8).attr("fill",k?"#0f172a":"#f8fafc").attr("stroke",le.color).attr("stroke-width",1.5),jn.append("path").attr("d",Jn[le.icon]).attr("transform",`translate(14, ${se-6}) scale(0.5)`).attr("fill",le.color),jn.append("text").attr("x",38).attr("y",se+4).attr("fill",ie).attr("font-size","11px").attr("text-anchor","start").style("direction","ltr").text(J.componentTypes[A])})},[n,Te,t,l,T,C,w,L,te,z,J,oe,ne,v,S,ee,$]),x.jsx("div",{ref:re,className:`w-full h-full relative overflow-hidden ${k?"bg-slate-900":"bg-white"}`,style:{touchAction:"none"},children:x.jsx("svg",{id:"diagram-svg",ref:xe,width:"100%",height:"100%",className:"block"})})},IE=({selectedNode:n,selectionMode:t,multiSelectionCount:l=0,onAdd:a,onAddIndependent:r,onEdit:c,onBulkEdit:p,onEditConnection:g,onDelete:y,onCancel:m,onDetach:v,onStartConnection:T,onNavigate:S,onDisconnectLink:C,t:w})=>{const[L,te]=Ae.useState("add"),[z,ee]=Ae.useState({name:"",componentNumber:"",type:ge.BREAKER,model:"",amps:void 0,voltage:void 0,kva:void 0,description:"",customColor:void 0,hasMeter:!1,meterNumber:"",hasGeneratorConnection:!1,generatorName:""}),[$,B]=Ae.useState($s);Ae.useEffect(()=>{L==="edit"&&n?ee({name:n.name,componentNumber:n.componentNumber||"",type:n.type,model:n.model||"",amps:n.amps,voltage:n.voltage,kva:n.kva,description:n.description||"",customColor:n.customColor,hasMeter:n.hasMeter||!1,meterNumber:n.meterNumber||"",hasGeneratorConnection:n.hasGeneratorConnection||!1,generatorName:n.generatorName||""}):L==="add"&&ee({name:"",componentNumber:"",type:ge.BREAKER,model:"",amps:void 0,voltage:void 0,kva:void 0,description:"",customColor:void 0,hasMeter:!1,meterNumber:"",hasGeneratorConnection:!1,generatorName:""})},[L,n]),Ae.useEffect(()=>{!n&&l<=1&&te("add")},[n,l]),Ae.useEffect(()=>{n&&t==="link"&&B({strokeColor:n.connectionStyle?.strokeColor||kn[n.type]?.color||"#475569",lineStyle:n.connectionStyle?.lineStyle||"solid",startMarker:n.connectionStyle?.startMarker||"none",endMarker:n.connectionStyle?.endMarker||"none"})},[n,t]);const J=fe=>{const{name:Ee,value:Fe,type:k}=fe.target;ee(ue=>({...ue,[Ee]:k==="checkbox"?fe.target.checked:Ee==="amps"||Ee==="voltage"||Ee==="kva"?Fe===""?void 0:Number(Fe):Fe}))},oe=fe=>{const{name:Ee,value:Fe}=fe.target,k={...$,[Ee]:Fe};B(k),g(k)},ne=fe=>{fe.preventDefault(),l>1&&p?p(z):L==="add"?(a(z),ee(Ee=>({...Ee,name:"",componentNumber:"",model:"",amps:void 0,voltage:void 0,kva:void 0,description:"",customColor:void 0,hasMeter:!1,meterNumber:"",hasGeneratorConnection:!1,generatorName:""}))):c(z)};if(l>1)return x.jsxs("div",{className:"bg-slate-800 rounded-xl border border-slate-700 shadow-lg overflow-hidden sticky top-4",children:[x.jsxs("div",{className:"p-4 border-b border-slate-700 bg-slate-900 flex items-center justify-between",children:[x.jsxs("h3",{className:"font-bold text-white text-sm flex items-center gap-2",children:[x.jsx("span",{className:"material-icons-round text-blue-400",children:"layers"}),w.inputPanel.bulkEdit]}),x.jsxs("span",{className:"text-xs text-slate-400 bg-slate-800 px-2 py-1 rounded",children:[l," ",w.inputPanel.itemsSelected]})]}),x.jsxs("form",{onSubmit:ne,className:"p-5 space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1",children:w.inputPanel.customColor}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("input",{type:"color",name:"customColor",value:z.customColor||"#475569",onChange:J,className:"h-8 w-12 bg-transparent border border-slate-700 rounded cursor-pointer"}),x.jsx("span",{className:"text-xs text-slate-500",children:"Apply to all"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1",children:w.inputPanel.model}),x.jsx("input",{list:"models",name:"model",value:z.model,onChange:J,placeholder:"Update Model for all",className:"w-full bg-slate-900 border border-slate-700 text-white rounded px-3 py-2 focus:outline-none focus:border-blue-500 text-sm"}),x.jsx("datalist",{id:"models",children:Dh.map(fe=>x.jsx("option",{value:fe},fe))})]}),x.jsxs("div",{className:"pt-2",children:[x.jsx("button",{type:"submit",className:"w-full py-2 bg-blue-600 hover:bg-blue-700 text-white rounded font-medium text-sm",children:w.inputPanel.applyBulk}),x.jsx("button",{type:"button",onClick:m,className:"w-full py-2 mt-2 text-slate-400 hover:text-white text-sm",children:w.inputPanel.close})]})]})]});if(!n)return x.jsxs("div",{className:"flex flex-col gap-4",children:[x.jsxs("div",{className:"bg-slate-800/50 border border-slate-700/50 rounded-xl p-4",children:[x.jsxs("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-3 flex items-center gap-2",children:[x.jsx("span",{className:"material-icons-round text-sm",children:"add_circle_outline"}),w.addIndependent]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("button",{onClick:()=>r(ge.SYSTEM_ROOT),className:"p-2 bg-slate-700 hover:bg-slate-600 rounded text-left flex items-center gap-2 transition-colors",children:[x.jsx("span",{className:"material-icons-round text-slate-400 text-sm",children:"domain"}),x.jsx("span",{className:"text-xs text-slate-200",children:w.componentTypes[ge.SYSTEM_ROOT]})]}),x.jsxs("button",{onClick:()=>r(ge.GENERATOR),className:"p-2 bg-slate-700 hover:bg-slate-600 rounded text-left flex items-center gap-2 transition-colors",children:[x.jsx("span",{className:"material-icons-round text-red-400 text-sm",children:"settings_power"}),x.jsx("span",{className:"text-xs text-slate-200",children:w.componentTypes[ge.GENERATOR]})]}),x.jsxs("button",{onClick:()=>r(ge.TRANSFORMER),className:"p-2 bg-slate-700 hover:bg-slate-600 rounded text-left flex items-center gap-2 transition-colors",children:[x.jsx("span",{className:"material-icons-round text-yellow-400 text-sm",children:"electric_bolt"}),x.jsx("span",{className:"text-xs text-slate-200",children:w.componentTypes[ge.TRANSFORMER]})]}),x.jsxs("button",{onClick:()=>r(ge.LOAD),className:"p-2 bg-slate-700 hover:bg-slate-600 rounded text-left flex items-center gap-2 transition-colors",children:[x.jsx("span",{className:"material-icons-round text-purple-400 text-sm",children:"lightbulb"}),x.jsx("span",{className:"text-xs text-slate-200",children:w.componentTypes[ge.LOAD]})]})]})]}),x.jsxs("div",{className:"p-6 text-center text-slate-500 bg-slate-900/30 rounded-lg border border-dashed border-slate-800 h-32 flex flex-col items-center justify-center",children:[x.jsx("span",{className:"material-icons-round text-4xl mb-3 opacity-50",children:"touch_app"}),x.jsx("p",{className:"text-xs",children:"Select a component in the diagram to view properties."})]}),x.jsxs("div",{className:"mt-2 p-4 rounded-lg bg-slate-800/30 border border-slate-700/30",children:[x.jsx("h4",{className:"text-xs font-bold uppercase tracking-wider text-slate-500 mb-3",children:w.quickTips}),x.jsxs("ul",{className:"text-xs text-slate-400 space-y-2 list-disc pl-4",children:[x.jsx("li",{children:w.tip1}),x.jsx("li",{children:w.tip2}),x.jsx("li",{children:w.tip3}),x.jsx("li",{children:w.tip4})]})]})]});if(t==="link")return x.jsxs("div",{className:"bg-slate-800 rounded-xl border border-slate-700 shadow-lg overflow-hidden sticky top-4",children:[x.jsxs("div",{className:"p-4 border-b border-slate-700 bg-slate-900 flex items-center justify-between",children:[x.jsxs("h3",{className:"font-bold text-white text-sm flex items-center gap-2",children:[x.jsx("span",{className:"material-icons-round text-amber-400",children:"timeline"}),w.inputPanel.linkStyle]}),x.jsx("button",{onClick:m,className:"text-slate-400 hover:text-white",children:x.jsx("span",{className:"material-icons-round",children:"close"})})]}),x.jsxs("div",{className:"p-5 space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1",children:w.inputPanel.strokeColor}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("input",{type:"color",name:"strokeColor",value:$.strokeColor,onChange:oe,className:"h-8 w-12 bg-transparent border border-slate-700 rounded cursor-pointer"}),x.jsx("input",{type:"text",name:"strokeColor",value:$.strokeColor,onChange:oe,className:"flex-1 bg-slate-900 border border-slate-700 text-white rounded px-3 py-1.5 text-sm uppercase"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1",children:w.inputPanel.lineStyle}),x.jsxs("select",{name:"lineStyle",value:$.lineStyle,onChange:oe,className:"w-full bg-slate-900 border border-slate-700 text-white rounded px-3 py-2 text-sm",children:[x.jsx("option",{value:"solid",children:w.inputPanel.patterns.solid}),x.jsx("option",{value:"dashed",children:w.inputPanel.patterns.dashed}),x.jsx("option",{value:"dotted",children:w.inputPanel.patterns.dotted})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1",children:w.inputPanel.startMarker}),x.jsxs("select",{name:"startMarker",value:$.startMarker,onChange:oe,className:"w-full bg-slate-900 border border-slate-700 text-white rounded px-3 py-2 text-sm",children:[x.jsx("option",{value:"none",children:w.inputPanel.markers.none}),x.jsx("option",{value:"arrow",children:w.inputPanel.markers.arrow}),x.jsx("option",{value:"circle",children:w.inputPanel.markers.circle}),x.jsx("option",{value:"diamond",children:w.inputPanel.markers.diamond})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1",children:w.inputPanel.endMarker}),x.jsxs("select",{name:"endMarker",value:$.endMarker,onChange:oe,className:"w-full bg-slate-900 border border-slate-700 text-white rounded px-3 py-2 text-sm",children:[x.jsx("option",{value:"none",children:w.inputPanel.markers.none}),x.jsx("option",{value:"arrow",children:w.inputPanel.markers.arrow}),x.jsx("option",{value:"circle",children:w.inputPanel.markers.circle}),x.jsx("option",{value:"diamond",children:w.inputPanel.markers.diamond})]})]})]}),x.jsxs("div",{className:"pt-2 text-xs text-slate-500 italic border-t border-slate-700 mt-2",children:["Styling the connection to: ",x.jsx("strong",{children:n.name})]}),x.jsxs("button",{type:"button",onClick:C,className:"w-full py-2 mt-2 bg-red-900/30 hover:bg-red-900/50 text-red-400 border border-red-900/50 rounded transition-colors flex items-center justify-center gap-2 text-sm",children:[x.jsx("span",{className:"material-icons-round text-sm",children:"link_off"}),w.inputPanel.disconnect||"Disconnect Link"]})]})]});const xe=z.type===ge.BREAKER||z.type===ge.SWITCH||z.type===ge.DISTRIBUTION_BOARD,re=z.type===ge.TRANSFORMER||z.type===ge.GENERATOR,Te=n.type===ge.SYSTEM_ROOT;return x.jsxs("div",{className:"bg-slate-800 rounded-xl border border-slate-700 shadow-lg overflow-hidden sticky top-4",children:[x.jsxs("div",{className:"flex border-b border-slate-700",children:[x.jsxs("button",{onClick:()=>te("add"),className:`flex-1 py-3 text-sm font-medium transition-colors flex items-center justify-center gap-2 ${L==="add"?"bg-slate-800 text-blue-400 border-b-2 border-blue-500":"bg-slate-900 text-slate-500 hover:text-slate-300"}`,children:[x.jsx("span",{className:"material-icons-round text-base",children:"add_circle"}),w.inputPanel.addConnection]}),x.jsxs("button",{onClick:()=>te("edit"),className:`flex-1 py-3 text-sm font-medium transition-colors flex items-center justify-center gap-2 ${L==="edit"?"bg-slate-800 text-yellow-400 border-b-2 border-yellow-500":"bg-slate-900 text-slate-500 hover:text-slate-300"}`,children:[x.jsx("span",{className:"material-icons-round text-base",children:"edit"}),w.inputPanel.editComponent]})]}),x.jsxs("form",{onSubmit:ne,className:"p-5 space-y-4",children:[x.jsxs("div",{className:"flex items-center justify-between mb-2",children:[x.jsx("h3",{className:"text-sm font-bold text-white",children:L==="add"?w.inputPanel.newDownstream:w.inputPanel.editSelected}),L==="add"&&x.jsxs("span",{className:"text-xs text-slate-400",children:[w.inputPanel.parent,": ",n.name]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1",children:w.inputPanel.componentType}),x.jsx("select",{name:"type",value:z.type,onChange:J,disabled:L==="edit"&&Te,className:"w-full bg-slate-900 border border-slate-700 text-white rounded px-3 py-2 focus:outline-none focus:border-blue-500 text-sm disabled:opacity-50",children:Object.values(ge).map(fe=>x.jsx("option",{value:fe,children:w.componentTypes[fe]},fe))})]}),L==="edit"&&x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1",children:w.inputPanel.customColor}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("input",{type:"color",name:"customColor",value:z.customColor||kn[z.type]?.color||"#475569",onChange:J,className:"h-8 w-12 bg-transparent border border-slate-700 rounded cursor-pointer"}),x.jsx("span",{className:"text-xs text-slate-500",children:z.customColor||"Default"})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1",children:w.inputPanel.name}),x.jsx("input",{type:"text",name:"name",value:z.name,onChange:J,placeholder:"Name",className:"w-full bg-slate-900 border border-slate-700 text-white rounded px-3 py-2 focus:outline-none focus:border-blue-500 text-sm"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1",children:w.inputPanel.componentNumber}),x.jsx("input",{type:"text",name:"componentNumber",value:z.componentNumber,onChange:J,placeholder:"e.g. CB-1",className:"w-full bg-slate-900 border border-slate-700 text-white rounded px-3 py-2 focus:outline-none focus:border-blue-500 text-sm"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1",children:w.inputPanel.model}),x.jsx("input",{list:"models",name:"model",value:z.model,onChange:J,placeholder:"Select or type model",className:"w-full bg-slate-900 border border-slate-700 text-white rounded px-3 py-2 focus:outline-none focus:border-blue-500 text-sm"}),x.jsx("datalist",{id:"models",children:Dh.map(fe=>x.jsx("option",{value:fe},fe))})]}),x.jsxs("div",{className:"bg-slate-900/50 p-3 rounded border border-slate-700/50 space-y-3",children:[xe&&x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("input",{type:"checkbox",id:"hasMeter",name:"hasMeter",checked:z.hasMeter,onChange:J,className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500 bg-slate-700 border-slate-600"}),x.jsx("label",{htmlFor:"hasMeter",className:"text-xs font-medium text-slate-300 select-none",children:w.inputPanel.includesMeter})]}),z.hasMeter&&x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1",children:w.inputPanel.meterNumber}),x.jsx("input",{type:"text",name:"meterNumber",value:z.meterNumber,onChange:J,placeholder:"e.g. M-001",className:"w-full bg-slate-900 border border-slate-700 text-white rounded px-3 py-2 focus:outline-none focus:border-blue-500 text-sm"})]})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("input",{type:"checkbox",id:"hasGeneratorConnection",name:"hasGeneratorConnection",checked:z.hasGeneratorConnection,onChange:J,className:"w-4 h-4 text-red-600 rounded focus:ring-red-500 bg-slate-700 border-slate-600"}),x.jsx("label",{htmlFor:"hasGeneratorConnection",className:"text-xs font-medium text-slate-300 select-none",children:w.inputPanel.includesGenerator})]}),z.hasGeneratorConnection&&x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1",children:w.inputPanel.generatorName}),x.jsx("input",{type:"text",name:"generatorName",value:z.generatorName,onChange:J,placeholder:"e.g. Gen-1",className:"w-full bg-slate-900 border border-slate-700 text-white rounded px-3 py-2 focus:outline-none focus:border-blue-500 text-sm"})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1",children:w.inputPanel.amperage}),x.jsx("input",{type:"number",name:"amps",value:z.amps===void 0?"":z.amps,onChange:J,placeholder:"Optional",className:"w-full bg-slate-900 border border-slate-700 text-white rounded px-3 py-2 focus:outline-none focus:border-blue-500 text-sm"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1",children:w.inputPanel.voltage}),x.jsx("input",{type:"number",name:"voltage",value:z.voltage===void 0?"":z.voltage,onChange:J,placeholder:"Optional",className:"w-full bg-slate-900 border border-slate-700 text-white rounded px-3 py-2 focus:outline-none focus:border-blue-500 text-sm"})]})]}),re&&x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1",children:w.inputPanel.kva}),x.jsx("input",{type:"number",name:"kva",value:z.kva===void 0?"":z.kva,onChange:J,placeholder:"e.g. 1000",className:"w-full bg-slate-900 border border-slate-700 text-white rounded px-3 py-2 focus:outline-none focus:border-blue-500 text-sm"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1",children:w.inputPanel.description}),x.jsx("textarea",{name:"description",value:z.description,onChange:J,rows:2,className:"w-full bg-slate-900 border border-slate-700 text-white rounded px-3 py-2 focus:outline-none focus:border-blue-500 text-sm resize-none"})]}),L==="edit"&&x.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-700",children:[x.jsx("h4",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-3",children:w.inputPanel.downstreamConnections}),n.children.length===0?x.jsx("p",{className:"text-xs text-slate-500 italic text-center py-2",children:w.inputPanel.noConnections}):x.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto pr-1 custom-scrollbar",children:n.children.map(fe=>x.jsxs("div",{className:"flex items-center justify-between bg-slate-900 p-2 rounded border border-slate-700 group hover:border-slate-600 transition-colors",children:[x.jsxs("div",{className:"flex items-center gap-2 overflow-hidden cursor-pointer",onClick:()=>S?.(fe.id),title:"Select this component",children:[x.jsx("span",{className:"material-icons-round text-sm text-slate-500",style:{color:fe.customColor||kn[fe.type]?.color},children:kn[fe.type]?.icon}),x.jsxs("div",{className:"flex flex-col truncate",children:[x.jsx("span",{className:"text-xs font-medium text-slate-300 truncate",children:fe.name}),x.jsx("span",{className:"text-[10px] text-slate-500",children:fe.componentNumber||fe.type})]})]}),x.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[x.jsx("button",{type:"button",onClick:()=>T?.(fe.id),title:"Re-route (Link to another parent)",className:"p-1 text-slate-400 hover:text-amber-400 hover:bg-amber-400/10 rounded",children:x.jsx("span",{className:"material-icons-round text-sm",children:"link"})}),x.jsx("button",{type:"button",onClick:()=>v?.(fe.id),title:"Detach (Move to Root)",className:"p-1 text-slate-400 hover:text-red-400 hover:bg-red-400/10 rounded",children:x.jsx("span",{className:"material-icons-round text-sm",children:"link_off"})})]})]},fe.id))})]}),x.jsxs("div",{className:"pt-4 flex flex-col gap-3",children:[x.jsxs("div",{className:"flex gap-3",children:[x.jsxs("button",{type:"submit",className:`flex-1 text-white font-medium py-2 px-4 rounded transition-colors flex items-center justify-center gap-2 shadow-lg ${L==="add"?"bg-blue-600 hover:bg-blue-700 shadow-blue-900/20":"bg-yellow-600 hover:bg-yellow-700 shadow-yellow-900/20"}`,children:[x.jsx("span",{className:"material-icons-round text-lg",children:L==="add"?"add_circle":"save"}),L==="add"?w.inputPanel.addToDiagram:w.inputPanel.saveChanges]}),x.jsx("button",{type:"button",onClick:m,className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded transition-colors",children:w.inputPanel.close})]}),L==="edit"&&!Te&&x.jsxs("button",{type:"button",onClick:()=>y(),className:"w-full py-2 px-4 bg-red-900/30 hover:bg-red-900/50 text-red-400 border border-red-900/50 rounded transition-colors flex items-center justify-center gap-2 text-sm",children:[x.jsx("span",{className:"material-icons-round text-sm",children:"delete"}),w.inputPanel.deleteComponent]})]})]})]})},UE=({isOpen:n,onClose:t,loading:l,result:a,t:r})=>n?x.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:x.jsxs("div",{className:"bg-slate-900 w-full max-w-2xl rounded-xl border border-slate-700 shadow-2xl flex flex-col max-h-[90vh]",children:[x.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-800",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("span",{className:"material-icons-round text-purple-400 text-3xl",children:"auto_awesome"}),x.jsx("h2",{className:"text-xl font-bold text-white",children:r.analysis.title})]}),x.jsx("button",{onClick:t,className:"text-slate-400 hover:text-white transition-colors",children:x.jsx("span",{className:"material-icons-round",children:"close"})})]}),x.jsx("div",{className:"p-6 overflow-y-auto flex-1",children:l?x.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[x.jsx("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mb-4"}),x.jsx("p",{className:"text-blue-400 font-medium animate-pulse",children:r.analysis.analyzing}),x.jsx("p",{className:"text-slate-500 text-sm mt-2",children:r.analysis.analyzingSub})]}):a?x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:`p-4 rounded-lg border flex items-start gap-4 ${a.status==="safe"?"bg-green-500/10 border-green-500/30":a.status==="warning"?"bg-yellow-500/10 border-yellow-500/30":"bg-red-500/10 border-red-500/30"}`,children:[x.jsx("span",{className:`material-icons-round text-2xl ${a.status==="safe"?"text-green-400":a.status==="warning"?"text-yellow-400":"text-red-400"}`,children:a.status==="safe"?"verified_user":a.status==="warning"?"warning":"dangerous"}),x.jsxs("div",{children:[x.jsx("h3",{className:`font-bold capitalize ${a.status==="safe"?"text-green-400":a.status==="warning"?"text-yellow-400":"text-red-400"}`,children:a.status==="safe"?r.analysis.safe:a.status==="warning"?r.analysis.warning:r.analysis.danger}),x.jsx("p",{className:"text-slate-300 text-sm mt-1",children:a.summary})]})]}),a.issues.length>0&&x.jsxs("div",{children:[x.jsxs("h4",{className:"text-white font-semibold mb-3 flex items-center gap-2",children:[x.jsx("span",{className:"material-icons-round text-red-400",children:"error_outline"}),r.analysis.issues]}),x.jsx("ul",{className:"space-y-2",children:a.issues.map((c,p)=>x.jsxs("li",{className:"text-slate-300 text-sm bg-slate-800 p-3 rounded border border-slate-700",children:[" ",c]},p))})]}),a.recommendations.length>0&&x.jsxs("div",{children:[x.jsxs("h4",{className:"text-white font-semibold mb-3 flex items-center gap-2",children:[x.jsx("span",{className:"material-icons-round text-blue-400",children:"tips_and_updates"}),r.analysis.recommendations]}),x.jsx("ul",{className:"space-y-2",children:a.recommendations.map((c,p)=>x.jsxs("li",{className:"text-slate-300 text-sm bg-slate-800 p-3 rounded border border-slate-700",children:[" ",c]},p))})]})]}):x.jsx("div",{className:"text-center text-slate-500",children:r.analysis.noData})}),x.jsx("div",{className:"p-4 border-t border-slate-800 flex justify-end",children:x.jsx("button",{onClick:t,className:"px-6 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded transition-colors font-medium",children:r.inputPanel.close})})]})}):null,kE=({isOpen:n,title:t,message:l,onConfirm:a,onCancel:r,t:c})=>n?x.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/70 backdrop-blur-sm p-4 animate-fadeIn",children:x.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-xl shadow-2xl max-w-sm w-full p-6 transform transition-all scale-100",children:[x.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[x.jsx("div",{className:"w-10 h-10 rounded-full bg-red-500/20 flex items-center justify-center",children:x.jsx("span",{className:"material-icons-round text-red-500 text-xl",children:"warning"})}),x.jsx("h3",{className:"text-lg font-bold text-white",children:t})]}),x.jsx("p",{className:"text-slate-300 text-sm mb-6 leading-relaxed",children:l}),x.jsxs("div",{className:"flex justify-end gap-3",children:[x.jsx("button",{onClick:r,className:"px-4 py-2 rounded-lg text-slate-400 hover:text-white hover:bg-slate-700 transition-colors text-sm font-medium",children:c.inputPanel.close}),x.jsxs("button",{onClick:a,className:"px-4 py-2 rounded-lg bg-red-600 hover:bg-red-700 text-white shadow-lg shadow-red-900/20 transition-colors text-sm font-medium flex items-center gap-2",children:[x.jsx("span",{className:"material-icons-round text-sm",children:"delete"}),c.inputPanel.deleteComponent]})]})]})}):null,LE=({isOpen:n,onClose:t,onExport:l,t:a})=>n?x.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/70 backdrop-blur-sm p-4 animate-fadeIn",children:x.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-xl shadow-2xl max-w-md w-full p-6",children:[x.jsxs("div",{className:"flex items-center justify-between mb-6",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-500/20 flex items-center justify-center",children:x.jsx("span",{className:"material-icons-round text-blue-400 text-xl",children:"save_alt"})}),x.jsx("h3",{className:"text-lg font-bold text-white",children:a.export.title})]}),x.jsx("button",{onClick:t,className:"text-slate-400 hover:text-white",children:x.jsx("span",{className:"material-icons-round",children:"close"})})]}),x.jsx("p",{className:"text-slate-400 text-sm mb-6",children:a.export.subtitle}),x.jsxs("div",{className:"space-y-3 max-h-[60vh] overflow-y-auto pr-2 custom-scrollbar",children:[x.jsxs("button",{onClick:()=>l("png"),className:"w-full flex items-center justify-between p-4 rounded-lg bg-slate-700/50 hover:bg-slate-700 border border-slate-600 hover:border-blue-500/50 transition-all group",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("span",{className:"material-icons-round text-purple-400 text-2xl",children:"image"}),x.jsxs("div",{className:"text-left",children:[x.jsx("div",{className:"text-sm font-bold text-slate-200 group-hover:text-white",children:a.export.formats.png}),x.jsx("div",{className:"text-xs text-slate-500",children:a.export.desc.png})]})]}),x.jsx("span",{className:"material-icons-round text-slate-500 group-hover:text-blue-400",children:"arrow_forward"})]}),x.jsxs("button",{onClick:()=>l("svg"),className:"w-full flex items-center justify-between p-4 rounded-lg bg-slate-700/50 hover:bg-slate-700 border border-slate-600 hover:border-blue-500/50 transition-all group",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("span",{className:"material-icons-round text-amber-400 text-2xl",children:"polyline"}),x.jsxs("div",{className:"text-left",children:[x.jsx("div",{className:"text-sm font-bold text-slate-200 group-hover:text-white",children:a.export.formats.svg}),x.jsx("div",{className:"text-xs text-slate-500",children:a.export.desc.svg})]})]}),x.jsx("span",{className:"material-icons-round text-slate-500 group-hover:text-blue-400",children:"arrow_forward"})]}),x.jsxs("button",{onClick:()=>l("pdf"),className:"w-full flex items-center justify-between p-4 rounded-lg bg-slate-700/50 hover:bg-slate-700 border border-slate-600 hover:border-blue-500/50 transition-all group",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("span",{className:"material-icons-round text-red-400 text-2xl",children:"picture_as_pdf"}),x.jsxs("div",{className:"text-left",children:[x.jsx("div",{className:"text-sm font-bold text-slate-200 group-hover:text-white",children:a.export.formats.pdf}),x.jsx("div",{className:"text-xs text-slate-500",children:a.export.desc.pdf})]})]}),x.jsx("span",{className:"material-icons-round text-slate-500 group-hover:text-blue-400",children:"arrow_forward"})]}),x.jsxs("button",{onClick:()=>l("excel"),className:"w-full flex items-center justify-between p-4 rounded-lg bg-slate-700/50 hover:bg-slate-700 border border-slate-600 hover:border-blue-500/50 transition-all group",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("span",{className:"material-icons-round text-emerald-400 text-2xl",children:"table_view"}),x.jsxs("div",{className:"text-left",children:[x.jsx("div",{className:"text-sm font-bold text-slate-200 group-hover:text-white",children:a.export.formats.excel}),x.jsx("div",{className:"text-xs text-slate-500",children:a.export.desc.excel})]})]}),x.jsx("span",{className:"material-icons-round text-slate-500 group-hover:text-blue-400",children:"arrow_forward"})]}),x.jsxs("button",{onClick:()=>l("json"),className:"w-full flex items-center justify-between p-4 rounded-lg bg-slate-700/50 hover:bg-slate-700 border border-slate-600 hover:border-blue-500/50 transition-all group",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("span",{className:"material-icons-round text-cyan-400 text-2xl",children:"data_object"}),x.jsxs("div",{className:"text-left",children:[x.jsx("div",{className:"text-sm font-bold text-slate-200 group-hover:text-white",children:a.export.formats.json}),x.jsx("div",{className:"text-xs text-slate-500",children:a.export.desc.json})]})]}),x.jsx("span",{className:"material-icons-round text-slate-500 group-hover:text-blue-400",children:"arrow_forward"})]})]}),x.jsx("div",{className:"mt-6 flex justify-end",children:x.jsx("button",{onClick:t,className:"px-4 py-2 text-slate-400 hover:text-white transition-colors text-sm font-medium",children:a.inputPanel.close})})]})}):null,zE=({isOpen:n,onClose:t,t:l})=>n?x.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/70 backdrop-blur-sm p-4 animate-fadeIn",children:x.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-xl shadow-2xl max-w-md w-full p-6 relative overflow-hidden",children:[x.jsx("div",{className:"absolute top-0 left-0 w-full h-32 bg-gradient-to-b from-blue-600/20 to-transparent pointer-events-none"}),x.jsxs("div",{className:"flex flex-col items-center text-center relative z-10",children:[x.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center shadow-lg mb-4",children:x.jsx("span",{className:"material-icons-round text-white text-4xl",children:"electrical_services"})}),x.jsx("h2",{className:"text-2xl font-bold text-white mb-1",children:l.about.title}),x.jsx("span",{className:"text-xs font-medium text-blue-400 bg-blue-400/10 px-2 py-1 rounded-full mb-6",children:l.about.version}),x.jsx("p",{className:"text-slate-300 text-sm leading-relaxed mb-6",children:l.about.description}),x.jsx("div",{className:"w-full h-px bg-slate-700 mb-6"}),x.jsxs("div",{className:"flex flex-col items-center gap-1 mb-6",children:[x.jsx("span",{className:"text-xs text-slate-500 uppercase tracking-wider",children:l.about.developedBy}),x.jsx("span",{className:"text-lg font-bold text-white bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-400",children:l.about.developerName})]}),x.jsx("button",{onClick:t,className:"px-6 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-full transition-colors text-sm font-medium",children:l.inputPanel.close})]})]})}):null;let GE,HE;function PE(){return{geminiUrl:GE,vertexUrl:HE}}function qE(n,t,l,a){var r,c;if(!n?.baseUrl){const p=PE();return t?(r=p.vertexUrl)!==null&&r!==void 0?r:l:(c=p.geminiUrl)!==null&&c!==void 0?c:a}return n.baseUrl}class Mi{}function he(n,t){const l=/\{([^}]+)\}/g;return n.replace(l,(a,r)=>{if(Object.prototype.hasOwnProperty.call(t,r)){const c=t[r];return c!=null?String(c):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function f(n,t,l){for(let c=0;c<t.length-1;c++){const p=t[c];if(p.endsWith("[]")){const g=p.slice(0,-2);if(!(g in n))if(Array.isArray(l))n[g]=Array.from({length:l.length},()=>({}));else throw new Error(`Value must be a list given an array path ${p}`);if(Array.isArray(n[g])){const y=n[g];if(Array.isArray(l))for(let m=0;m<y.length;m++){const v=y[m];f(v,t.slice(c+1),l[m])}else for(const m of y)f(m,t.slice(c+1),l)}return}else if(p.endsWith("[0]")){const g=p.slice(0,-3);g in n||(n[g]=[{}]);const y=n[g];f(y[0],t.slice(c+1),l);return}(!n[p]||typeof n[p]!="object")&&(n[p]={}),n=n[p]}const a=t[t.length-1],r=n[a];if(r!==void 0){if(!l||typeof l=="object"&&Object.keys(l).length===0||l===r)return;if(typeof r=="object"&&typeof l=="object"&&r!==null&&l!==null)Object.assign(r,l);else throw new Error(`Cannot set value for an existing key. Key: ${a}`)}else a==="_self"&&typeof l=="object"&&l!==null&&!Array.isArray(l)?Object.assign(n,l):n[a]=l}function u(n,t,l=void 0){try{if(t.length===1&&t[0]==="_self")return n;for(let a=0;a<t.length;a++){if(typeof n!="object"||n===null)return l;const r=t[a];if(r.endsWith("[]")){const c=r.slice(0,-2);if(c in n){const p=n[c];return Array.isArray(p)?p.map(g=>u(g,t.slice(a+1),l)):l}else return l}else n=n[r]}return n}catch(a){if(a instanceof TypeError)return l;throw a}}function VE(n,t){for(const[l,a]of Object.entries(t)){const r=l.split("."),c=a.split("."),p=new Set;let g=-1;for(let y=0;y<r.length;y++)if(r[y]==="*"){g=y;break}if(g!==-1&&c.length>g)for(let y=g;y<c.length;y++){const m=c[y];m!=="*"&&!m.endsWith("[]")&&!m.endsWith("[0]")&&p.add(m)}Fc(n,r,c,0,p)}}function Fc(n,t,l,a,r){if(a>=t.length||typeof n!="object"||n===null)return;const c=t[a];if(c.endsWith("[]")){const p=c.slice(0,-2),g=n;if(p in g&&Array.isArray(g[p]))for(const y of g[p])Fc(y,t,l,a+1,r)}else if(c==="*"){if(typeof n=="object"&&n!==null&&!Array.isArray(n)){const p=n,g=Object.keys(p).filter(m=>!m.startsWith("_")&&!r.has(m)),y={};for(const m of g)y[m]=p[m];for(const[m,v]of Object.entries(y)){const T=[];for(const S of l.slice(a))S==="*"?T.push(m):T.push(S);f(p,T,v)}for(const m of g)delete p[m]}}else{const p=n;c in p&&Fc(p[c],t,l,a+1,r)}}function ff(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}function BE(n){const t={},l=u(n,["operationName"]);l!=null&&f(t,["operationName"],l);const a=u(n,["resourceName"]);return a!=null&&f(t,["_url","resourceName"],a),t}function OE(n){const t={},l=u(n,["name"]);l!=null&&f(t,["name"],l);const a=u(n,["metadata"]);a!=null&&f(t,["metadata"],a);const r=u(n,["done"]);r!=null&&f(t,["done"],r);const c=u(n,["error"]);c!=null&&f(t,["error"],c);const p=u(n,["response","generateVideoResponse"]);return p!=null&&f(t,["response"],FE(p)),t}function YE(n){const t={},l=u(n,["name"]);l!=null&&f(t,["name"],l);const a=u(n,["metadata"]);a!=null&&f(t,["metadata"],a);const r=u(n,["done"]);r!=null&&f(t,["done"],r);const c=u(n,["error"]);c!=null&&f(t,["error"],c);const p=u(n,["response"]);return p!=null&&f(t,["response"],JE(p)),t}function FE(n){const t={},l=u(n,["generatedSamples"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(p=>XE(p))),f(t,["generatedVideos"],c)}const a=u(n,["raiMediaFilteredCount"]);a!=null&&f(t,["raiMediaFilteredCount"],a);const r=u(n,["raiMediaFilteredReasons"]);return r!=null&&f(t,["raiMediaFilteredReasons"],r),t}function JE(n){const t={},l=u(n,["videos"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(p=>KE(p))),f(t,["generatedVideos"],c)}const a=u(n,["raiMediaFilteredCount"]);a!=null&&f(t,["raiMediaFilteredCount"],a);const r=u(n,["raiMediaFilteredReasons"]);return r!=null&&f(t,["raiMediaFilteredReasons"],r),t}function XE(n){const t={},l=u(n,["video"]);return l!=null&&f(t,["video"],eC(l)),t}function KE(n){const t={},l=u(n,["_self"]);return l!=null&&f(t,["video"],tC(l)),t}function QE(n){const t={},l=u(n,["operationName"]);return l!=null&&f(t,["_url","operationName"],l),t}function $E(n){const t={},l=u(n,["operationName"]);return l!=null&&f(t,["_url","operationName"],l),t}function ZE(n){const t={},l=u(n,["name"]);l!=null&&f(t,["name"],l);const a=u(n,["metadata"]);a!=null&&f(t,["metadata"],a);const r=u(n,["done"]);r!=null&&f(t,["done"],r);const c=u(n,["error"]);c!=null&&f(t,["error"],c);const p=u(n,["response"]);return p!=null&&f(t,["response"],WE(p)),t}function WE(n){const t={},l=u(n,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(n,["parent"]);a!=null&&f(t,["parent"],a);const r=u(n,["documentName"]);return r!=null&&f(t,["documentName"],r),t}function I0(n){const t={},l=u(n,["name"]);l!=null&&f(t,["name"],l);const a=u(n,["metadata"]);a!=null&&f(t,["metadata"],a);const r=u(n,["done"]);r!=null&&f(t,["done"],r);const c=u(n,["error"]);c!=null&&f(t,["error"],c);const p=u(n,["response"]);return p!=null&&f(t,["response"],jE(p)),t}function jE(n){const t={},l=u(n,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(n,["parent"]);a!=null&&f(t,["parent"],a);const r=u(n,["documentName"]);return r!=null&&f(t,["documentName"],r),t}function eC(n){const t={},l=u(n,["uri"]);l!=null&&f(t,["uri"],l);const a=u(n,["encodedVideo"]);a!=null&&f(t,["videoBytes"],ff(a));const r=u(n,["encoding"]);return r!=null&&f(t,["mimeType"],r),t}function tC(n){const t={},l=u(n,["gcsUri"]);l!=null&&f(t,["uri"],l);const a=u(n,["bytesBase64Encoded"]);a!=null&&f(t,["videoBytes"],ff(a));const r=u(n,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}var Ih;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Ih||(Ih={}));var Uh;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(Uh||(Uh={}));var kh;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(kh||(kh={}));var Xt;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(Xt||(Xt={}));var Lh;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Lh||(Lh={}));var zh;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(zh||(zh={}));var Gh;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(Gh||(Gh={}));var Hh;(function(n){n.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",n.HTTP_IN_QUERY="HTTP_IN_QUERY",n.HTTP_IN_HEADER="HTTP_IN_HEADER",n.HTTP_IN_PATH="HTTP_IN_PATH",n.HTTP_IN_BODY="HTTP_IN_BODY",n.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Hh||(Hh={}));var Ph;(function(n){n.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",n.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",n.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",n.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Ph||(Ph={}));var qh;(function(n){n.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",n.LOW="LOW",n.HIGH="HIGH"})(qh||(qh={}));var Vh;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Vh||(Vh={}));var Bh;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(Bh||(Bh={}));var Oh;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(Oh||(Oh={}));var Yh;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",n.NO_IMAGE="NO_IMAGE"})(Yh||(Yh={}));var Fh;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(Fh||(Fh={}));var Jh;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Jh||(Jh={}));var Xh;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Xh||(Xh={}));var Kh;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY",n.MODEL_ARMOR="MODEL_ARMOR",n.JAILBREAK="JAILBREAK"})(Kh||(Kh={}));var Qh;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Qh||(Qh={}));var or;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(or||(or={}));var $h;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})($h||($h={}));var Zh;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Zh||(Zh={}));var Wh;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Wh||(Wh={}));var Jc;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Jc||(Jc={}));var jh;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V",n.TUNING_TASK_R2V="TUNING_TASK_R2V"})(jh||(jh={}));var eg;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(eg||(eg={}));var tg;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(tg||(tg={}));var ng;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(ng||(ng={}));var ig;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(ig||(ig={}));var lg;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(lg||(lg={}));var og;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(og||(og={}));var ag;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(ag||(ag={}));var sg;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(sg||(sg={}));var rg;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(rg||(rg={}));var ug;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(ug||(ug={}));var cg;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(cg||(cg={}));var fg;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(fg||(fg={}));var dg;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(dg||(dg={}));var pg;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(pg||(pg={}));var mg;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(mg||(mg={}));var hg;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(hg||(hg={}));var gg;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(gg||(gg={}));var yg;(function(n){n.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",n.PREFERENCE_TUNING="PREFERENCE_TUNING"})(yg||(yg={}));var vg;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.STATE_PENDING="STATE_PENDING",n.STATE_ACTIVE="STATE_ACTIVE",n.STATE_FAILED="STATE_FAILED"})(vg||(vg={}));var _g;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(_g||(_g={}));var Tg;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(Tg||(Tg={}));var Sg;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Sg||(Sg={}));var xg;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(xg||(xg={}));var Eg;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Eg||(Eg={}));var Cg;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Cg||(Cg={}));var Ag;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(Ag||(Ag={}));var Ng;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Ng||(Ng={}));var Mg;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Mg||(Mg={}));var bg;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(bg||(bg={}));var ro;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(ro||(ro={}));class Xc{constructor(t){const l={};for(const a of t.headers.entries())l[a[0]]=a[1];this.headers=l,this.responseInternal=t}json(){return this.responseInternal.json()}}class ma{get text(){var t,l,a,r,c,p,g,y;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let m="",v=!1;const T=[];for(const S of(y=(g=(p=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[C,w]of Object.entries(S))C!=="text"&&C!=="thought"&&C!=="thoughtSignature"&&(w!==null||w!==void 0)&&T.push(C);if(typeof S.text=="string"){if(typeof S.thought=="boolean"&&S.thought)continue;v=!0,m+=S.text}}return T.length>0&&console.warn(`there are non-text parts ${T} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?m:void 0}get data(){var t,l,a,r,c,p,g,y;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let m="";const v=[];for(const T of(y=(g=(p=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[S,C]of Object.entries(T))S!=="inlineData"&&(C!==null||C!==void 0)&&v.push(S);T.inlineData&&typeof T.inlineData.data=="string"&&(m+=atob(T.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),m.length>0?btoa(m):void 0}get functionCalls(){var t,l,a,r,c,p,g,y;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const m=(y=(g=(p=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if(m?.length!==0)return m}get executableCode(){var t,l,a,r,c,p,g,y,m;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(g=(p=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(T=>T.executableCode).map(T=>T.executableCode).filter(T=>T!==void 0);if(v?.length!==0)return(m=v?.[0])===null||m===void 0?void 0:m.code}get codeExecutionResult(){var t,l,a,r,c,p,g,y,m;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(g=(p=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(T=>T.codeExecutionResult).map(T=>T.codeExecutionResult).filter(T=>T!==void 0);if(v?.length!==0)return(m=v?.[0])===null||m===void 0?void 0:m.output}}class Rg{}class wg{}class nC{}class iC{}class lC{}class oC{}class Dg{}class Ig{}class Ug{}class aC{}class ar{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const a=new ar;let r;const c=t;return l?r=YE(c):r=OE(c),Object.assign(a,r),a}}class kg{}class Lg{}class zg{}class sC{}class rC{}class uC{}class df{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const a=new df,c=ZE(t);return Object.assign(a,c),a}}class cC{}class fC{}class dC{}class Gg{}class pC{get text(){var t,l,a;let r="",c=!1;const p=[];for(const g of(a=(l=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&a!==void 0?a:[]){for(const[y,m]of Object.entries(g))y!=="text"&&y!=="thought"&&m!==null&&p.push(y);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;c=!0,r+=g.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?r:void 0}get data(){var t,l,a;let r="";const c=[];for(const p of(a=(l=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&a!==void 0?a:[]){for(const[g,y]of Object.entries(p))g!=="inlineData"&&y!==null&&c.push(g);p.inlineData&&typeof p.inlineData.data=="string"&&(r+=atob(p.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class mC{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class pf{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const a=new pf,c=I0(t);return Object.assign(a,c),a}}function $e(n,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(n.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const l=t.split("/",2);return`publishers/${l[0]}/models/${l[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function U0(n,t){const l=$e(n,t);return l?l.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${l}`:l.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${l}`:l:""}function k0(n){return Array.isArray(n)?n.map(t=>sr(t)):[sr(n)]}function sr(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function L0(n){const t=sr(n);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function z0(n){const t=sr(n);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Hg(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function G0(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(t=>Hg(t)):[Hg(n)]}function Kc(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function Pg(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function qg(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function Vt(n){if(n==null)throw new Error("ContentUnion is required");return Kc(n)?n:{role:"user",parts:G0(n)}}function mf(n,t){if(!t)return[];if(n.isVertexAI()&&Array.isArray(t))return t.flatMap(l=>{const a=Vt(l);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]});if(n.isVertexAI()){const l=Vt(t);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]}return Array.isArray(t)?t.map(l=>Vt(l)):[Vt(t)]}function bn(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(Pg(n)||qg(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Vt(n)]}const t=[],l=[],a=Kc(n[0]);for(const r of n){const c=Kc(r);if(c!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(c)t.push(r);else{if(Pg(r)||qg(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");l.push(r)}}return a||t.push({role:"user",parts:G0(l)}),t}function hC(n,t){n.includes("null")&&(t.nullable=!0);const l=n.filter(a=>a!=="null");if(l.length===1)t.type=Object.values(Xt).includes(l[0].toUpperCase())?l[0].toUpperCase():Xt.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const a of l)t.anyOf.push({type:Object.values(Xt).includes(a.toUpperCase())?a.toUpperCase():Xt.TYPE_UNSPECIFIED})}}function fo(n){const t={},l=["items"],a=["anyOf"],r=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const c=n.anyOf;c!=null&&c.length==2&&(c[0].type==="null"?(t.nullable=!0,n=c[1]):c[1].type==="null"&&(t.nullable=!0,n=c[0])),n.type instanceof Array&&hC(n.type,t);for(const[p,g]of Object.entries(n))if(g!=null)if(p=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;t.type=Object.values(Xt).includes(g.toUpperCase())?g.toUpperCase():Xt.TYPE_UNSPECIFIED}else if(l.includes(p))t[p]=fo(g);else if(a.includes(p)){const y=[];for(const m of g){if(m.type=="null"){t.nullable=!0;continue}y.push(fo(m))}t[p]=y}else if(r.includes(p)){const y={};for(const[m,v]of Object.entries(g))y[m]=fo(v);t[p]=y}else{if(p==="additionalProperties")continue;t[p]=g}return t}function hf(n){return fo(n)}function gf(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function yf(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function yo(n){if(n.functionDeclarations)for(const t of n.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=fo(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=fo(t.response));return n}function vo(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const t=[];for(const l of n)t.push(l);return t}function gC(n,t,l,a=1){const r=!t.startsWith(`${l}/`)&&t.split("/").length===a;return n.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${n.getProject()}/${t}`:t.startsWith(`${l}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}`:r?`projects/${n.getProject()}/locations/${n.getLocation()}/${l}/${t}`:t:r?`${l}/${t}`:t}function bi(n,t){if(typeof t!="string")throw new Error("name must be a string");return gC(n,t,"cachedContents")}function H0(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function il(n){return ff(n)}function yC(n){return n!=null&&typeof n=="object"&&"name"in n}function vC(n){return n!=null&&typeof n=="object"&&"video"in n}function _C(n){return n!=null&&typeof n=="object"&&"uri"in n}function P0(n){var t;let l;if(yC(n)&&(l=n.name),!(_C(n)&&(l=n.uri,l===void 0))&&!(vC(n)&&(l=(t=n.video)===null||t===void 0?void 0:t.uri,l===void 0))){if(typeof n=="string"&&(l=n),l===void 0)throw new Error("Could not extract file name from the provided input.");if(l.startsWith("https://")){const r=l.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${l}`);l=r[0]}else l.startsWith("files/")&&(l=l.split("files/")[1]);return l}}function q0(n,t){let l;return n.isVertexAI()?l=t?"publishers/google/models":"models":l=t?"models":"tunedModels",l}function V0(n){for(const t of["models","tunedModels","publisherModels"])if(TC(n,t))return n[t];return[]}function TC(n,t){return n!==null&&typeof n=="object"&&t in n}function SC(n,t={}){const l=n,a={name:l.name,description:l.description,parametersJsonSchema:l.inputSchema};return l.outputSchema&&(a.responseJsonSchema=l.outputSchema),t.behavior&&(a.behavior=t.behavior),{functionDeclarations:[a]}}function xC(n,t={}){const l=[],a=new Set;for(const r of n){const c=r.name;if(a.has(c))throw new Error(`Duplicate function name ${c} found in MCP tools. Please ensure function names are unique.`);a.add(c);const p=SC(r,t);p.functionDeclarations&&l.push(...p.functionDeclarations)}return{functionDeclarations:l}}function B0(n,t){let l;if(typeof t=="string")if(n.isVertexAI())if(t.startsWith("gs://"))l={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))l={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))l={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");l={inlinedRequests:t}}else l=t;const a=[l.gcsUri,l.bigqueryUri].filter(Boolean).length,r=[l.inlinedRequests,l.fileName].filter(Boolean).length;if(n.isVertexAI()){if(r>0||a!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(a>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return l}function EC(n){if(typeof n!="string")return n;const t=n;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function O0(n){if(typeof n!="object"||n===null)return{};const t=n,l=t.inlinedResponses;if(typeof l!="object"||l===null)return n;const r=l.inlinedResponses;if(!Array.isArray(r)||r.length===0)return n;let c=!1;for(const p of r){if(typeof p!="object"||p===null)continue;const y=p.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){c=!0;break}}return c&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),n}function _o(n,t){const l=t;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(l))return l.split("/").pop();throw new Error(`Invalid batch job name: ${l}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(l))return l.split("/").pop();if(/^\d+$/.test(l))return l;throw new Error(`Invalid batch job name: ${l}.`)}function Y0(n){const t=n;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}function CC(n){const t={},l=u(n,["responsesFile"]);l!=null&&f(t,["fileName"],l);const a=u(n,["inlinedResponses","inlinedResponses"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(p=>lA(p))),f(t,["inlinedResponses"],c)}const r=u(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>p)),f(t,["inlinedEmbedContentResponses"],c)}return t}function AC(n){const t={},l=u(n,["predictionsFormat"]);l!=null&&f(t,["format"],l);const a=u(n,["gcsDestination","outputUriPrefix"]);a!=null&&f(t,["gcsUri"],a);const r=u(n,["bigqueryDestination","outputUri"]);return r!=null&&f(t,["bigqueryUri"],r),t}function NC(n){const t={},l=u(n,["format"]);l!=null&&f(t,["predictionsFormat"],l);const a=u(n,["gcsUri"]);a!=null&&f(t,["gcsDestination","outputUriPrefix"],a);const r=u(n,["bigqueryUri"]);if(r!=null&&f(t,["bigqueryDestination","outputUri"],r),u(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function Zs(n){const t={},l=u(n,["name"]);l!=null&&f(t,["name"],l);const a=u(n,["metadata","displayName"]);a!=null&&f(t,["displayName"],a);const r=u(n,["metadata","state"]);r!=null&&f(t,["state"],Y0(r));const c=u(n,["metadata","createTime"]);c!=null&&f(t,["createTime"],c);const p=u(n,["metadata","endTime"]);p!=null&&f(t,["endTime"],p);const g=u(n,["metadata","updateTime"]);g!=null&&f(t,["updateTime"],g);const y=u(n,["metadata","model"]);y!=null&&f(t,["model"],y);const m=u(n,["metadata","output"]);return m!=null&&f(t,["dest"],CC(O0(m))),t}function Qc(n){const t={},l=u(n,["name"]);l!=null&&f(t,["name"],l);const a=u(n,["displayName"]);a!=null&&f(t,["displayName"],a);const r=u(n,["state"]);r!=null&&f(t,["state"],Y0(r));const c=u(n,["error"]);c!=null&&f(t,["error"],c);const p=u(n,["createTime"]);p!=null&&f(t,["createTime"],p);const g=u(n,["startTime"]);g!=null&&f(t,["startTime"],g);const y=u(n,["endTime"]);y!=null&&f(t,["endTime"],y);const m=u(n,["updateTime"]);m!=null&&f(t,["updateTime"],m);const v=u(n,["model"]);v!=null&&f(t,["model"],v);const T=u(n,["inputConfig"]);T!=null&&f(t,["src"],MC(T));const S=u(n,["outputConfig"]);S!=null&&f(t,["dest"],AC(O0(S)));const C=u(n,["completionStats"]);return C!=null&&f(t,["completionStats"],C),t}function MC(n){const t={},l=u(n,["instancesFormat"]);l!=null&&f(t,["format"],l);const a=u(n,["gcsSource","uris"]);a!=null&&f(t,["gcsUri"],a);const r=u(n,["bigquerySource","inputUri"]);return r!=null&&f(t,["bigqueryUri"],r),t}function bC(n,t){const l={};if(u(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const a=u(t,["fileName"]);a!=null&&f(l,["fileName"],a);const r=u(t,["inlinedRequests"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>iA(n,p))),f(l,["requests","requests"],c)}return l}function RC(n){const t={},l=u(n,["format"]);l!=null&&f(t,["instancesFormat"],l);const a=u(n,["gcsUri"]);a!=null&&f(t,["gcsSource","uris"],a);const r=u(n,["bigqueryUri"]);if(r!=null&&f(t,["bigquerySource","inputUri"],r),u(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function wC(n){const t={},l=u(n,["data"]);if(l!=null&&f(t,["data"],l),u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(n,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function DC(n,t){const l={},a=u(t,["name"]);return a!=null&&f(l,["_url","name"],_o(n,a)),l}function IC(n,t){const l={},a=u(t,["name"]);return a!=null&&f(l,["_url","name"],_o(n,a)),l}function UC(n){const t={},l=u(n,["content"]);l!=null&&f(t,["content"],l);const a=u(n,["citationMetadata"]);a!=null&&f(t,["citationMetadata"],kC(a));const r=u(n,["tokenCount"]);r!=null&&f(t,["tokenCount"],r);const c=u(n,["finishReason"]);c!=null&&f(t,["finishReason"],c);const p=u(n,["avgLogprobs"]);p!=null&&f(t,["avgLogprobs"],p);const g=u(n,["groundingMetadata"]);g!=null&&f(t,["groundingMetadata"],g);const y=u(n,["index"]);y!=null&&f(t,["index"],y);const m=u(n,["logprobsResult"]);m!=null&&f(t,["logprobsResult"],m);const v=u(n,["safetyRatings"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(C=>C)),f(t,["safetyRatings"],S)}const T=u(n,["urlContextMetadata"]);return T!=null&&f(t,["urlContextMetadata"],T),t}function kC(n){const t={},l=u(n,["citationSources"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>r)),f(t,["citations"],a)}return t}function F0(n){const t={},l=u(n,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(c=>fA(c))),f(t,["parts"],r)}const a=u(n,["role"]);return a!=null&&f(t,["role"],a),t}function LC(n,t){const l={},a=u(n,["displayName"]);if(t!==void 0&&a!=null&&f(t,["batch","displayName"],a),u(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return l}function zC(n,t){const l={},a=u(n,["displayName"]);t!==void 0&&a!=null&&f(t,["displayName"],a);const r=u(n,["dest"]);return t!==void 0&&r!=null&&f(t,["outputConfig"],NC(EC(r))),l}function Vg(n,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],$e(n,a));const r=u(t,["src"]);r!=null&&f(l,["batch","inputConfig"],bC(n,B0(n,r)));const c=u(t,["config"]);return c!=null&&LC(c,l),l}function GC(n,t){const l={},a=u(t,["model"]);a!=null&&f(l,["model"],$e(n,a));const r=u(t,["src"]);r!=null&&f(l,["inputConfig"],RC(B0(n,r)));const c=u(t,["config"]);return c!=null&&zC(c,l),l}function HC(n,t){const l={},a=u(n,["displayName"]);return t!==void 0&&a!=null&&f(t,["batch","displayName"],a),l}function PC(n,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],$e(n,a));const r=u(t,["src"]);r!=null&&f(l,["batch","inputConfig"],JC(n,r));const c=u(t,["config"]);return c!=null&&HC(c,l),l}function qC(n,t){const l={},a=u(t,["name"]);return a!=null&&f(l,["_url","name"],_o(n,a)),l}function VC(n,t){const l={},a=u(t,["name"]);return a!=null&&f(l,["_url","name"],_o(n,a)),l}function BC(n){const t={},l=u(n,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(n,["name"]);a!=null&&f(t,["name"],a);const r=u(n,["done"]);r!=null&&f(t,["done"],r);const c=u(n,["error"]);return c!=null&&f(t,["error"],c),t}function OC(n){const t={},l=u(n,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(n,["name"]);a!=null&&f(t,["name"],a);const r=u(n,["done"]);r!=null&&f(t,["done"],r);const c=u(n,["error"]);return c!=null&&f(t,["error"],c),t}function YC(n,t){const l={},a=u(t,["contents"]);if(a!=null){let c=mf(n,a);Array.isArray(c)&&(c=c.map(p=>p)),f(l,["requests[]","request","content"],c)}const r=u(t,["config"]);return r!=null&&(f(l,["_self"],FC(r,l)),VE(l,{"requests[].*":"requests[].request.*"})),l}function FC(n,t){const l={},a=u(n,["taskType"]);t!==void 0&&a!=null&&f(t,["requests[]","taskType"],a);const r=u(n,["title"]);t!==void 0&&r!=null&&f(t,["requests[]","title"],r);const c=u(n,["outputDimensionality"]);if(t!==void 0&&c!=null&&f(t,["requests[]","outputDimensionality"],c),u(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function JC(n,t){const l={},a=u(t,["fileName"]);a!=null&&f(l,["file_name"],a);const r=u(t,["inlinedRequests"]);return r!=null&&f(l,["requests"],YC(n,r)),l}function XC(n){const t={};if(u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(n,["fileUri"]);l!=null&&f(t,["fileUri"],l);const a=u(n,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function KC(n){const t={},l=u(n,["id"]);l!=null&&f(t,["id"],l);const a=u(n,["args"]);a!=null&&f(t,["args"],a);const r=u(n,["name"]);if(r!=null&&f(t,["name"],r),u(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function QC(n){const t={},l=u(n,["mode"]);l!=null&&f(t,["mode"],l);const a=u(n,["allowedFunctionNames"]);if(a!=null&&f(t,["allowedFunctionNames"],a),u(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function $C(n,t,l){const a={},r=u(t,["systemInstruction"]);l!==void 0&&r!=null&&f(l,["systemInstruction"],F0(Vt(r)));const c=u(t,["temperature"]);c!=null&&f(a,["temperature"],c);const p=u(t,["topP"]);p!=null&&f(a,["topP"],p);const g=u(t,["topK"]);g!=null&&f(a,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&f(a,["candidateCount"],y);const m=u(t,["maxOutputTokens"]);m!=null&&f(a,["maxOutputTokens"],m);const v=u(t,["stopSequences"]);v!=null&&f(a,["stopSequences"],v);const T=u(t,["responseLogprobs"]);T!=null&&f(a,["responseLogprobs"],T);const S=u(t,["logprobs"]);S!=null&&f(a,["logprobs"],S);const C=u(t,["presencePenalty"]);C!=null&&f(a,["presencePenalty"],C);const w=u(t,["frequencyPenalty"]);w!=null&&f(a,["frequencyPenalty"],w);const L=u(t,["seed"]);L!=null&&f(a,["seed"],L);const te=u(t,["responseMimeType"]);te!=null&&f(a,["responseMimeType"],te);const z=u(t,["responseSchema"]);z!=null&&f(a,["responseSchema"],hf(z));const ee=u(t,["responseJsonSchema"]);if(ee!=null&&f(a,["responseJsonSchema"],ee),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const $=u(t,["safetySettings"]);if(l!==void 0&&$!=null){let Ee=$;Array.isArray(Ee)&&(Ee=Ee.map(Fe=>dA(Fe))),f(l,["safetySettings"],Ee)}const B=u(t,["tools"]);if(l!==void 0&&B!=null){let Ee=vo(B);Array.isArray(Ee)&&(Ee=Ee.map(Fe=>mA(yo(Fe)))),f(l,["tools"],Ee)}const J=u(t,["toolConfig"]);if(l!==void 0&&J!=null&&f(l,["toolConfig"],pA(J)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const oe=u(t,["cachedContent"]);l!==void 0&&oe!=null&&f(l,["cachedContent"],bi(n,oe));const ne=u(t,["responseModalities"]);ne!=null&&f(a,["responseModalities"],ne);const xe=u(t,["mediaResolution"]);xe!=null&&f(a,["mediaResolution"],xe);const re=u(t,["speechConfig"]);if(re!=null&&f(a,["speechConfig"],gf(re)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Te=u(t,["thinkingConfig"]);Te!=null&&f(a,["thinkingConfig"],Te);const fe=u(t,["imageConfig"]);return fe!=null&&f(a,["imageConfig"],nA(fe)),a}function ZC(n){const t={},l=u(n,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(n,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(m=>UC(m))),f(t,["candidates"],y)}const r=u(n,["modelVersion"]);r!=null&&f(t,["modelVersion"],r);const c=u(n,["promptFeedback"]);c!=null&&f(t,["promptFeedback"],c);const p=u(n,["responseId"]);p!=null&&f(t,["responseId"],p);const g=u(n,["usageMetadata"]);return g!=null&&f(t,["usageMetadata"],g),t}function WC(n,t){const l={},a=u(t,["name"]);return a!=null&&f(l,["_url","name"],_o(n,a)),l}function jC(n,t){const l={},a=u(t,["name"]);return a!=null&&f(l,["_url","name"],_o(n,a)),l}function eA(n){const t={};if(u(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(n,["enableWidget"]);return l!=null&&f(t,["enableWidget"],l),t}function tA(n){const t={};if(u(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(n,["timeRangeFilter"]);return l!=null&&f(t,["timeRangeFilter"],l),t}function nA(n){const t={},l=u(n,["aspectRatio"]);l!=null&&f(t,["aspectRatio"],l);const a=u(n,["imageSize"]);if(a!=null&&f(t,["imageSize"],a),u(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function iA(n,t){const l={},a=u(t,["model"]);a!=null&&f(l,["request","model"],$e(n,a));const r=u(t,["contents"]);if(r!=null){let g=bn(r);Array.isArray(g)&&(g=g.map(y=>F0(y))),f(l,["request","contents"],g)}const c=u(t,["metadata"]);c!=null&&f(l,["metadata"],c);const p=u(t,["config"]);return p!=null&&f(l,["request","generationConfig"],$C(n,p,u(l,["request"],{}))),l}function lA(n){const t={},l=u(n,["response"]);l!=null&&f(t,["response"],ZC(l));const a=u(n,["error"]);return a!=null&&f(t,["error"],a),t}function oA(n,t){const l={},a=u(n,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(n,["pageToken"]);if(t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),u(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return l}function aA(n,t){const l={},a=u(n,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(n,["pageToken"]);t!==void 0&&r!=null&&f(t,["_query","pageToken"],r);const c=u(n,["filter"]);return t!==void 0&&c!=null&&f(t,["_query","filter"],c),l}function sA(n){const t={},l=u(n,["config"]);return l!=null&&oA(l,t),t}function rA(n){const t={},l=u(n,["config"]);return l!=null&&aA(l,t),t}function uA(n){const t={},l=u(n,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(n,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(n,["operations"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>Zs(p))),f(t,["batchJobs"],c)}return t}function cA(n){const t={},l=u(n,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(n,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(n,["batchPredictionJobs"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>Qc(p))),f(t,["batchJobs"],c)}return t}function fA(n){const t={},l=u(n,["mediaResolution"]);l!=null&&f(t,["mediaResolution"],l);const a=u(n,["codeExecutionResult"]);a!=null&&f(t,["codeExecutionResult"],a);const r=u(n,["executableCode"]);r!=null&&f(t,["executableCode"],r);const c=u(n,["fileData"]);c!=null&&f(t,["fileData"],XC(c));const p=u(n,["functionCall"]);p!=null&&f(t,["functionCall"],KC(p));const g=u(n,["functionResponse"]);g!=null&&f(t,["functionResponse"],g);const y=u(n,["inlineData"]);y!=null&&f(t,["inlineData"],wC(y));const m=u(n,["text"]);m!=null&&f(t,["text"],m);const v=u(n,["thought"]);v!=null&&f(t,["thought"],v);const T=u(n,["thoughtSignature"]);T!=null&&f(t,["thoughtSignature"],T);const S=u(n,["videoMetadata"]);return S!=null&&f(t,["videoMetadata"],S),t}function dA(n){const t={},l=u(n,["category"]);if(l!=null&&f(t,["category"],l),u(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(n,["threshold"]);return a!=null&&f(t,["threshold"],a),t}function pA(n){const t={},l=u(n,["functionCallingConfig"]);l!=null&&f(t,["functionCallingConfig"],QC(l));const a=u(n,["retrievalConfig"]);return a!=null&&f(t,["retrievalConfig"],a),t}function mA(n){const t={},l=u(n,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(T=>T)),f(t,["functionDeclarations"],v)}if(u(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(n,["googleSearchRetrieval"]);a!=null&&f(t,["googleSearchRetrieval"],a);const r=u(n,["computerUse"]);r!=null&&f(t,["computerUse"],r);const c=u(n,["fileSearch"]);c!=null&&f(t,["fileSearch"],c);const p=u(n,["codeExecution"]);if(p!=null&&f(t,["codeExecution"],p),u(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(n,["googleMaps"]);g!=null&&f(t,["googleMaps"],eA(g));const y=u(n,["googleSearch"]);y!=null&&f(t,["googleSearch"],tA(y));const m=u(n,["urlContext"]);return m!=null&&f(t,["urlContext"],m),t}var Ni;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents",n.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",n.PAGED_ITEM_DOCUMENTS="documents"})(Ni||(Ni={}));class Al{constructor(t,l,a,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=l,this.init(t,a,r)}init(t,l,a){var r,c;this.nameInternal=t,this.pageInternal=l[this.nameInternal]||[],this.sdkHttpResponseInternal=l?.sdkHttpResponse,this.idxInternal=0;let p={config:{}};!a||Object.keys(a).length===0?p={config:{}}:typeof a=="object"?p=Object.assign({},a):p=a,p.config&&(p.config.pageToken=l.nextPageToken),this.paramsInternal=p,this.pageInternalSize=(c=(r=p.config)===null||r===void 0?void 0:r.pageSize)!==null&&c!==void 0?c:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}class hA extends Mi{constructor(t){super(),this.apiClient=t,this.create=async l=>(this.apiClient.isVertexAI()&&(l.config=this.formatDestination(l.src,l.config)),this.createInternal(l)),this.createEmbeddings=async l=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(l)},this.list=async(l={})=>new Al(Ni.PAGED_ITEM_BATCH_JOBS,a=>this.listInternal(a),await this.listInternal(l),l)}createInlinedGenerateContentRequest(t){const l=Vg(this.apiClient,t),a=l._url,r=he("{model}:batchGenerateContent",a),g=l.batch.inputConfig.requests,y=g.requests,m=[];for(const v of y){const T=Object.assign({},v);if(T.systemInstruction){const S=T.systemInstruction;delete T.systemInstruction;const C=T.request;C.systemInstruction=S,T.request=C}m.push(T)}return g.requests=m,delete l.config,delete l._url,delete l._query,{path:r,body:l}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,l){const a=l?Object.assign({},l):{},r=Date.now().toString();if(a.displayName||(a.displayName=`genaiBatchJob_${r}`),a.dest===void 0){const c=this.getGcsUri(t),p=this.getBigqueryUri(t);if(c)c.endsWith(".jsonl")?a.dest=`${c.slice(0,-6)}/dest`:a.dest=`${c}_dest_${r}`;else if(p)a.dest=`${p}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return a}async createInternal(t){var l,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=GC(this.apiClient,t);return g=he("batchPredictionJobs",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>Qc(v))}else{const m=Vg(this.apiClient,t);return g=he("{model}:batchGenerateContent",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),p.then(v=>Zs(v))}}async createEmbeddingsInternal(t){var l,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=PC(this.apiClient,t);return c=he("{model}:asyncBatchEmbedContent",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>Zs(y))}}async get(t){var l,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=jC(this.apiClient,t);return g=he("batchPredictionJobs/{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>Qc(v))}else{const m=WC(this.apiClient,t);return g=he("batches/{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),p.then(v=>Zs(v))}}async cancel(t){var l,a,r,c;let p="",g={};if(this.apiClient.isVertexAI()){const y=IC(this.apiClient,t);p=he("batchPredictionJobs/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}else{const y=DC(this.apiClient,t);p=he("batches/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal})}}async listInternal(t){var l,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=rA(t);return g=he("batchPredictionJobs",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const T=cA(v),S=new Gg;return Object.assign(S,T),S})}else{const m=sA(t);return g=he("batches",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const T=uA(v),S=new Gg;return Object.assign(S,T),S})}}async delete(t){var l,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=VC(this.apiClient,t);return g=he("batchPredictionJobs/{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>OC(v))}else{const m=qC(this.apiClient,t);return g=he("batches/{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>BC(v))}}}function gA(n){const t={},l=u(n,["data"]);if(l!=null&&f(t,["data"],l),u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(n,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function Bg(n){const t={},l=u(n,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(c=>PA(c))),f(t,["parts"],r)}const a=u(n,["role"]);return a!=null&&f(t,["role"],a),t}function yA(n,t){const l={},a=u(n,["ttl"]);t!==void 0&&a!=null&&f(t,["ttl"],a);const r=u(n,["expireTime"]);t!==void 0&&r!=null&&f(t,["expireTime"],r);const c=u(n,["displayName"]);t!==void 0&&c!=null&&f(t,["displayName"],c);const p=u(n,["contents"]);if(t!==void 0&&p!=null){let v=bn(p);Array.isArray(v)&&(v=v.map(T=>Bg(T))),f(t,["contents"],v)}const g=u(n,["systemInstruction"]);t!==void 0&&g!=null&&f(t,["systemInstruction"],Bg(Vt(g)));const y=u(n,["tools"]);if(t!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(T=>VA(T))),f(t,["tools"],v)}const m=u(n,["toolConfig"]);if(t!==void 0&&m!=null&&f(t,["toolConfig"],qA(m)),u(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return l}function vA(n,t){const l={},a=u(n,["ttl"]);t!==void 0&&a!=null&&f(t,["ttl"],a);const r=u(n,["expireTime"]);t!==void 0&&r!=null&&f(t,["expireTime"],r);const c=u(n,["displayName"]);t!==void 0&&c!=null&&f(t,["displayName"],c);const p=u(n,["contents"]);if(t!==void 0&&p!=null){let T=bn(p);Array.isArray(T)&&(T=T.map(S=>S)),f(t,["contents"],T)}const g=u(n,["systemInstruction"]);t!==void 0&&g!=null&&f(t,["systemInstruction"],Vt(g));const y=u(n,["tools"]);if(t!==void 0&&y!=null){let T=y;Array.isArray(T)&&(T=T.map(S=>BA(S))),f(t,["tools"],T)}const m=u(n,["toolConfig"]);t!==void 0&&m!=null&&f(t,["toolConfig"],m);const v=u(n,["kmsKeyName"]);return t!==void 0&&v!=null&&f(t,["encryption_spec","kmsKeyName"],v),l}function _A(n,t){const l={},a=u(t,["model"]);a!=null&&f(l,["model"],U0(n,a));const r=u(t,["config"]);return r!=null&&yA(r,l),l}function TA(n,t){const l={},a=u(t,["model"]);a!=null&&f(l,["model"],U0(n,a));const r=u(t,["config"]);return r!=null&&vA(r,l),l}function SA(n,t){const l={},a=u(t,["name"]);return a!=null&&f(l,["_url","name"],bi(n,a)),l}function xA(n,t){const l={},a=u(t,["name"]);return a!=null&&f(l,["_url","name"],bi(n,a)),l}function EA(n){const t={},l=u(n,["sdkHttpResponse"]);return l!=null&&f(t,["sdkHttpResponse"],l),t}function CA(n){const t={},l=u(n,["sdkHttpResponse"]);return l!=null&&f(t,["sdkHttpResponse"],l),t}function AA(n){const t={};if(u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(n,["fileUri"]);l!=null&&f(t,["fileUri"],l);const a=u(n,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function NA(n){const t={},l=u(n,["id"]);l!=null&&f(t,["id"],l);const a=u(n,["args"]);a!=null&&f(t,["args"],a);const r=u(n,["name"]);if(r!=null&&f(t,["name"],r),u(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function MA(n){const t={},l=u(n,["mode"]);l!=null&&f(t,["mode"],l);const a=u(n,["allowedFunctionNames"]);if(a!=null&&f(t,["allowedFunctionNames"],a),u(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function bA(n){const t={};if(u(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=u(n,["description"]);l!=null&&f(t,["description"],l);const a=u(n,["name"]);a!=null&&f(t,["name"],a);const r=u(n,["parameters"]);r!=null&&f(t,["parameters"],r);const c=u(n,["parametersJsonSchema"]);c!=null&&f(t,["parametersJsonSchema"],c);const p=u(n,["response"]);p!=null&&f(t,["response"],p);const g=u(n,["responseJsonSchema"]);return g!=null&&f(t,["responseJsonSchema"],g),t}function RA(n,t){const l={},a=u(t,["name"]);return a!=null&&f(l,["_url","name"],bi(n,a)),l}function wA(n,t){const l={},a=u(t,["name"]);return a!=null&&f(l,["_url","name"],bi(n,a)),l}function DA(n){const t={};if(u(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(n,["enableWidget"]);return l!=null&&f(t,["enableWidget"],l),t}function IA(n){const t={};if(u(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(n,["timeRangeFilter"]);return l!=null&&f(t,["timeRangeFilter"],l),t}function UA(n,t){const l={},a=u(n,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(n,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),l}function kA(n,t){const l={},a=u(n,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(n,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),l}function LA(n){const t={},l=u(n,["config"]);return l!=null&&UA(l,t),t}function zA(n){const t={},l=u(n,["config"]);return l!=null&&kA(l,t),t}function GA(n){const t={},l=u(n,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(n,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(n,["cachedContents"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>p)),f(t,["cachedContents"],c)}return t}function HA(n){const t={},l=u(n,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(n,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(n,["cachedContents"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>p)),f(t,["cachedContents"],c)}return t}function PA(n){const t={},l=u(n,["mediaResolution"]);l!=null&&f(t,["mediaResolution"],l);const a=u(n,["codeExecutionResult"]);a!=null&&f(t,["codeExecutionResult"],a);const r=u(n,["executableCode"]);r!=null&&f(t,["executableCode"],r);const c=u(n,["fileData"]);c!=null&&f(t,["fileData"],AA(c));const p=u(n,["functionCall"]);p!=null&&f(t,["functionCall"],NA(p));const g=u(n,["functionResponse"]);g!=null&&f(t,["functionResponse"],g);const y=u(n,["inlineData"]);y!=null&&f(t,["inlineData"],gA(y));const m=u(n,["text"]);m!=null&&f(t,["text"],m);const v=u(n,["thought"]);v!=null&&f(t,["thought"],v);const T=u(n,["thoughtSignature"]);T!=null&&f(t,["thoughtSignature"],T);const S=u(n,["videoMetadata"]);return S!=null&&f(t,["videoMetadata"],S),t}function qA(n){const t={},l=u(n,["functionCallingConfig"]);l!=null&&f(t,["functionCallingConfig"],MA(l));const a=u(n,["retrievalConfig"]);return a!=null&&f(t,["retrievalConfig"],a),t}function VA(n){const t={},l=u(n,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(T=>T)),f(t,["functionDeclarations"],v)}if(u(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(n,["googleSearchRetrieval"]);a!=null&&f(t,["googleSearchRetrieval"],a);const r=u(n,["computerUse"]);r!=null&&f(t,["computerUse"],r);const c=u(n,["fileSearch"]);c!=null&&f(t,["fileSearch"],c);const p=u(n,["codeExecution"]);if(p!=null&&f(t,["codeExecution"],p),u(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(n,["googleMaps"]);g!=null&&f(t,["googleMaps"],DA(g));const y=u(n,["googleSearch"]);y!=null&&f(t,["googleSearch"],IA(y));const m=u(n,["urlContext"]);return m!=null&&f(t,["urlContext"],m),t}function BA(n){const t={},l=u(n,["functionDeclarations"]);if(l!=null){let T=l;Array.isArray(T)&&(T=T.map(S=>bA(S))),f(t,["functionDeclarations"],T)}const a=u(n,["retrieval"]);a!=null&&f(t,["retrieval"],a);const r=u(n,["googleSearchRetrieval"]);r!=null&&f(t,["googleSearchRetrieval"],r);const c=u(n,["computerUse"]);if(c!=null&&f(t,["computerUse"],c),u(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const p=u(n,["codeExecution"]);p!=null&&f(t,["codeExecution"],p);const g=u(n,["enterpriseWebSearch"]);g!=null&&f(t,["enterpriseWebSearch"],g);const y=u(n,["googleMaps"]);y!=null&&f(t,["googleMaps"],y);const m=u(n,["googleSearch"]);m!=null&&f(t,["googleSearch"],m);const v=u(n,["urlContext"]);return v!=null&&f(t,["urlContext"],v),t}function OA(n,t){const l={},a=u(n,["ttl"]);t!==void 0&&a!=null&&f(t,["ttl"],a);const r=u(n,["expireTime"]);return t!==void 0&&r!=null&&f(t,["expireTime"],r),l}function YA(n,t){const l={},a=u(n,["ttl"]);t!==void 0&&a!=null&&f(t,["ttl"],a);const r=u(n,["expireTime"]);return t!==void 0&&r!=null&&f(t,["expireTime"],r),l}function FA(n,t){const l={},a=u(t,["name"]);a!=null&&f(l,["_url","name"],bi(n,a));const r=u(t,["config"]);return r!=null&&OA(r,l),l}function JA(n,t){const l={},a=u(t,["name"]);a!=null&&f(l,["_url","name"],bi(n,a));const r=u(t,["config"]);return r!=null&&YA(r,l),l}class XA extends Mi{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new Al(Ni.PAGED_ITEM_CACHED_CONTENTS,a=>this.listInternal(a),await this.listInternal(l),l)}async create(t){var l,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=TA(this.apiClient,t);return g=he("cachedContents",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const m=_A(this.apiClient,t);return g=he("cachedContents",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async get(t){var l,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=wA(this.apiClient,t);return g=he("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const m=RA(this.apiClient,t);return g=he("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async delete(t){var l,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=xA(this.apiClient,t);return g=he("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const T=CA(v),S=new Lg;return Object.assign(S,T),S})}else{const m=SA(this.apiClient,t);return g=he("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const T=EA(v),S=new Lg;return Object.assign(S,T),S})}}async update(t){var l,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=JA(this.apiClient,t);return g=he("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const m=FA(this.apiClient,t);return g=he("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async listInternal(t){var l,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=zA(t);return g=he("cachedContents",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const T=HA(v),S=new zg;return Object.assign(S,T),S})}else{const m=LA(t);return g=he("cachedContents",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const T=GA(v),S=new zg;return Object.assign(S,T),S})}}}function Og(n){var t=typeof Symbol=="function"&&Symbol.iterator,l=t&&n[t],a=0;if(l)return l.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&a>=n.length&&(n=void 0),{value:n&&n[a++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ft(n){return this instanceof ft?(this.v=n,this):new ft(n)}function po(n,t,l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=l.apply(n,t||[]),r,c=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",p),r[Symbol.asyncIterator]=function(){return this},r;function p(C){return function(w){return Promise.resolve(w).then(C,T)}}function g(C,w){a[C]&&(r[C]=function(L){return new Promise(function(te,z){c.push([C,L,te,z])>1||y(C,L)})},w&&(r[C]=w(r[C])))}function y(C,w){try{m(a[C](w))}catch(L){S(c[0][3],L)}}function m(C){C.value instanceof ft?Promise.resolve(C.value.v).then(v,T):S(c[0][2],C)}function v(C){y("next",C)}function T(C){y("throw",C)}function S(C,w){C(w),c.shift(),c.length&&y(c[0][0],c[0][1])}}function _a(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=n[Symbol.asyncIterator],l;return t?t.call(n):(n=typeof Og=="function"?Og(n):n[Symbol.iterator](),l={},a("next"),a("throw"),a("return"),l[Symbol.asyncIterator]=function(){return this},l);function a(c){l[c]=n[c]&&function(p){return new Promise(function(g,y){p=n[c](p),r(g,y,p.done,p.value)})}}function r(c,p,g,y){Promise.resolve(y).then(function(m){c({value:m,done:g})},p)}}function KA(n){var t;if(n.candidates==null||n.candidates.length===0)return!1;const l=(t=n.candidates[0])===null||t===void 0?void 0:t.content;return l===void 0?!1:J0(l)}function J0(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const t of n.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function QA(n){if(n.length!==0){for(const t of n)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function Yg(n){if(n===void 0||n.length===0)return[];const t=[],l=n.length;let a=0;for(;a<l;)if(n[a].role==="user")t.push(n[a]),a++;else{const r=[];let c=!0;for(;a<l&&n[a].role==="model";)r.push(n[a]),c&&!J0(n[a])&&(c=!1),a++;c?t.push(...r):t.pop()}return t}class $A{constructor(t,l){this.modelsModule=t,this.apiClient=l}create(t){return new ZA(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class ZA{constructor(t,l,a,r={},c=[]){this.apiClient=t,this.modelsModule=l,this.model=a,this.config=r,this.history=c,this.sendPromise=Promise.resolve(),QA(c)}async sendMessage(t){var l;await this.sendPromise;const a=Vt(t.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(a),config:(l=t.config)!==null&&l!==void 0?l:this.config});return this.sendPromise=(async()=>{var c,p,g;const y=await r,m=(p=(c=y.candidates)===null||c===void 0?void 0:c[0])===null||p===void 0?void 0:p.content,v=y.automaticFunctionCallingHistory,T=this.getHistory(!0).length;let S=[];v!=null&&(S=(g=v.slice(T))!==null&&g!==void 0?g:[]);const C=m?[m]:[];this.recordHistory(a,C,S)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(t){var l;await this.sendPromise;const a=Vt(t.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(a),config:(l=t.config)!==null&&l!==void 0?l:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const c=await r;return this.processStreamResponse(c,a)}getHistory(t=!1){const l=t?Yg(this.history):this.history;return structuredClone(l)}processStreamResponse(t,l){var a,r;return po(this,arguments,function*(){var p,g,y,m;const v=[];try{for(var T=!0,S=_a(t),C;C=yield ft(S.next()),p=C.done,!p;T=!0){m=C.value,T=!1;const w=m;if(KA(w)){const L=(r=(a=w.candidates)===null||a===void 0?void 0:a[0])===null||r===void 0?void 0:r.content;L!==void 0&&v.push(L)}yield yield ft(w)}}catch(w){g={error:w}}finally{try{!T&&!p&&(y=S.return)&&(yield ft(y.call(S)))}finally{if(g)throw g.error}}this.recordHistory(l,v)})}recordHistory(t,l,a){let r=[];l.length>0&&l.every(c=>c.role!==void 0)?r=l:r.push({role:"model",parts:[]}),a&&a.length>0?this.history.push(...Yg(a)):this.history.push(t),this.history.push(...r)}}class pr extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,pr.prototype)}}function WA(n){const t={},l=u(n,["file"]);return l!=null&&f(t,["file"],l),t}function jA(n){const t={},l=u(n,["sdkHttpResponse"]);return l!=null&&f(t,["sdkHttpResponse"],l),t}function e1(n){const t={},l=u(n,["name"]);return l!=null&&f(t,["_url","file"],P0(l)),t}function t1(n){const t={},l=u(n,["sdkHttpResponse"]);return l!=null&&f(t,["sdkHttpResponse"],l),t}function n1(n){const t={},l=u(n,["name"]);return l!=null&&f(t,["_url","file"],P0(l)),t}function i1(n,t){const l={},a=u(n,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(n,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),l}function l1(n){const t={},l=u(n,["config"]);return l!=null&&i1(l,t),t}function o1(n){const t={},l=u(n,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(n,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(n,["files"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>p)),f(t,["files"],c)}return t}class a1 extends Mi{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new Al(Ni.PAGED_ITEM_FILES,a=>this.listInternal(a),await this.listInternal(l),l)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(l=>l)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var l,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=l1(t);return c=he("files",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const m=o1(y),v=new cC;return Object.assign(v,m),v})}}async createInternal(t){var l,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=WA(t);return c=he("upload/v1beta/files",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const m=jA(y),v=new fC;return Object.assign(v,m),v})}}async get(t){var l,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=n1(t);return c=he("files/{file}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var l,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=e1(t);return c=he("files/{file}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const m=t1(y),v=new dC;return Object.assign(v,m),v})}}}function Ws(n){const t={},l=u(n,["data"]);if(l!=null&&f(t,["data"],l),u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(n,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function s1(n){const t={},l=u(n,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(c=>E1(c))),f(t,["parts"],r)}const a=u(n,["role"]);return a!=null&&f(t,["role"],a),t}function r1(n){const t={};if(u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(n,["fileUri"]);l!=null&&f(t,["fileUri"],l);const a=u(n,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function u1(n){const t={},l=u(n,["id"]);l!=null&&f(t,["id"],l);const a=u(n,["args"]);a!=null&&f(t,["args"],a);const r=u(n,["name"]);if(r!=null&&f(t,["name"],r),u(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function c1(n){const t={};if(u(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=u(n,["description"]);l!=null&&f(t,["description"],l);const a=u(n,["name"]);a!=null&&f(t,["name"],a);const r=u(n,["parameters"]);r!=null&&f(t,["parameters"],r);const c=u(n,["parametersJsonSchema"]);c!=null&&f(t,["parametersJsonSchema"],c);const p=u(n,["response"]);p!=null&&f(t,["response"],p);const g=u(n,["responseJsonSchema"]);return g!=null&&f(t,["responseJsonSchema"],g),t}function f1(n){const t={},l=u(n,["modelSelectionConfig"]);l!=null&&f(t,["modelConfig"],l);const a=u(n,["responseJsonSchema"]);a!=null&&f(t,["responseJsonSchema"],a);const r=u(n,["audioTimestamp"]);r!=null&&f(t,["audioTimestamp"],r);const c=u(n,["candidateCount"]);c!=null&&f(t,["candidateCount"],c);const p=u(n,["enableAffectiveDialog"]);p!=null&&f(t,["enableAffectiveDialog"],p);const g=u(n,["frequencyPenalty"]);g!=null&&f(t,["frequencyPenalty"],g);const y=u(n,["logprobs"]);y!=null&&f(t,["logprobs"],y);const m=u(n,["maxOutputTokens"]);m!=null&&f(t,["maxOutputTokens"],m);const v=u(n,["mediaResolution"]);v!=null&&f(t,["mediaResolution"],v);const T=u(n,["presencePenalty"]);T!=null&&f(t,["presencePenalty"],T);const S=u(n,["responseLogprobs"]);S!=null&&f(t,["responseLogprobs"],S);const C=u(n,["responseMimeType"]);C!=null&&f(t,["responseMimeType"],C);const w=u(n,["responseModalities"]);w!=null&&f(t,["responseModalities"],w);const L=u(n,["responseSchema"]);L!=null&&f(t,["responseSchema"],L);const te=u(n,["routingConfig"]);te!=null&&f(t,["routingConfig"],te);const z=u(n,["seed"]);z!=null&&f(t,["seed"],z);const ee=u(n,["speechConfig"]);ee!=null&&f(t,["speechConfig"],X0(ee));const $=u(n,["stopSequences"]);$!=null&&f(t,["stopSequences"],$);const B=u(n,["temperature"]);B!=null&&f(t,["temperature"],B);const J=u(n,["thinkingConfig"]);J!=null&&f(t,["thinkingConfig"],J);const oe=u(n,["topK"]);oe!=null&&f(t,["topK"],oe);const ne=u(n,["topP"]);if(ne!=null&&f(t,["topP"],ne),u(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function d1(n){const t={};if(u(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(n,["enableWidget"]);return l!=null&&f(t,["enableWidget"],l),t}function p1(n){const t={};if(u(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(n,["timeRangeFilter"]);return l!=null&&f(t,["timeRangeFilter"],l),t}function m1(n,t){const l={},a=u(n,["generationConfig"]);t!==void 0&&a!=null&&f(t,["setup","generationConfig"],a);const r=u(n,["responseModalities"]);t!==void 0&&r!=null&&f(t,["setup","generationConfig","responseModalities"],r);const c=u(n,["temperature"]);t!==void 0&&c!=null&&f(t,["setup","generationConfig","temperature"],c);const p=u(n,["topP"]);t!==void 0&&p!=null&&f(t,["setup","generationConfig","topP"],p);const g=u(n,["topK"]);t!==void 0&&g!=null&&f(t,["setup","generationConfig","topK"],g);const y=u(n,["maxOutputTokens"]);t!==void 0&&y!=null&&f(t,["setup","generationConfig","maxOutputTokens"],y);const m=u(n,["mediaResolution"]);t!==void 0&&m!=null&&f(t,["setup","generationConfig","mediaResolution"],m);const v=u(n,["seed"]);t!==void 0&&v!=null&&f(t,["setup","generationConfig","seed"],v);const T=u(n,["speechConfig"]);t!==void 0&&T!=null&&f(t,["setup","generationConfig","speechConfig"],yf(T));const S=u(n,["thinkingConfig"]);t!==void 0&&S!=null&&f(t,["setup","generationConfig","thinkingConfig"],S);const C=u(n,["enableAffectiveDialog"]);t!==void 0&&C!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],C);const w=u(n,["systemInstruction"]);t!==void 0&&w!=null&&f(t,["setup","systemInstruction"],s1(Vt(w)));const L=u(n,["tools"]);if(t!==void 0&&L!=null){let oe=vo(L);Array.isArray(oe)&&(oe=oe.map(ne=>A1(yo(ne)))),f(t,["setup","tools"],oe)}const te=u(n,["sessionResumption"]);t!==void 0&&te!=null&&f(t,["setup","sessionResumption"],C1(te));const z=u(n,["inputAudioTranscription"]);t!==void 0&&z!=null&&f(t,["setup","inputAudioTranscription"],z);const ee=u(n,["outputAudioTranscription"]);t!==void 0&&ee!=null&&f(t,["setup","outputAudioTranscription"],ee);const $=u(n,["realtimeInputConfig"]);t!==void 0&&$!=null&&f(t,["setup","realtimeInputConfig"],$);const B=u(n,["contextWindowCompression"]);t!==void 0&&B!=null&&f(t,["setup","contextWindowCompression"],B);const J=u(n,["proactivity"]);return t!==void 0&&J!=null&&f(t,["setup","proactivity"],J),l}function h1(n,t){const l={},a=u(n,["generationConfig"]);t!==void 0&&a!=null&&f(t,["setup","generationConfig"],f1(a));const r=u(n,["responseModalities"]);t!==void 0&&r!=null&&f(t,["setup","generationConfig","responseModalities"],r);const c=u(n,["temperature"]);t!==void 0&&c!=null&&f(t,["setup","generationConfig","temperature"],c);const p=u(n,["topP"]);t!==void 0&&p!=null&&f(t,["setup","generationConfig","topP"],p);const g=u(n,["topK"]);t!==void 0&&g!=null&&f(t,["setup","generationConfig","topK"],g);const y=u(n,["maxOutputTokens"]);t!==void 0&&y!=null&&f(t,["setup","generationConfig","maxOutputTokens"],y);const m=u(n,["mediaResolution"]);t!==void 0&&m!=null&&f(t,["setup","generationConfig","mediaResolution"],m);const v=u(n,["seed"]);t!==void 0&&v!=null&&f(t,["setup","generationConfig","seed"],v);const T=u(n,["speechConfig"]);t!==void 0&&T!=null&&f(t,["setup","generationConfig","speechConfig"],X0(yf(T)));const S=u(n,["thinkingConfig"]);t!==void 0&&S!=null&&f(t,["setup","generationConfig","thinkingConfig"],S);const C=u(n,["enableAffectiveDialog"]);t!==void 0&&C!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],C);const w=u(n,["systemInstruction"]);t!==void 0&&w!=null&&f(t,["setup","systemInstruction"],Vt(w));const L=u(n,["tools"]);if(t!==void 0&&L!=null){let oe=vo(L);Array.isArray(oe)&&(oe=oe.map(ne=>N1(yo(ne)))),f(t,["setup","tools"],oe)}const te=u(n,["sessionResumption"]);t!==void 0&&te!=null&&f(t,["setup","sessionResumption"],te);const z=u(n,["inputAudioTranscription"]);t!==void 0&&z!=null&&f(t,["setup","inputAudioTranscription"],z);const ee=u(n,["outputAudioTranscription"]);t!==void 0&&ee!=null&&f(t,["setup","outputAudioTranscription"],ee);const $=u(n,["realtimeInputConfig"]);t!==void 0&&$!=null&&f(t,["setup","realtimeInputConfig"],$);const B=u(n,["contextWindowCompression"]);t!==void 0&&B!=null&&f(t,["setup","contextWindowCompression"],B);const J=u(n,["proactivity"]);return t!==void 0&&J!=null&&f(t,["setup","proactivity"],J),l}function g1(n,t){const l={},a=u(t,["model"]);a!=null&&f(l,["setup","model"],$e(n,a));const r=u(t,["config"]);return r!=null&&f(l,["config"],m1(r,l)),l}function y1(n,t){const l={},a=u(t,["model"]);a!=null&&f(l,["setup","model"],$e(n,a));const r=u(t,["config"]);return r!=null&&f(l,["config"],h1(r,l)),l}function v1(n){const t={},l=u(n,["musicGenerationConfig"]);return l!=null&&f(t,["musicGenerationConfig"],l),t}function _1(n){const t={},l=u(n,["weightedPrompts"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>r)),f(t,["weightedPrompts"],a)}return t}function T1(n){const t={},l=u(n,["media"]);if(l!=null){let m=k0(l);Array.isArray(m)&&(m=m.map(v=>Ws(v))),f(t,["mediaChunks"],m)}const a=u(n,["audio"]);a!=null&&f(t,["audio"],Ws(z0(a)));const r=u(n,["audioStreamEnd"]);r!=null&&f(t,["audioStreamEnd"],r);const c=u(n,["video"]);c!=null&&f(t,["video"],Ws(L0(c)));const p=u(n,["text"]);p!=null&&f(t,["text"],p);const g=u(n,["activityStart"]);g!=null&&f(t,["activityStart"],g);const y=u(n,["activityEnd"]);return y!=null&&f(t,["activityEnd"],y),t}function S1(n){const t={},l=u(n,["media"]);if(l!=null){let m=k0(l);Array.isArray(m)&&(m=m.map(v=>v)),f(t,["mediaChunks"],m)}const a=u(n,["audio"]);a!=null&&f(t,["audio"],z0(a));const r=u(n,["audioStreamEnd"]);r!=null&&f(t,["audioStreamEnd"],r);const c=u(n,["video"]);c!=null&&f(t,["video"],L0(c));const p=u(n,["text"]);p!=null&&f(t,["text"],p);const g=u(n,["activityStart"]);g!=null&&f(t,["activityStart"],g);const y=u(n,["activityEnd"]);return y!=null&&f(t,["activityEnd"],y),t}function x1(n){const t={},l=u(n,["setupComplete"]);l!=null&&f(t,["setupComplete"],l);const a=u(n,["serverContent"]);a!=null&&f(t,["serverContent"],a);const r=u(n,["toolCall"]);r!=null&&f(t,["toolCall"],r);const c=u(n,["toolCallCancellation"]);c!=null&&f(t,["toolCallCancellation"],c);const p=u(n,["usageMetadata"]);p!=null&&f(t,["usageMetadata"],M1(p));const g=u(n,["goAway"]);g!=null&&f(t,["goAway"],g);const y=u(n,["sessionResumptionUpdate"]);return y!=null&&f(t,["sessionResumptionUpdate"],y),t}function E1(n){const t={},l=u(n,["mediaResolution"]);l!=null&&f(t,["mediaResolution"],l);const a=u(n,["codeExecutionResult"]);a!=null&&f(t,["codeExecutionResult"],a);const r=u(n,["executableCode"]);r!=null&&f(t,["executableCode"],r);const c=u(n,["fileData"]);c!=null&&f(t,["fileData"],r1(c));const p=u(n,["functionCall"]);p!=null&&f(t,["functionCall"],u1(p));const g=u(n,["functionResponse"]);g!=null&&f(t,["functionResponse"],g);const y=u(n,["inlineData"]);y!=null&&f(t,["inlineData"],Ws(y));const m=u(n,["text"]);m!=null&&f(t,["text"],m);const v=u(n,["thought"]);v!=null&&f(t,["thought"],v);const T=u(n,["thoughtSignature"]);T!=null&&f(t,["thoughtSignature"],T);const S=u(n,["videoMetadata"]);return S!=null&&f(t,["videoMetadata"],S),t}function C1(n){const t={},l=u(n,["handle"]);if(l!=null&&f(t,["handle"],l),u(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function X0(n){const t={},l=u(n,["languageCode"]);l!=null&&f(t,["languageCode"],l);const a=u(n,["voiceConfig"]);if(a!=null&&f(t,["voiceConfig"],a),u(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function A1(n){const t={},l=u(n,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(T=>T)),f(t,["functionDeclarations"],v)}if(u(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(n,["googleSearchRetrieval"]);a!=null&&f(t,["googleSearchRetrieval"],a);const r=u(n,["computerUse"]);r!=null&&f(t,["computerUse"],r);const c=u(n,["fileSearch"]);c!=null&&f(t,["fileSearch"],c);const p=u(n,["codeExecution"]);if(p!=null&&f(t,["codeExecution"],p),u(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(n,["googleMaps"]);g!=null&&f(t,["googleMaps"],d1(g));const y=u(n,["googleSearch"]);y!=null&&f(t,["googleSearch"],p1(y));const m=u(n,["urlContext"]);return m!=null&&f(t,["urlContext"],m),t}function N1(n){const t={},l=u(n,["functionDeclarations"]);if(l!=null){let T=l;Array.isArray(T)&&(T=T.map(S=>c1(S))),f(t,["functionDeclarations"],T)}const a=u(n,["retrieval"]);a!=null&&f(t,["retrieval"],a);const r=u(n,["googleSearchRetrieval"]);r!=null&&f(t,["googleSearchRetrieval"],r);const c=u(n,["computerUse"]);if(c!=null&&f(t,["computerUse"],c),u(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const p=u(n,["codeExecution"]);p!=null&&f(t,["codeExecution"],p);const g=u(n,["enterpriseWebSearch"]);g!=null&&f(t,["enterpriseWebSearch"],g);const y=u(n,["googleMaps"]);y!=null&&f(t,["googleMaps"],y);const m=u(n,["googleSearch"]);m!=null&&f(t,["googleSearch"],m);const v=u(n,["urlContext"]);return v!=null&&f(t,["urlContext"],v),t}function M1(n){const t={},l=u(n,["promptTokenCount"]);l!=null&&f(t,["promptTokenCount"],l);const a=u(n,["cachedContentTokenCount"]);a!=null&&f(t,["cachedContentTokenCount"],a);const r=u(n,["candidatesTokenCount"]);r!=null&&f(t,["responseTokenCount"],r);const c=u(n,["toolUsePromptTokenCount"]);c!=null&&f(t,["toolUsePromptTokenCount"],c);const p=u(n,["thoughtsTokenCount"]);p!=null&&f(t,["thoughtsTokenCount"],p);const g=u(n,["totalTokenCount"]);g!=null&&f(t,["totalTokenCount"],g);const y=u(n,["promptTokensDetails"]);if(y!=null){let C=y;Array.isArray(C)&&(C=C.map(w=>w)),f(t,["promptTokensDetails"],C)}const m=u(n,["cacheTokensDetails"]);if(m!=null){let C=m;Array.isArray(C)&&(C=C.map(w=>w)),f(t,["cacheTokensDetails"],C)}const v=u(n,["candidatesTokensDetails"]);if(v!=null){let C=v;Array.isArray(C)&&(C=C.map(w=>w)),f(t,["responseTokensDetails"],C)}const T=u(n,["toolUsePromptTokensDetails"]);if(T!=null){let C=T;Array.isArray(C)&&(C=C.map(w=>w)),f(t,["toolUsePromptTokensDetails"],C)}const S=u(n,["trafficType"]);return S!=null&&f(t,["trafficType"],S),t}function b1(n){const t={},l=u(n,["data"]);if(l!=null&&f(t,["data"],l),u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(n,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function R1(n){const t={},l=u(n,["content"]);l!=null&&f(t,["content"],l);const a=u(n,["citationMetadata"]);a!=null&&f(t,["citationMetadata"],w1(a));const r=u(n,["tokenCount"]);r!=null&&f(t,["tokenCount"],r);const c=u(n,["finishReason"]);c!=null&&f(t,["finishReason"],c);const p=u(n,["avgLogprobs"]);p!=null&&f(t,["avgLogprobs"],p);const g=u(n,["groundingMetadata"]);g!=null&&f(t,["groundingMetadata"],g);const y=u(n,["index"]);y!=null&&f(t,["index"],y);const m=u(n,["logprobsResult"]);m!=null&&f(t,["logprobsResult"],m);const v=u(n,["safetyRatings"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(C=>C)),f(t,["safetyRatings"],S)}const T=u(n,["urlContextMetadata"]);return T!=null&&f(t,["urlContextMetadata"],T),t}function w1(n){const t={},l=u(n,["citationSources"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>r)),f(t,["citations"],a)}return t}function D1(n,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],$e(n,a));const r=u(t,["contents"]);if(r!=null){let c=bn(r);Array.isArray(c)&&(c=c.map(p=>p)),f(l,["contents"],c)}return l}function I1(n){const t={},l=u(n,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(n,["tokensInfo"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>c)),f(t,["tokensInfo"],r)}return t}function U1(n){const t={},l=u(n,["values"]);l!=null&&f(t,["values"],l);const a=u(n,["statistics"]);return a!=null&&f(t,["statistics"],k1(a)),t}function k1(n){const t={},l=u(n,["truncated"]);l!=null&&f(t,["truncated"],l);const a=u(n,["token_count"]);return a!=null&&f(t,["tokenCount"],a),t}function mr(n){const t={},l=u(n,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(c=>ON(c))),f(t,["parts"],r)}const a=u(n,["role"]);return a!=null&&f(t,["role"],a),t}function L1(n){const t={},l=u(n,["controlType"]);l!=null&&f(t,["controlType"],l);const a=u(n,["enableControlImageComputation"]);return a!=null&&f(t,["computeControl"],a),t}function z1(n){const t={};if(u(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function G1(n,t){const l={},a=u(n,["systemInstruction"]);t!==void 0&&a!=null&&f(t,["systemInstruction"],Vt(a));const r=u(n,["tools"]);if(t!==void 0&&r!=null){let p=r;Array.isArray(p)&&(p=p.map(g=>W0(g))),f(t,["tools"],p)}const c=u(n,["generationConfig"]);return t!==void 0&&c!=null&&f(t,["generationConfig"],bN(c)),l}function H1(n,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],$e(n,a));const r=u(t,["contents"]);if(r!=null){let p=bn(r);Array.isArray(p)&&(p=p.map(g=>mr(g))),f(l,["contents"],p)}const c=u(t,["config"]);return c!=null&&z1(c),l}function P1(n,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],$e(n,a));const r=u(t,["contents"]);if(r!=null){let p=bn(r);Array.isArray(p)&&(p=p.map(g=>g)),f(l,["contents"],p)}const c=u(t,["config"]);return c!=null&&G1(c,l),l}function q1(n){const t={},l=u(n,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(n,["totalTokens"]);a!=null&&f(t,["totalTokens"],a);const r=u(n,["cachedContentTokenCount"]);return r!=null&&f(t,["cachedContentTokenCount"],r),t}function V1(n){const t={},l=u(n,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(n,["totalTokens"]);return a!=null&&f(t,["totalTokens"],a),t}function B1(n,t){const l={},a=u(t,["model"]);return a!=null&&f(l,["_url","name"],$e(n,a)),l}function O1(n,t){const l={},a=u(t,["model"]);return a!=null&&f(l,["_url","name"],$e(n,a)),l}function Y1(n){const t={},l=u(n,["sdkHttpResponse"]);return l!=null&&f(t,["sdkHttpResponse"],l),t}function F1(n){const t={},l=u(n,["sdkHttpResponse"]);return l!=null&&f(t,["sdkHttpResponse"],l),t}function J1(n,t){const l={},a=u(n,["outputGcsUri"]);t!==void 0&&a!=null&&f(t,["parameters","storageUri"],a);const r=u(n,["negativePrompt"]);t!==void 0&&r!=null&&f(t,["parameters","negativePrompt"],r);const c=u(n,["numberOfImages"]);t!==void 0&&c!=null&&f(t,["parameters","sampleCount"],c);const p=u(n,["aspectRatio"]);t!==void 0&&p!=null&&f(t,["parameters","aspectRatio"],p);const g=u(n,["guidanceScale"]);t!==void 0&&g!=null&&f(t,["parameters","guidanceScale"],g);const y=u(n,["seed"]);t!==void 0&&y!=null&&f(t,["parameters","seed"],y);const m=u(n,["safetyFilterLevel"]);t!==void 0&&m!=null&&f(t,["parameters","safetySetting"],m);const v=u(n,["personGeneration"]);t!==void 0&&v!=null&&f(t,["parameters","personGeneration"],v);const T=u(n,["includeSafetyAttributes"]);t!==void 0&&T!=null&&f(t,["parameters","includeSafetyAttributes"],T);const S=u(n,["includeRaiReason"]);t!==void 0&&S!=null&&f(t,["parameters","includeRaiReason"],S);const C=u(n,["language"]);t!==void 0&&C!=null&&f(t,["parameters","language"],C);const w=u(n,["outputMimeType"]);t!==void 0&&w!=null&&f(t,["parameters","outputOptions","mimeType"],w);const L=u(n,["outputCompressionQuality"]);t!==void 0&&L!=null&&f(t,["parameters","outputOptions","compressionQuality"],L);const te=u(n,["addWatermark"]);t!==void 0&&te!=null&&f(t,["parameters","addWatermark"],te);const z=u(n,["labels"]);t!==void 0&&z!=null&&f(t,["labels"],z);const ee=u(n,["editMode"]);t!==void 0&&ee!=null&&f(t,["parameters","editMode"],ee);const $=u(n,["baseSteps"]);return t!==void 0&&$!=null&&f(t,["parameters","editConfig","baseSteps"],$),l}function X1(n,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],$e(n,a));const r=u(t,["prompt"]);r!=null&&f(l,["instances[0]","prompt"],r);const c=u(t,["referenceImages"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(y=>QN(y))),f(l,["instances[0]","referenceImages"],g)}const p=u(t,["config"]);return p!=null&&J1(p,l),l}function K1(n){const t={},l=u(n,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(n,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>hr(c))),f(t,["generatedImages"],r)}return t}function Q1(n,t){const l={},a=u(n,["taskType"]);t!==void 0&&a!=null&&f(t,["requests[]","taskType"],a);const r=u(n,["title"]);t!==void 0&&r!=null&&f(t,["requests[]","title"],r);const c=u(n,["outputDimensionality"]);if(t!==void 0&&c!=null&&f(t,["requests[]","outputDimensionality"],c),u(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function $1(n,t){const l={},a=u(n,["taskType"]);t!==void 0&&a!=null&&f(t,["instances[]","task_type"],a);const r=u(n,["title"]);t!==void 0&&r!=null&&f(t,["instances[]","title"],r);const c=u(n,["outputDimensionality"]);t!==void 0&&c!=null&&f(t,["parameters","outputDimensionality"],c);const p=u(n,["mimeType"]);t!==void 0&&p!=null&&f(t,["instances[]","mimeType"],p);const g=u(n,["autoTruncate"]);return t!==void 0&&g!=null&&f(t,["parameters","autoTruncate"],g),l}function Z1(n,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],$e(n,a));const r=u(t,["contents"]);if(r!=null){let g=mf(n,r);Array.isArray(g)&&(g=g.map(y=>y)),f(l,["requests[]","content"],g)}const c=u(t,["config"]);c!=null&&Q1(c,l);const p=u(t,["model"]);return p!==void 0&&f(l,["requests[]","model"],$e(n,p)),l}function W1(n,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],$e(n,a));const r=u(t,["contents"]);if(r!=null){let p=mf(n,r);Array.isArray(p)&&(p=p.map(g=>g)),f(l,["instances[]","content"],p)}const c=u(t,["config"]);return c!=null&&$1(c,l),l}function j1(n){const t={},l=u(n,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(n,["embeddings"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(p=>p)),f(t,["embeddings"],c)}const r=u(n,["metadata"]);return r!=null&&f(t,["metadata"],r),t}function eN(n){const t={},l=u(n,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(n,["predictions[]","embeddings"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(p=>U1(p))),f(t,["embeddings"],c)}const r=u(n,["metadata"]);return r!=null&&f(t,["metadata"],r),t}function tN(n){const t={},l=u(n,["endpoint"]);l!=null&&f(t,["name"],l);const a=u(n,["deployedModelId"]);return a!=null&&f(t,["deployedModelId"],a),t}function nN(n){const t={};if(u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(n,["fileUri"]);l!=null&&f(t,["fileUri"],l);const a=u(n,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function iN(n){const t={},l=u(n,["id"]);l!=null&&f(t,["id"],l);const a=u(n,["args"]);a!=null&&f(t,["args"],a);const r=u(n,["name"]);if(r!=null&&f(t,["name"],r),u(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function lN(n){const t={},l=u(n,["mode"]);l!=null&&f(t,["mode"],l);const a=u(n,["allowedFunctionNames"]);if(a!=null&&f(t,["allowedFunctionNames"],a),u(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function oN(n){const t={};if(u(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=u(n,["description"]);l!=null&&f(t,["description"],l);const a=u(n,["name"]);a!=null&&f(t,["name"],a);const r=u(n,["parameters"]);r!=null&&f(t,["parameters"],r);const c=u(n,["parametersJsonSchema"]);c!=null&&f(t,["parametersJsonSchema"],c);const p=u(n,["response"]);p!=null&&f(t,["response"],p);const g=u(n,["responseJsonSchema"]);return g!=null&&f(t,["responseJsonSchema"],g),t}function aN(n,t,l){const a={},r=u(t,["systemInstruction"]);l!==void 0&&r!=null&&f(l,["systemInstruction"],mr(Vt(r)));const c=u(t,["temperature"]);c!=null&&f(a,["temperature"],c);const p=u(t,["topP"]);p!=null&&f(a,["topP"],p);const g=u(t,["topK"]);g!=null&&f(a,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&f(a,["candidateCount"],y);const m=u(t,["maxOutputTokens"]);m!=null&&f(a,["maxOutputTokens"],m);const v=u(t,["stopSequences"]);v!=null&&f(a,["stopSequences"],v);const T=u(t,["responseLogprobs"]);T!=null&&f(a,["responseLogprobs"],T);const S=u(t,["logprobs"]);S!=null&&f(a,["logprobs"],S);const C=u(t,["presencePenalty"]);C!=null&&f(a,["presencePenalty"],C);const w=u(t,["frequencyPenalty"]);w!=null&&f(a,["frequencyPenalty"],w);const L=u(t,["seed"]);L!=null&&f(a,["seed"],L);const te=u(t,["responseMimeType"]);te!=null&&f(a,["responseMimeType"],te);const z=u(t,["responseSchema"]);z!=null&&f(a,["responseSchema"],hf(z));const ee=u(t,["responseJsonSchema"]);if(ee!=null&&f(a,["responseJsonSchema"],ee),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const $=u(t,["safetySettings"]);if(l!==void 0&&$!=null){let Ee=$;Array.isArray(Ee)&&(Ee=Ee.map(Fe=>$N(Fe))),f(l,["safetySettings"],Ee)}const B=u(t,["tools"]);if(l!==void 0&&B!=null){let Ee=vo(B);Array.isArray(Ee)&&(Ee=Ee.map(Fe=>iM(yo(Fe)))),f(l,["tools"],Ee)}const J=u(t,["toolConfig"]);if(l!==void 0&&J!=null&&f(l,["toolConfig"],nM(J)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const oe=u(t,["cachedContent"]);l!==void 0&&oe!=null&&f(l,["cachedContent"],bi(n,oe));const ne=u(t,["responseModalities"]);ne!=null&&f(a,["responseModalities"],ne);const xe=u(t,["mediaResolution"]);xe!=null&&f(a,["mediaResolution"],xe);const re=u(t,["speechConfig"]);if(re!=null&&f(a,["speechConfig"],gf(re)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Te=u(t,["thinkingConfig"]);Te!=null&&f(a,["thinkingConfig"],Te);const fe=u(t,["imageConfig"]);return fe!=null&&f(a,["imageConfig"],UN(fe)),a}function sN(n,t,l){const a={},r=u(t,["systemInstruction"]);l!==void 0&&r!=null&&f(l,["systemInstruction"],Vt(r));const c=u(t,["temperature"]);c!=null&&f(a,["temperature"],c);const p=u(t,["topP"]);p!=null&&f(a,["topP"],p);const g=u(t,["topK"]);g!=null&&f(a,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&f(a,["candidateCount"],y);const m=u(t,["maxOutputTokens"]);m!=null&&f(a,["maxOutputTokens"],m);const v=u(t,["stopSequences"]);v!=null&&f(a,["stopSequences"],v);const T=u(t,["responseLogprobs"]);T!=null&&f(a,["responseLogprobs"],T);const S=u(t,["logprobs"]);S!=null&&f(a,["logprobs"],S);const C=u(t,["presencePenalty"]);C!=null&&f(a,["presencePenalty"],C);const w=u(t,["frequencyPenalty"]);w!=null&&f(a,["frequencyPenalty"],w);const L=u(t,["seed"]);L!=null&&f(a,["seed"],L);const te=u(t,["responseMimeType"]);te!=null&&f(a,["responseMimeType"],te);const z=u(t,["responseSchema"]);z!=null&&f(a,["responseSchema"],hf(z));const ee=u(t,["responseJsonSchema"]);ee!=null&&f(a,["responseJsonSchema"],ee);const $=u(t,["routingConfig"]);$!=null&&f(a,["routingConfig"],$);const B=u(t,["modelSelectionConfig"]);B!=null&&f(a,["modelConfig"],B);const J=u(t,["safetySettings"]);if(l!==void 0&&J!=null){let M=J;Array.isArray(M)&&(M=M.map(O=>O)),f(l,["safetySettings"],M)}const oe=u(t,["tools"]);if(l!==void 0&&oe!=null){let M=vo(oe);Array.isArray(M)&&(M=M.map(O=>W0(yo(O)))),f(l,["tools"],M)}const ne=u(t,["toolConfig"]);l!==void 0&&ne!=null&&f(l,["toolConfig"],ne);const xe=u(t,["labels"]);l!==void 0&&xe!=null&&f(l,["labels"],xe);const re=u(t,["cachedContent"]);l!==void 0&&re!=null&&f(l,["cachedContent"],bi(n,re));const Te=u(t,["responseModalities"]);Te!=null&&f(a,["responseModalities"],Te);const fe=u(t,["mediaResolution"]);fe!=null&&f(a,["mediaResolution"],fe);const Ee=u(t,["speechConfig"]);Ee!=null&&f(a,["speechConfig"],Z0(gf(Ee)));const Fe=u(t,["audioTimestamp"]);Fe!=null&&f(a,["audioTimestamp"],Fe);const k=u(t,["thinkingConfig"]);k!=null&&f(a,["thinkingConfig"],k);const ue=u(t,["imageConfig"]);return ue!=null&&f(a,["imageConfig"],kN(ue)),a}function Fg(n,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],$e(n,a));const r=u(t,["contents"]);if(r!=null){let p=bn(r);Array.isArray(p)&&(p=p.map(g=>mr(g))),f(l,["contents"],p)}const c=u(t,["config"]);return c!=null&&f(l,["generationConfig"],aN(n,c,l)),l}function Jg(n,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],$e(n,a));const r=u(t,["contents"]);if(r!=null){let p=bn(r);Array.isArray(p)&&(p=p.map(g=>g)),f(l,["contents"],p)}const c=u(t,["config"]);return c!=null&&f(l,["generationConfig"],sN(n,c,l)),l}function Xg(n){const t={},l=u(n,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(n,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(m=>R1(m))),f(t,["candidates"],y)}const r=u(n,["modelVersion"]);r!=null&&f(t,["modelVersion"],r);const c=u(n,["promptFeedback"]);c!=null&&f(t,["promptFeedback"],c);const p=u(n,["responseId"]);p!=null&&f(t,["responseId"],p);const g=u(n,["usageMetadata"]);return g!=null&&f(t,["usageMetadata"],g),t}function Kg(n){const t={},l=u(n,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(n,["candidates"]);if(a!=null){let m=a;Array.isArray(m)&&(m=m.map(v=>v)),f(t,["candidates"],m)}const r=u(n,["createTime"]);r!=null&&f(t,["createTime"],r);const c=u(n,["modelVersion"]);c!=null&&f(t,["modelVersion"],c);const p=u(n,["promptFeedback"]);p!=null&&f(t,["promptFeedback"],p);const g=u(n,["responseId"]);g!=null&&f(t,["responseId"],g);const y=u(n,["usageMetadata"]);return y!=null&&f(t,["usageMetadata"],y),t}function rN(n,t){const l={};if(u(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const a=u(n,["numberOfImages"]);t!==void 0&&a!=null&&f(t,["parameters","sampleCount"],a);const r=u(n,["aspectRatio"]);t!==void 0&&r!=null&&f(t,["parameters","aspectRatio"],r);const c=u(n,["guidanceScale"]);if(t!==void 0&&c!=null&&f(t,["parameters","guidanceScale"],c),u(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const p=u(n,["safetyFilterLevel"]);t!==void 0&&p!=null&&f(t,["parameters","safetySetting"],p);const g=u(n,["personGeneration"]);t!==void 0&&g!=null&&f(t,["parameters","personGeneration"],g);const y=u(n,["includeSafetyAttributes"]);t!==void 0&&y!=null&&f(t,["parameters","includeSafetyAttributes"],y);const m=u(n,["includeRaiReason"]);t!==void 0&&m!=null&&f(t,["parameters","includeRaiReason"],m);const v=u(n,["language"]);t!==void 0&&v!=null&&f(t,["parameters","language"],v);const T=u(n,["outputMimeType"]);t!==void 0&&T!=null&&f(t,["parameters","outputOptions","mimeType"],T);const S=u(n,["outputCompressionQuality"]);if(t!==void 0&&S!=null&&f(t,["parameters","outputOptions","compressionQuality"],S),u(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const C=u(n,["imageSize"]);if(t!==void 0&&C!=null&&f(t,["parameters","sampleImageSize"],C),u(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return l}function uN(n,t){const l={},a=u(n,["outputGcsUri"]);t!==void 0&&a!=null&&f(t,["parameters","storageUri"],a);const r=u(n,["negativePrompt"]);t!==void 0&&r!=null&&f(t,["parameters","negativePrompt"],r);const c=u(n,["numberOfImages"]);t!==void 0&&c!=null&&f(t,["parameters","sampleCount"],c);const p=u(n,["aspectRatio"]);t!==void 0&&p!=null&&f(t,["parameters","aspectRatio"],p);const g=u(n,["guidanceScale"]);t!==void 0&&g!=null&&f(t,["parameters","guidanceScale"],g);const y=u(n,["seed"]);t!==void 0&&y!=null&&f(t,["parameters","seed"],y);const m=u(n,["safetyFilterLevel"]);t!==void 0&&m!=null&&f(t,["parameters","safetySetting"],m);const v=u(n,["personGeneration"]);t!==void 0&&v!=null&&f(t,["parameters","personGeneration"],v);const T=u(n,["includeSafetyAttributes"]);t!==void 0&&T!=null&&f(t,["parameters","includeSafetyAttributes"],T);const S=u(n,["includeRaiReason"]);t!==void 0&&S!=null&&f(t,["parameters","includeRaiReason"],S);const C=u(n,["language"]);t!==void 0&&C!=null&&f(t,["parameters","language"],C);const w=u(n,["outputMimeType"]);t!==void 0&&w!=null&&f(t,["parameters","outputOptions","mimeType"],w);const L=u(n,["outputCompressionQuality"]);t!==void 0&&L!=null&&f(t,["parameters","outputOptions","compressionQuality"],L);const te=u(n,["addWatermark"]);t!==void 0&&te!=null&&f(t,["parameters","addWatermark"],te);const z=u(n,["labels"]);t!==void 0&&z!=null&&f(t,["labels"],z);const ee=u(n,["imageSize"]);t!==void 0&&ee!=null&&f(t,["parameters","sampleImageSize"],ee);const $=u(n,["enhancePrompt"]);return t!==void 0&&$!=null&&f(t,["parameters","enhancePrompt"],$),l}function cN(n,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],$e(n,a));const r=u(t,["prompt"]);r!=null&&f(l,["instances[0]","prompt"],r);const c=u(t,["config"]);return c!=null&&rN(c,l),l}function fN(n,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],$e(n,a));const r=u(t,["prompt"]);r!=null&&f(l,["instances[0]","prompt"],r);const c=u(t,["config"]);return c!=null&&uN(c,l),l}function dN(n){const t={},l=u(n,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(n,["predictions"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(p=>CN(p))),f(t,["generatedImages"],c)}const r=u(n,["positivePromptSafetyAttributes"]);return r!=null&&f(t,["positivePromptSafetyAttributes"],Q0(r)),t}function pN(n){const t={},l=u(n,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(n,["predictions"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(p=>hr(p))),f(t,["generatedImages"],c)}const r=u(n,["positivePromptSafetyAttributes"]);return r!=null&&f(t,["positivePromptSafetyAttributes"],$0(r)),t}function mN(n,t){const l={},a=u(n,["numberOfVideos"]);if(t!==void 0&&a!=null&&f(t,["parameters","sampleCount"],a),u(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=u(n,["durationSeconds"]);if(t!==void 0&&r!=null&&f(t,["parameters","durationSeconds"],r),u(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=u(n,["aspectRatio"]);t!==void 0&&c!=null&&f(t,["parameters","aspectRatio"],c);const p=u(n,["resolution"]);t!==void 0&&p!=null&&f(t,["parameters","resolution"],p);const g=u(n,["personGeneration"]);if(t!==void 0&&g!=null&&f(t,["parameters","personGeneration"],g),u(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=u(n,["negativePrompt"]);t!==void 0&&y!=null&&f(t,["parameters","negativePrompt"],y);const m=u(n,["enhancePrompt"]);if(t!==void 0&&m!=null&&f(t,["parameters","enhancePrompt"],m),u(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=u(n,["lastFrame"]);t!==void 0&&v!=null&&f(t,["instances[0]","lastFrame"],gr(v));const T=u(n,["referenceImages"]);if(t!==void 0&&T!=null){let S=T;Array.isArray(S)&&(S=S.map(C=>gM(C))),f(t,["instances[0]","referenceImages"],S)}if(u(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return l}function hN(n,t){const l={},a=u(n,["numberOfVideos"]);t!==void 0&&a!=null&&f(t,["parameters","sampleCount"],a);const r=u(n,["outputGcsUri"]);t!==void 0&&r!=null&&f(t,["parameters","storageUri"],r);const c=u(n,["fps"]);t!==void 0&&c!=null&&f(t,["parameters","fps"],c);const p=u(n,["durationSeconds"]);t!==void 0&&p!=null&&f(t,["parameters","durationSeconds"],p);const g=u(n,["seed"]);t!==void 0&&g!=null&&f(t,["parameters","seed"],g);const y=u(n,["aspectRatio"]);t!==void 0&&y!=null&&f(t,["parameters","aspectRatio"],y);const m=u(n,["resolution"]);t!==void 0&&m!=null&&f(t,["parameters","resolution"],m);const v=u(n,["personGeneration"]);t!==void 0&&v!=null&&f(t,["parameters","personGeneration"],v);const T=u(n,["pubsubTopic"]);t!==void 0&&T!=null&&f(t,["parameters","pubsubTopic"],T);const S=u(n,["negativePrompt"]);t!==void 0&&S!=null&&f(t,["parameters","negativePrompt"],S);const C=u(n,["enhancePrompt"]);t!==void 0&&C!=null&&f(t,["parameters","enhancePrompt"],C);const w=u(n,["generateAudio"]);t!==void 0&&w!=null&&f(t,["parameters","generateAudio"],w);const L=u(n,["lastFrame"]);t!==void 0&&L!=null&&f(t,["instances[0]","lastFrame"],Gn(L));const te=u(n,["referenceImages"]);if(t!==void 0&&te!=null){let $=te;Array.isArray($)&&($=$.map(B=>yM(B))),f(t,["instances[0]","referenceImages"],$)}const z=u(n,["mask"]);t!==void 0&&z!=null&&f(t,["instances[0]","mask"],hM(z));const ee=u(n,["compressionQuality"]);return t!==void 0&&ee!=null&&f(t,["parameters","compressionQuality"],ee),l}function gN(n){const t={},l=u(n,["name"]);l!=null&&f(t,["name"],l);const a=u(n,["metadata"]);a!=null&&f(t,["metadata"],a);const r=u(n,["done"]);r!=null&&f(t,["done"],r);const c=u(n,["error"]);c!=null&&f(t,["error"],c);const p=u(n,["response","generateVideoResponse"]);return p!=null&&f(t,["response"],TN(p)),t}function yN(n){const t={},l=u(n,["name"]);l!=null&&f(t,["name"],l);const a=u(n,["metadata"]);a!=null&&f(t,["metadata"],a);const r=u(n,["done"]);r!=null&&f(t,["done"],r);const c=u(n,["error"]);c!=null&&f(t,["error"],c);const p=u(n,["response"]);return p!=null&&f(t,["response"],SN(p)),t}function vN(n,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],$e(n,a));const r=u(t,["prompt"]);r!=null&&f(l,["instances[0]","prompt"],r);const c=u(t,["image"]);c!=null&&f(l,["instances[0]","image"],gr(c));const p=u(t,["video"]);p!=null&&f(l,["instances[0]","video"],j0(p));const g=u(t,["source"]);g!=null&&xN(g,l);const y=u(t,["config"]);return y!=null&&mN(y,l),l}function _N(n,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],$e(n,a));const r=u(t,["prompt"]);r!=null&&f(l,["instances[0]","prompt"],r);const c=u(t,["image"]);c!=null&&f(l,["instances[0]","image"],Gn(c));const p=u(t,["video"]);p!=null&&f(l,["instances[0]","video"],ey(p));const g=u(t,["source"]);g!=null&&EN(g,l);const y=u(t,["config"]);return y!=null&&hN(y,l),l}function TN(n){const t={},l=u(n,["generatedSamples"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(p=>NN(p))),f(t,["generatedVideos"],c)}const a=u(n,["raiMediaFilteredCount"]);a!=null&&f(t,["raiMediaFilteredCount"],a);const r=u(n,["raiMediaFilteredReasons"]);return r!=null&&f(t,["raiMediaFilteredReasons"],r),t}function SN(n){const t={},l=u(n,["videos"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(p=>MN(p))),f(t,["generatedVideos"],c)}const a=u(n,["raiMediaFilteredCount"]);a!=null&&f(t,["raiMediaFilteredCount"],a);const r=u(n,["raiMediaFilteredReasons"]);return r!=null&&f(t,["raiMediaFilteredReasons"],r),t}function xN(n,t){const l={},a=u(n,["prompt"]);t!==void 0&&a!=null&&f(t,["instances[0]","prompt"],a);const r=u(n,["image"]);t!==void 0&&r!=null&&f(t,["instances[0]","image"],gr(r));const c=u(n,["video"]);return t!==void 0&&c!=null&&f(t,["instances[0]","video"],j0(c)),l}function EN(n,t){const l={},a=u(n,["prompt"]);t!==void 0&&a!=null&&f(t,["instances[0]","prompt"],a);const r=u(n,["image"]);t!==void 0&&r!=null&&f(t,["instances[0]","image"],Gn(r));const c=u(n,["video"]);return t!==void 0&&c!=null&&f(t,["instances[0]","video"],ey(c)),l}function CN(n){const t={},l=u(n,["_self"]);l!=null&&f(t,["image"],LN(l));const a=u(n,["raiFilteredReason"]);a!=null&&f(t,["raiFilteredReason"],a);const r=u(n,["_self"]);return r!=null&&f(t,["safetyAttributes"],Q0(r)),t}function hr(n){const t={},l=u(n,["_self"]);l!=null&&f(t,["image"],K0(l));const a=u(n,["raiFilteredReason"]);a!=null&&f(t,["raiFilteredReason"],a);const r=u(n,["_self"]);r!=null&&f(t,["safetyAttributes"],$0(r));const c=u(n,["prompt"]);return c!=null&&f(t,["enhancedPrompt"],c),t}function AN(n){const t={},l=u(n,["_self"]);l!=null&&f(t,["mask"],K0(l));const a=u(n,["labels"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>c)),f(t,["labels"],r)}return t}function NN(n){const t={},l=u(n,["video"]);return l!=null&&f(t,["video"],pM(l)),t}function MN(n){const t={},l=u(n,["_self"]);return l!=null&&f(t,["video"],mM(l)),t}function bN(n){const t={},l=u(n,["modelSelectionConfig"]);l!=null&&f(t,["modelConfig"],l);const a=u(n,["responseJsonSchema"]);a!=null&&f(t,["responseJsonSchema"],a);const r=u(n,["audioTimestamp"]);r!=null&&f(t,["audioTimestamp"],r);const c=u(n,["candidateCount"]);c!=null&&f(t,["candidateCount"],c);const p=u(n,["enableAffectiveDialog"]);p!=null&&f(t,["enableAffectiveDialog"],p);const g=u(n,["frequencyPenalty"]);g!=null&&f(t,["frequencyPenalty"],g);const y=u(n,["logprobs"]);y!=null&&f(t,["logprobs"],y);const m=u(n,["maxOutputTokens"]);m!=null&&f(t,["maxOutputTokens"],m);const v=u(n,["mediaResolution"]);v!=null&&f(t,["mediaResolution"],v);const T=u(n,["presencePenalty"]);T!=null&&f(t,["presencePenalty"],T);const S=u(n,["responseLogprobs"]);S!=null&&f(t,["responseLogprobs"],S);const C=u(n,["responseMimeType"]);C!=null&&f(t,["responseMimeType"],C);const w=u(n,["responseModalities"]);w!=null&&f(t,["responseModalities"],w);const L=u(n,["responseSchema"]);L!=null&&f(t,["responseSchema"],L);const te=u(n,["routingConfig"]);te!=null&&f(t,["routingConfig"],te);const z=u(n,["seed"]);z!=null&&f(t,["seed"],z);const ee=u(n,["speechConfig"]);ee!=null&&f(t,["speechConfig"],Z0(ee));const $=u(n,["stopSequences"]);$!=null&&f(t,["stopSequences"],$);const B=u(n,["temperature"]);B!=null&&f(t,["temperature"],B);const J=u(n,["thinkingConfig"]);J!=null&&f(t,["thinkingConfig"],J);const oe=u(n,["topK"]);oe!=null&&f(t,["topK"],oe);const ne=u(n,["topP"]);if(ne!=null&&f(t,["topP"],ne),u(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function RN(n,t){const l={},a=u(t,["model"]);return a!=null&&f(l,["_url","name"],$e(n,a)),l}function wN(n,t){const l={},a=u(t,["model"]);return a!=null&&f(l,["_url","name"],$e(n,a)),l}function DN(n){const t={};if(u(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(n,["enableWidget"]);return l!=null&&f(t,["enableWidget"],l),t}function IN(n){const t={};if(u(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(n,["timeRangeFilter"]);return l!=null&&f(t,["timeRangeFilter"],l),t}function UN(n){const t={},l=u(n,["aspectRatio"]);l!=null&&f(t,["aspectRatio"],l);const a=u(n,["imageSize"]);if(a!=null&&f(t,["imageSize"],a),u(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function kN(n){const t={},l=u(n,["aspectRatio"]);l!=null&&f(t,["aspectRatio"],l);const a=u(n,["imageSize"]);a!=null&&f(t,["imageSize"],a);const r=u(n,["outputMimeType"]);r!=null&&f(t,["imageOutputOptions","mimeType"],r);const c=u(n,["outputCompressionQuality"]);return c!=null&&f(t,["imageOutputOptions","compressionQuality"],c),t}function LN(n){const t={},l=u(n,["bytesBase64Encoded"]);l!=null&&f(t,["imageBytes"],il(l));const a=u(n,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function K0(n){const t={},l=u(n,["gcsUri"]);l!=null&&f(t,["gcsUri"],l);const a=u(n,["bytesBase64Encoded"]);a!=null&&f(t,["imageBytes"],il(a));const r=u(n,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}function gr(n){const t={};if(u(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const l=u(n,["imageBytes"]);l!=null&&f(t,["bytesBase64Encoded"],il(l));const a=u(n,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function Gn(n){const t={},l=u(n,["gcsUri"]);l!=null&&f(t,["gcsUri"],l);const a=u(n,["imageBytes"]);a!=null&&f(t,["bytesBase64Encoded"],il(a));const r=u(n,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}function zN(n,t,l){const a={},r=u(t,["pageSize"]);l!==void 0&&r!=null&&f(l,["_query","pageSize"],r);const c=u(t,["pageToken"]);l!==void 0&&c!=null&&f(l,["_query","pageToken"],c);const p=u(t,["filter"]);l!==void 0&&p!=null&&f(l,["_query","filter"],p);const g=u(t,["queryBase"]);return l!==void 0&&g!=null&&f(l,["_url","models_url"],q0(n,g)),a}function GN(n,t,l){const a={},r=u(t,["pageSize"]);l!==void 0&&r!=null&&f(l,["_query","pageSize"],r);const c=u(t,["pageToken"]);l!==void 0&&c!=null&&f(l,["_query","pageToken"],c);const p=u(t,["filter"]);l!==void 0&&p!=null&&f(l,["_query","filter"],p);const g=u(t,["queryBase"]);return l!==void 0&&g!=null&&f(l,["_url","models_url"],q0(n,g)),a}function HN(n,t){const l={},a=u(t,["config"]);return a!=null&&zN(n,a,l),l}function PN(n,t){const l={},a=u(t,["config"]);return a!=null&&GN(n,a,l),l}function qN(n){const t={},l=u(n,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(n,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(n,["_self"]);if(r!=null){let c=V0(r);Array.isArray(c)&&(c=c.map(p=>$c(p))),f(t,["models"],c)}return t}function VN(n){const t={},l=u(n,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(n,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(n,["_self"]);if(r!=null){let c=V0(r);Array.isArray(c)&&(c=c.map(p=>Zc(p))),f(t,["models"],c)}return t}function BN(n){const t={},l=u(n,["maskMode"]);l!=null&&f(t,["maskMode"],l);const a=u(n,["segmentationClasses"]);a!=null&&f(t,["maskClasses"],a);const r=u(n,["maskDilation"]);return r!=null&&f(t,["dilation"],r),t}function $c(n){const t={},l=u(n,["name"]);l!=null&&f(t,["name"],l);const a=u(n,["displayName"]);a!=null&&f(t,["displayName"],a);const r=u(n,["description"]);r!=null&&f(t,["description"],r);const c=u(n,["version"]);c!=null&&f(t,["version"],c);const p=u(n,["_self"]);p!=null&&f(t,["tunedModelInfo"],lM(p));const g=u(n,["inputTokenLimit"]);g!=null&&f(t,["inputTokenLimit"],g);const y=u(n,["outputTokenLimit"]);y!=null&&f(t,["outputTokenLimit"],y);const m=u(n,["supportedGenerationMethods"]);m!=null&&f(t,["supportedActions"],m);const v=u(n,["temperature"]);v!=null&&f(t,["temperature"],v);const T=u(n,["maxTemperature"]);T!=null&&f(t,["maxTemperature"],T);const S=u(n,["topP"]);S!=null&&f(t,["topP"],S);const C=u(n,["topK"]);C!=null&&f(t,["topK"],C);const w=u(n,["thinking"]);return w!=null&&f(t,["thinking"],w),t}function Zc(n){const t={},l=u(n,["name"]);l!=null&&f(t,["name"],l);const a=u(n,["displayName"]);a!=null&&f(t,["displayName"],a);const r=u(n,["description"]);r!=null&&f(t,["description"],r);const c=u(n,["versionId"]);c!=null&&f(t,["version"],c);const p=u(n,["deployedModels"]);if(p!=null){let T=p;Array.isArray(T)&&(T=T.map(S=>tN(S))),f(t,["endpoints"],T)}const g=u(n,["labels"]);g!=null&&f(t,["labels"],g);const y=u(n,["_self"]);y!=null&&f(t,["tunedModelInfo"],oM(y));const m=u(n,["defaultCheckpointId"]);m!=null&&f(t,["defaultCheckpointId"],m);const v=u(n,["checkpoints"]);if(v!=null){let T=v;Array.isArray(T)&&(T=T.map(S=>S)),f(t,["checkpoints"],T)}return t}function ON(n){const t={},l=u(n,["mediaResolution"]);l!=null&&f(t,["mediaResolution"],l);const a=u(n,["codeExecutionResult"]);a!=null&&f(t,["codeExecutionResult"],a);const r=u(n,["executableCode"]);r!=null&&f(t,["executableCode"],r);const c=u(n,["fileData"]);c!=null&&f(t,["fileData"],nN(c));const p=u(n,["functionCall"]);p!=null&&f(t,["functionCall"],iN(p));const g=u(n,["functionResponse"]);g!=null&&f(t,["functionResponse"],g);const y=u(n,["inlineData"]);y!=null&&f(t,["inlineData"],b1(y));const m=u(n,["text"]);m!=null&&f(t,["text"],m);const v=u(n,["thought"]);v!=null&&f(t,["thought"],v);const T=u(n,["thoughtSignature"]);T!=null&&f(t,["thoughtSignature"],T);const S=u(n,["videoMetadata"]);return S!=null&&f(t,["videoMetadata"],S),t}function YN(n){const t={},l=u(n,["productImage"]);return l!=null&&f(t,["image"],Gn(l)),t}function FN(n,t){const l={},a=u(n,["numberOfImages"]);t!==void 0&&a!=null&&f(t,["parameters","sampleCount"],a);const r=u(n,["baseSteps"]);t!==void 0&&r!=null&&f(t,["parameters","baseSteps"],r);const c=u(n,["outputGcsUri"]);t!==void 0&&c!=null&&f(t,["parameters","storageUri"],c);const p=u(n,["seed"]);t!==void 0&&p!=null&&f(t,["parameters","seed"],p);const g=u(n,["safetyFilterLevel"]);t!==void 0&&g!=null&&f(t,["parameters","safetySetting"],g);const y=u(n,["personGeneration"]);t!==void 0&&y!=null&&f(t,["parameters","personGeneration"],y);const m=u(n,["addWatermark"]);t!==void 0&&m!=null&&f(t,["parameters","addWatermark"],m);const v=u(n,["outputMimeType"]);t!==void 0&&v!=null&&f(t,["parameters","outputOptions","mimeType"],v);const T=u(n,["outputCompressionQuality"]);t!==void 0&&T!=null&&f(t,["parameters","outputOptions","compressionQuality"],T);const S=u(n,["enhancePrompt"]);t!==void 0&&S!=null&&f(t,["parameters","enhancePrompt"],S);const C=u(n,["labels"]);return t!==void 0&&C!=null&&f(t,["labels"],C),l}function JN(n,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],$e(n,a));const r=u(t,["source"]);r!=null&&KN(r,l);const c=u(t,["config"]);return c!=null&&FN(c,l),l}function XN(n){const t={},l=u(n,["predictions"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>hr(r))),f(t,["generatedImages"],a)}return t}function KN(n,t){const l={},a=u(n,["prompt"]);t!==void 0&&a!=null&&f(t,["instances[0]","prompt"],a);const r=u(n,["personImage"]);t!==void 0&&r!=null&&f(t,["instances[0]","personImage","image"],Gn(r));const c=u(n,["productImages"]);if(t!==void 0&&c!=null){let p=c;Array.isArray(p)&&(p=p.map(g=>YN(g))),f(t,["instances[0]","productImages"],p)}return l}function QN(n){const t={},l=u(n,["referenceImage"]);l!=null&&f(t,["referenceImage"],Gn(l));const a=u(n,["referenceId"]);a!=null&&f(t,["referenceId"],a);const r=u(n,["referenceType"]);r!=null&&f(t,["referenceType"],r);const c=u(n,["maskImageConfig"]);c!=null&&f(t,["maskImageConfig"],BN(c));const p=u(n,["controlImageConfig"]);p!=null&&f(t,["controlImageConfig"],L1(p));const g=u(n,["styleImageConfig"]);g!=null&&f(t,["styleImageConfig"],g);const y=u(n,["subjectImageConfig"]);return y!=null&&f(t,["subjectImageConfig"],y),t}function Q0(n){const t={},l=u(n,["safetyAttributes","categories"]);l!=null&&f(t,["categories"],l);const a=u(n,["safetyAttributes","scores"]);a!=null&&f(t,["scores"],a);const r=u(n,["contentType"]);return r!=null&&f(t,["contentType"],r),t}function $0(n){const t={},l=u(n,["safetyAttributes","categories"]);l!=null&&f(t,["categories"],l);const a=u(n,["safetyAttributes","scores"]);a!=null&&f(t,["scores"],a);const r=u(n,["contentType"]);return r!=null&&f(t,["contentType"],r),t}function $N(n){const t={},l=u(n,["category"]);if(l!=null&&f(t,["category"],l),u(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(n,["threshold"]);return a!=null&&f(t,["threshold"],a),t}function ZN(n){const t={},l=u(n,["image"]);return l!=null&&f(t,["image"],Gn(l)),t}function WN(n,t){const l={},a=u(n,["mode"]);t!==void 0&&a!=null&&f(t,["parameters","mode"],a);const r=u(n,["maxPredictions"]);t!==void 0&&r!=null&&f(t,["parameters","maxPredictions"],r);const c=u(n,["confidenceThreshold"]);t!==void 0&&c!=null&&f(t,["parameters","confidenceThreshold"],c);const p=u(n,["maskDilation"]);t!==void 0&&p!=null&&f(t,["parameters","maskDilation"],p);const g=u(n,["binaryColorThreshold"]);t!==void 0&&g!=null&&f(t,["parameters","binaryColorThreshold"],g);const y=u(n,["labels"]);return t!==void 0&&y!=null&&f(t,["labels"],y),l}function jN(n,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],$e(n,a));const r=u(t,["source"]);r!=null&&tM(r,l);const c=u(t,["config"]);return c!=null&&WN(c,l),l}function eM(n){const t={},l=u(n,["predictions"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>AN(r))),f(t,["generatedMasks"],a)}return t}function tM(n,t){const l={},a=u(n,["prompt"]);t!==void 0&&a!=null&&f(t,["instances[0]","prompt"],a);const r=u(n,["image"]);t!==void 0&&r!=null&&f(t,["instances[0]","image"],Gn(r));const c=u(n,["scribbleImage"]);return t!==void 0&&c!=null&&f(t,["instances[0]","scribble"],ZN(c)),l}function Z0(n){const t={},l=u(n,["languageCode"]);l!=null&&f(t,["languageCode"],l);const a=u(n,["voiceConfig"]);if(a!=null&&f(t,["voiceConfig"],a),u(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function nM(n){const t={},l=u(n,["functionCallingConfig"]);l!=null&&f(t,["functionCallingConfig"],lN(l));const a=u(n,["retrievalConfig"]);return a!=null&&f(t,["retrievalConfig"],a),t}function iM(n){const t={},l=u(n,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(T=>T)),f(t,["functionDeclarations"],v)}if(u(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(n,["googleSearchRetrieval"]);a!=null&&f(t,["googleSearchRetrieval"],a);const r=u(n,["computerUse"]);r!=null&&f(t,["computerUse"],r);const c=u(n,["fileSearch"]);c!=null&&f(t,["fileSearch"],c);const p=u(n,["codeExecution"]);if(p!=null&&f(t,["codeExecution"],p),u(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(n,["googleMaps"]);g!=null&&f(t,["googleMaps"],DN(g));const y=u(n,["googleSearch"]);y!=null&&f(t,["googleSearch"],IN(y));const m=u(n,["urlContext"]);return m!=null&&f(t,["urlContext"],m),t}function W0(n){const t={},l=u(n,["functionDeclarations"]);if(l!=null){let T=l;Array.isArray(T)&&(T=T.map(S=>oN(S))),f(t,["functionDeclarations"],T)}const a=u(n,["retrieval"]);a!=null&&f(t,["retrieval"],a);const r=u(n,["googleSearchRetrieval"]);r!=null&&f(t,["googleSearchRetrieval"],r);const c=u(n,["computerUse"]);if(c!=null&&f(t,["computerUse"],c),u(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const p=u(n,["codeExecution"]);p!=null&&f(t,["codeExecution"],p);const g=u(n,["enterpriseWebSearch"]);g!=null&&f(t,["enterpriseWebSearch"],g);const y=u(n,["googleMaps"]);y!=null&&f(t,["googleMaps"],y);const m=u(n,["googleSearch"]);m!=null&&f(t,["googleSearch"],m);const v=u(n,["urlContext"]);return v!=null&&f(t,["urlContext"],v),t}function lM(n){const t={},l=u(n,["baseModel"]);l!=null&&f(t,["baseModel"],l);const a=u(n,["createTime"]);a!=null&&f(t,["createTime"],a);const r=u(n,["updateTime"]);return r!=null&&f(t,["updateTime"],r),t}function oM(n){const t={},l=u(n,["labels","google-vertex-llm-tuning-base-model-id"]);l!=null&&f(t,["baseModel"],l);const a=u(n,["createTime"]);a!=null&&f(t,["createTime"],a);const r=u(n,["updateTime"]);return r!=null&&f(t,["updateTime"],r),t}function aM(n,t){const l={},a=u(n,["displayName"]);t!==void 0&&a!=null&&f(t,["displayName"],a);const r=u(n,["description"]);t!==void 0&&r!=null&&f(t,["description"],r);const c=u(n,["defaultCheckpointId"]);return t!==void 0&&c!=null&&f(t,["defaultCheckpointId"],c),l}function sM(n,t){const l={},a=u(n,["displayName"]);t!==void 0&&a!=null&&f(t,["displayName"],a);const r=u(n,["description"]);t!==void 0&&r!=null&&f(t,["description"],r);const c=u(n,["defaultCheckpointId"]);return t!==void 0&&c!=null&&f(t,["defaultCheckpointId"],c),l}function rM(n,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","name"],$e(n,a));const r=u(t,["config"]);return r!=null&&aM(r,l),l}function uM(n,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],$e(n,a));const r=u(t,["config"]);return r!=null&&sM(r,l),l}function cM(n,t){const l={},a=u(n,["outputGcsUri"]);t!==void 0&&a!=null&&f(t,["parameters","storageUri"],a);const r=u(n,["safetyFilterLevel"]);t!==void 0&&r!=null&&f(t,["parameters","safetySetting"],r);const c=u(n,["personGeneration"]);t!==void 0&&c!=null&&f(t,["parameters","personGeneration"],c);const p=u(n,["includeRaiReason"]);t!==void 0&&p!=null&&f(t,["parameters","includeRaiReason"],p);const g=u(n,["outputMimeType"]);t!==void 0&&g!=null&&f(t,["parameters","outputOptions","mimeType"],g);const y=u(n,["outputCompressionQuality"]);t!==void 0&&y!=null&&f(t,["parameters","outputOptions","compressionQuality"],y);const m=u(n,["enhanceInputImage"]);t!==void 0&&m!=null&&f(t,["parameters","upscaleConfig","enhanceInputImage"],m);const v=u(n,["imagePreservationFactor"]);t!==void 0&&v!=null&&f(t,["parameters","upscaleConfig","imagePreservationFactor"],v);const T=u(n,["labels"]);t!==void 0&&T!=null&&f(t,["labels"],T);const S=u(n,["numberOfImages"]);t!==void 0&&S!=null&&f(t,["parameters","sampleCount"],S);const C=u(n,["mode"]);return t!==void 0&&C!=null&&f(t,["parameters","mode"],C),l}function fM(n,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],$e(n,a));const r=u(t,["image"]);r!=null&&f(l,["instances[0]","image"],Gn(r));const c=u(t,["upscaleFactor"]);c!=null&&f(l,["parameters","upscaleConfig","upscaleFactor"],c);const p=u(t,["config"]);return p!=null&&cM(p,l),l}function dM(n){const t={},l=u(n,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(n,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>hr(c))),f(t,["generatedImages"],r)}return t}function pM(n){const t={},l=u(n,["uri"]);l!=null&&f(t,["uri"],l);const a=u(n,["encodedVideo"]);a!=null&&f(t,["videoBytes"],il(a));const r=u(n,["encoding"]);return r!=null&&f(t,["mimeType"],r),t}function mM(n){const t={},l=u(n,["gcsUri"]);l!=null&&f(t,["uri"],l);const a=u(n,["bytesBase64Encoded"]);a!=null&&f(t,["videoBytes"],il(a));const r=u(n,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}function hM(n){const t={},l=u(n,["image"]);l!=null&&f(t,["_self"],Gn(l));const a=u(n,["maskMode"]);return a!=null&&f(t,["maskMode"],a),t}function gM(n){const t={},l=u(n,["image"]);l!=null&&f(t,["image"],gr(l));const a=u(n,["referenceType"]);return a!=null&&f(t,["referenceType"],a),t}function yM(n){const t={},l=u(n,["image"]);l!=null&&f(t,["image"],Gn(l));const a=u(n,["referenceType"]);return a!=null&&f(t,["referenceType"],a),t}function j0(n){const t={},l=u(n,["uri"]);l!=null&&f(t,["uri"],l);const a=u(n,["videoBytes"]);a!=null&&f(t,["encodedVideo"],il(a));const r=u(n,["mimeType"]);return r!=null&&f(t,["encoding"],r),t}function ey(n){const t={},l=u(n,["uri"]);l!=null&&f(t,["gcsUri"],l);const a=u(n,["videoBytes"]);a!=null&&f(t,["bytesBase64Encoded"],il(a));const r=u(n,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}const vM="Content-Type",_M="X-Server-Timeout",TM="User-Agent",Wc="x-goog-api-client",SM="1.30.0",xM=`google-genai-sdk/${SM}`,EM="v1beta1",CM="v1beta",Qg=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class AM{constructor(t){var l,a;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:EM,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:CM,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const a=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&a.push(t.apiVersion),a.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),l=new URL(t);return l.protocol=l.protocol=="http:"?"ws":"wss",l.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,l,a){const r=[this.getRequestUrlInternal(l)];return a&&r.push(this.getBaseResourcePath()),t!==""&&r.push(t),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let l=this.clientOptions.httpOptions;t.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,l,a);if(t.queryParams)for(const[p,g]of Object.entries(t.queryParams))r.searchParams.append(p,String(g));let c={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else c.body=t.body;return c=await this.includeExtraHttpOptionsToRequestInit(c,l,r.toString(),t.abortSignal),this.unaryApiCall(r,c,t.httpMethod)}patchHttpOptions(t,l){const a=JSON.parse(JSON.stringify(t));for(const[r,c]of Object.entries(l))typeof c=="object"?a[r]=Object.assign(Object.assign({},a[r]),c):c!==void 0&&(a[r]=c);return a}async requestStream(t){let l=this.clientOptions.httpOptions;t.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,l,a);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let c={};return c.body=t.body,c=await this.includeExtraHttpOptionsToRequestInit(c,l,r.toString(),t.abortSignal),this.streamApiCall(r,c,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,l,a,r){if(l&&l.timeout||r){const c=new AbortController,p=c.signal;if(l.timeout&&l?.timeout>0){const g=setTimeout(()=>c.abort(),l.timeout);g&&typeof g.unref=="function"&&g.unref()}r&&r.addEventListener("abort",()=>{c.abort()}),t.signal=p}return l&&l.extraBody!==null&&NM(t,l.extraBody),t.headers=await this.getHeadersInternal(l,a),t}async unaryApiCall(t,l,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},l),{method:a})).then(async r=>(await $g(r),new Xc(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(t,l,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},l),{method:a})).then(async r=>(await $g(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(t){var l;return po(this,arguments,function*(){const r=(l=t?.body)===null||l===void 0?void 0:l.getReader(),c=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let p="";for(;;){const{done:g,value:y}=yield ft(r.read());if(g){if(p.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const m=c.decode(y,{stream:!0});try{const T=JSON.parse(m);if("error"in T){const S=JSON.parse(JSON.stringify(T.error)),C=S.status,w=S.code,L=`got status: ${C}. ${JSON.stringify(T)}`;if(w>=400&&w<600)throw new pr({message:L,status:w})}}catch(T){if(T.name==="ApiError")throw T}p+=m;let v=p.match(Qg);for(;v;){const T=v[1];try{const S=new Response(T,{headers:t?.headers,status:t?.status,statusText:t?.statusText});yield yield ft(new Xc(S)),p=p.slice(v[0].length),v=p.match(Qg)}catch(S){throw new Error(`exception parsing stream chunk ${T}. ${S}`)}}}}finally{r.releaseLock()}})}async apiCall(t,l){return fetch(t,l).catch(a=>{throw new Error(`exception ${a} sending request`)})}getDefaultHeaders(){const t={},l=xM+" "+this.clientOptions.userAgentExtra;return t[TM]=l,t[Wc]=l,t[vM]="application/json",t}async getHeadersInternal(t,l){const a=new Headers;if(t&&t.headers){for(const[r,c]of Object.entries(t.headers))a.append(r,c);t.timeout&&t.timeout>0&&a.append(_M,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(a,l),a}getFileName(t){var l;let a="";return typeof t=="string"&&(a=t.replace(/[/\\]+$/,""),a=(l=a.split(/[/\\]/).pop())!==null&&l!==void 0?l:""),a}async uploadFile(t,l){var a;const r={};l!=null&&(r.mimeType=l.mimeType,r.name=l.name,r.displayName=l.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const c=this.clientOptions.uploader,p=await c.stat(t);r.sizeBytes=String(p.size);const g=(a=l?.mimeType)!==null&&a!==void 0?a:p.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=g;const y={file:r},m=this.getFileName(t),v=he("upload/v1beta/files",y._url),T=await this.fetchUploadUrl(v,r.sizeBytes,r.mimeType,m,y,l?.httpOptions);return c.upload(t,T,this)}async uploadFileToFileSearchStore(t,l,a){var r;const c=this.clientOptions.uploader,p=await c.stat(l),g=String(p.size),y=(r=a?.mimeType)!==null&&r!==void 0?r:p.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const m=`upload/v1beta/${t}:uploadToFileSearchStore`,v=this.getFileName(l),T={};a?.customMetadata&&(T.customMetadata=a.customMetadata),a?.chunkingConfig&&(T.chunkingConfig=a.chunkingConfig);const S=await this.fetchUploadUrl(m,g,y,v,T,a?.httpOptions);return c.uploadToFileSearchStore(l,S,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,l,a,r,c,p){var g;let y={};p?y=p:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${l}`,"X-Goog-Upload-Header-Content-Type":`${a}`},r?{"X-Goog-Upload-File-Name":r}:{})};const m=await this.request({path:t,body:JSON.stringify(c),httpMethod:"POST",httpOptions:y});if(!m||!m?.headers)throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(g=m?.headers)===null||g===void 0?void 0:g["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function $g(n){var t;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const l=n.status;let a;!((t=n.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?a=await n.json():a={error:{message:await n.text(),code:n.status,status:n.statusText}};const r=JSON.stringify(a);throw l>=400&&l<600?new pr({message:r,status:l}):new Error(r)}}function NM(n,t){if(!t||Object.keys(t).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let l={};if(typeof n.body=="string"&&n.body.length>0)try{const c=JSON.parse(n.body);if(typeof c=="object"&&c!==null&&!Array.isArray(c))l=c;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function a(c,p){const g=Object.assign({},c);for(const y in p)if(Object.prototype.hasOwnProperty.call(p,y)){const m=p[y],v=g[y];m&&typeof m=="object"&&!Array.isArray(m)&&v&&typeof v=="object"&&!Array.isArray(v)?g[y]=a(v,m):(v&&m&&typeof v!=typeof m&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof m}. Overwriting.`),g[y]=m)}return g}const r=a(l,t);n.body=JSON.stringify(r)}const MM="mcp_used/unknown";let bM=!1;function ty(n){for(const t of n)if(RM(t)||typeof t=="object"&&"inputSchema"in t)return!0;return bM}function ny(n){var t;const l=(t=n[Wc])!==null&&t!==void 0?t:"";n[Wc]=(l+` ${MM}`).trimStart()}function RM(n){return n!==null&&typeof n=="object"&&n instanceof vf}function wM(n,t=100){return po(this,arguments,function*(){let a,r=0;for(;r<t;){const c=yield ft(n.listTools({cursor:a}));for(const p of c.tools)yield yield ft(p),r++;if(!c.nextCursor)break;a=c.nextCursor}})}class vf{constructor(t=[],l){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=l}static create(t,l){return new vf(t,l)}async initialize(){var t,l,a,r;if(this.mcpTools.length>0)return;const c={},p=[];for(const v of this.mcpClients)try{for(var g=!0,y=(l=void 0,_a(wM(v))),m;m=await y.next(),t=m.done,!t;g=!0){r=m.value,g=!1;const T=r;p.push(T);const S=T.name;if(c[S])throw new Error(`Duplicate function name ${S} found in MCP tools. Please ensure function names are unique.`);c[S]=v}}catch(T){l={error:T}}finally{try{!g&&!t&&(a=y.return)&&await a.call(y)}finally{if(l)throw l.error}}this.mcpTools=p,this.functionNameToMcpClient=c}async tool(){return await this.initialize(),xC(this.mcpTools,this.config)}async callTool(t){await this.initialize();const l=[];for(const a of t)if(a.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[a.name];let c;this.config.timeout&&(c={timeout:this.config.timeout});const p=await r.callTool({name:a.name,arguments:a.args},void 0,c);l.push({functionResponse:{name:a.name,response:p.isError?{error:p}:p}})}return l}}async function DM(n,t,l){const a=new mC;let r;l.data instanceof Blob?r=JSON.parse(await l.data.text()):r=JSON.parse(l.data),Object.assign(a,r),t(a)}class IM{constructor(t,l,a){this.apiClient=t,this.auth=l,this.webSocketFactory=a}async connect(t){var l,a;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion(),p=LM(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),y=`${r}/ws/google.ai.generativelanguage.${c}.GenerativeService.BidiGenerateMusic?key=${g}`;let m=()=>{};const v=new Promise($=>{m=$}),T=t.callbacks,S=function(){m({})},C=this.apiClient,w={onopen:S,onmessage:$=>{DM(C,T.onmessage,$)},onerror:(l=T?.onerror)!==null&&l!==void 0?l:function($){},onclose:(a=T?.onclose)!==null&&a!==void 0?a:function($){}},L=this.webSocketFactory.create(y,kM(p),w);L.connect(),await v;const ee={setup:{model:$e(this.apiClient,t.model)}};return L.send(JSON.stringify(ee)),new UM(L,this.apiClient)}}class UM{constructor(t,l){this.conn=t,this.apiClient=l}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const l=_1(t);this.conn.send(JSON.stringify({clientContent:l}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const l=v1(t);this.conn.send(JSON.stringify(l))}sendPlaybackControl(t){const l={playbackControl:t};this.conn.send(JSON.stringify(l))}play(){this.sendPlaybackControl(ro.PLAY)}pause(){this.sendPlaybackControl(ro.PAUSE)}stop(){this.sendPlaybackControl(ro.STOP)}resetContext(){this.sendPlaybackControl(ro.RESET_CONTEXT)}close(){this.conn.close()}}function kM(n){const t={};return n.forEach((l,a)=>{t[a]=l}),t}function LM(n){const t=new Headers;for(const[l,a]of Object.entries(n))t.append(l,a);return t}const zM="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function GM(n,t,l){const a=new pC;let r;l.data instanceof Blob?r=await l.data.text():l.data instanceof ArrayBuffer?r=new TextDecoder().decode(l.data):r=l.data;const c=JSON.parse(r);if(n.isVertexAI()){const p=x1(c);Object.assign(a,p)}else Object.assign(a,c);t(a)}class HM{constructor(t,l,a){this.apiClient=t,this.auth=l,this.webSocketFactory=a,this.music=new IM(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var l,a,r,c,p,g;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let v;const T=this.apiClient.getHeaders();t.config&&t.config.tools&&ty(t.config.tools)&&ny(T);const S=BM(T);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(S,v);else{const re=this.apiClient.getApiKey();let Te="BidiGenerateContent",fe="key";re?.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),m!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),Te="BidiGenerateContentConstrained",fe="access_token"),v=`${y}/ws/google.ai.generativelanguage.${m}.GenerativeService.${Te}?${fe}=${re}`}let C=()=>{};const w=new Promise(re=>{C=re}),L=t.callbacks,te=function(){var re;(re=L?.onopen)===null||re===void 0||re.call(L),C({})},z=this.apiClient,ee={onopen:te,onmessage:re=>{GM(z,L.onmessage,re)},onerror:(l=L?.onerror)!==null&&l!==void 0?l:function(re){},onclose:(a=L?.onclose)!==null&&a!==void 0?a:function(re){}},$=this.webSocketFactory.create(v,VM(S),ee);$.connect(),await w;let B=$e(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&B.startsWith("publishers/")){const re=this.apiClient.getProject(),Te=this.apiClient.getLocation();B=`projects/${re}/locations/${Te}/`+B}let J={};this.apiClient.isVertexAI()&&((r=t.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[or.AUDIO]}:t.config.responseModalities=[or.AUDIO]),!((c=t.config)===null||c===void 0)&&c.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const oe=(g=(p=t.config)===null||p===void 0?void 0:p.tools)!==null&&g!==void 0?g:[],ne=[];for(const re of oe)if(this.isCallableTool(re)){const Te=re;ne.push(await Te.tool())}else ne.push(re);ne.length>0&&(t.config.tools=ne);const xe={model:B,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?J=y1(this.apiClient,xe):J=g1(this.apiClient,xe),delete J.config,$.send(JSON.stringify(J)),new qM($,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const PM={turnComplete:!0};class qM{constructor(t,l){this.conn=t,this.apiClient=l}tLiveClientContent(t,l){if(l.turns!==null&&l.turns!==void 0){let a=[];try{a=bn(l.turns),t.isVertexAI()||(a=a.map(r=>mr(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof l.turns}'`)}return{clientContent:{turns:a,turnComplete:l.turnComplete}}}return{clientContent:{turnComplete:l.turnComplete}}}tLiveClienttToolResponse(t,l){let a=[];if(l.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(l.functionResponses)?a=l.functionResponses:a=[l.functionResponses],a.length===0)throw new Error("functionResponses is required.");for(const c of a){if(typeof c!="object"||c===null||!("name"in c)||!("response"in c))throw new Error(`Could not parse function response, type '${typeof c}'.`);if(!t.isVertexAI()&&!("id"in c))throw new Error(zM)}return{toolResponse:{functionResponses:a}}}sendClientContent(t){t=Object.assign(Object.assign({},PM),t);const l=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(l))}sendRealtimeInput(t){let l={};this.apiClient.isVertexAI()?l={realtimeInput:S1(t)}:l={realtimeInput:T1(t)},this.conn.send(JSON.stringify(l))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const l=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(l))}close(){this.conn.close()}}function VM(n){const t={};return n.forEach((l,a)=>{t[a]=l}),t}function BM(n){const t=new Headers;for(const[l,a]of Object.entries(n))t.append(l,a);return t}const Zg=10;function Wg(n){var t,l,a;if(!((t=n?.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let r=!1;for(const p of(l=n?.tools)!==null&&l!==void 0?l:[])if(mo(p)){r=!0;break}if(!r)return!0;const c=(a=n?.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls;return c&&(c<0||!Number.isInteger(c))||c==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",c),!0):!1}function mo(n){return"callTool"in n&&typeof n.callTool=="function"}function OM(n){var t,l,a;return(a=(l=(t=n.config)===null||t===void 0?void 0:t.tools)===null||l===void 0?void 0:l.some(r=>mo(r)))!==null&&a!==void 0?a:!1}function jg(n){var t;const l=[];return!((t=n?.config)===null||t===void 0)&&t.tools&&n.config.tools.forEach((a,r)=>{if(mo(a))return;const c=a;c.functionDeclarations&&c.functionDeclarations.length>0&&l.push(r)}),l}function e0(n){var t;return!(!((t=n?.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}class YM extends Mi{constructor(t){super(),this.apiClient=t,this.generateContent=async l=>{var a,r,c,p,g;const y=await this.processParamsMaybeAddMcpUsage(l);if(this.maybeMoveToResponseJsonSchem(l),!OM(l)||Wg(l.config))return await this.generateContentInternal(y);const m=jg(l);if(m.length>0){const L=m.map(te=>`tools[${te}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${L}.`)}let v,T;const S=bn(y.contents),C=(c=(r=(a=y.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&c!==void 0?c:Zg;let w=0;for(;w<C&&(v=await this.generateContentInternal(y),!(!v.functionCalls||v.functionCalls.length===0));){const L=v.candidates[0].content,te=[];for(const z of(g=(p=l.config)===null||p===void 0?void 0:p.tools)!==null&&g!==void 0?g:[])if(mo(z)){const $=await z.callTool(v.functionCalls);te.push(...$)}w++,T={role:"user",parts:te},y.contents=bn(y.contents),y.contents.push(L),y.contents.push(T),e0(y.config)&&(S.push(L),S.push(T))}return e0(y.config)&&(v.automaticFunctionCallingHistory=S),v},this.generateContentStream=async l=>{var a,r,c,p,g;if(this.maybeMoveToResponseJsonSchem(l),Wg(l.config)){const T=await this.processParamsMaybeAddMcpUsage(l);return await this.generateContentStreamInternal(T)}const y=jg(l);if(y.length>0){const T=y.map(S=>`tools[${S}]`).join(", ");throw new Error(`Incompatible tools found at ${T}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const m=(c=(r=(a=l?.config)===null||a===void 0?void 0:a.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||c===void 0?void 0:c.streamFunctionCallArguments,v=(g=(p=l?.config)===null||p===void 0?void 0:p.automaticFunctionCalling)===null||g===void 0?void 0:g.disable;if(m&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(l)},this.generateImages=async l=>await this.generateImagesInternal(l).then(a=>{var r;let c;const p=[];if(a?.generatedImages)for(const y of a.generatedImages)y&&y?.safetyAttributes&&((r=y?.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?c=y?.safetyAttributes:p.push(y);let g;return c?g={generatedImages:p,positivePromptSafetyAttributes:c,sdkHttpResponse:a.sdkHttpResponse}:g={generatedImages:p,sdkHttpResponse:a.sdkHttpResponse},g}),this.list=async l=>{var a;const p={config:Object.assign(Object.assign({},{queryBase:!0}),l?.config)};if(this.apiClient.isVertexAI()&&!p.config.queryBase){if(!((a=p.config)===null||a===void 0)&&a.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");p.config.filter="labels.tune-type:*"}return new Al(Ni.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(p),p)},this.editImage=async l=>{const a={model:l.model,prompt:l.prompt,referenceImages:[],config:l.config};return l.referenceImages&&l.referenceImages&&(a.referenceImages=l.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(a)},this.upscaleImage=async l=>{let a={numberOfImages:1,mode:"upscale"};l.config&&(a=Object.assign(Object.assign({},a),l.config));const r={model:l.model,image:l.image,upscaleFactor:l.upscaleFactor,config:a};return await this.upscaleImageInternal(r)},this.generateVideos=async l=>{var a,r,c,p,g,y;if((l.prompt||l.image||l.video)&&l.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((a=l.video)===null||a===void 0)&&a.uri&&(!((r=l.video)===null||r===void 0)&&r.videoBytes)?l.video={uri:l.video.uri,mimeType:l.video.mimeType}:!((p=(c=l.source)===null||c===void 0?void 0:c.video)===null||p===void 0)&&p.uri&&(!((y=(g=l.source)===null||g===void 0?void 0:g.video)===null||y===void 0)&&y.videoBytes)&&(l.source.video={uri:l.source.video.uri,mimeType:l.source.video.mimeType})),await this.generateVideosInternal(l)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var l,a,r;const c=(l=t.config)===null||l===void 0?void 0:l.tools;if(!c)return t;const p=await Promise.all(c.map(async y=>mo(y)?await y.tool():y)),g={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:p})};if(g.config.tools=p,t.config&&t.config.tools&&ty(t.config.tools)){const y=(r=(a=t.config.httpOptions)===null||a===void 0?void 0:a.headers)!==null&&r!==void 0?r:{};let m=Object.assign({},y);Object.keys(m).length===0&&(m=this.apiClient.getDefaultHeaders()),ny(m),g.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:m})}return g}async initAfcToolsMap(t){var l,a,r;const c=new Map;for(const p of(a=(l=t.config)===null||l===void 0?void 0:l.tools)!==null&&a!==void 0?a:[])if(mo(p)){const g=p,y=await g.tool();for(const m of(r=y.functionDeclarations)!==null&&r!==void 0?r:[]){if(!m.name)throw new Error("Function declaration name is required.");if(c.has(m.name))throw new Error(`Duplicate tool declaration name: ${m.name}`);c.set(m.name,g)}}return c}async processAfcStream(t){var l,a,r;const c=(r=(a=(l=t.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&r!==void 0?r:Zg;let p=!1,g=0;const y=await this.initAfcToolsMap(t);return(function(m,v,T){var S,C;return po(this,arguments,function*(){for(var w,L,te,z;g<c;){p&&(g++,p=!1);const J=yield ft(m.processParamsMaybeAddMcpUsage(T)),oe=yield ft(m.generateContentStreamInternal(J)),ne=[],xe=[];try{for(var ee=!0,$=(L=void 0,_a(oe)),B;B=yield ft($.next()),w=B.done,!w;ee=!0){z=B.value,ee=!1;const re=z;if(yield yield ft(re),re.candidates&&(!((S=re.candidates[0])===null||S===void 0)&&S.content)){xe.push(re.candidates[0].content);for(const Te of(C=re.candidates[0].content.parts)!==null&&C!==void 0?C:[])if(g<c&&Te.functionCall){if(!Te.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(Te.functionCall.name)){const fe=yield ft(v.get(Te.functionCall.name).callTool([Te.functionCall]));ne.push(...fe)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${Te.functionCall.name}`)}}}}catch(re){L={error:re}}finally{try{!ee&&!w&&(te=$.return)&&(yield ft(te.call($)))}finally{if(L)throw L.error}}if(ne.length>0){p=!0;const re=new ma;re.candidates=[{content:{role:"user",parts:ne}}],yield yield ft(re);const Te=[];Te.push(...xe),Te.push({role:"user",parts:ne});const fe=bn(T.contents).concat(Te);T.contents=fe}else break}})})(this,y,t)}async generateContentInternal(t){var l,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=Jg(this.apiClient,t);return g=he("{model}:generateContent",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const T=Kg(v),S=new ma;return Object.assign(S,T),S})}else{const m=Fg(this.apiClient,t);return g=he("{model}:generateContent",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const T=Xg(v),S=new ma;return Object.assign(S,T),S})}}async generateContentStreamInternal(t){var l,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=Jg(this.apiClient,t);return g=he("{model}:streamGenerateContent?alt=sse",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}),p.then(function(T){return po(this,arguments,function*(){var S,C,w,L;try{for(var te=!0,z=_a(T),ee;ee=yield ft(z.next()),S=ee.done,!S;te=!0){L=ee.value,te=!1;const $=L,B=Kg(yield ft($.json()));B.sdkHttpResponse={headers:$.headers};const J=new ma;Object.assign(J,B),yield yield ft(J)}}catch($){C={error:$}}finally{try{!te&&!S&&(w=z.return)&&(yield ft(w.call(z)))}finally{if(C)throw C.error}}})})}else{const m=Fg(this.apiClient,t);return g=he("{model}:streamGenerateContent?alt=sse",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}),p.then(function(T){return po(this,arguments,function*(){var S,C,w,L;try{for(var te=!0,z=_a(T),ee;ee=yield ft(z.next()),S=ee.done,!S;te=!0){L=ee.value,te=!1;const $=L,B=Xg(yield ft($.json()));B.sdkHttpResponse={headers:$.headers};const J=new ma;Object.assign(J,B),yield yield ft(J)}}catch($){C={error:$}}finally{try{!te&&!S&&(w=z.return)&&(yield ft(w.call(z)))}finally{if(C)throw C.error}}})})}}async embedContent(t){var l,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=W1(this.apiClient,t);return g=he("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const T=eN(v),S=new Rg;return Object.assign(S,T),S})}else{const m=Z1(this.apiClient,t);return g=he("{model}:batchEmbedContents",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const T=j1(v),S=new Rg;return Object.assign(S,T),S})}}async generateImagesInternal(t){var l,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=fN(this.apiClient,t);return g=he("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const T=pN(v),S=new wg;return Object.assign(S,T),S})}else{const m=cN(this.apiClient,t);return g=he("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const T=dN(v),S=new wg;return Object.assign(S,T),S})}}async editImageInternal(t){var l,a;let r,c="",p={};if(this.apiClient.isVertexAI()){const g=X1(this.apiClient,t);return c=he("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const m=K1(y),v=new nC;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var l,a;let r,c="",p={};if(this.apiClient.isVertexAI()){const g=fM(this.apiClient,t);return c=he("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const m=dM(y),v=new iC;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var l,a;let r,c="",p={};if(this.apiClient.isVertexAI()){const g=JN(this.apiClient,t);return c=he("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const m=XN(y),v=new lC;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var l,a;let r,c="",p={};if(this.apiClient.isVertexAI()){const g=jN(this.apiClient,t);return c=he("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const m=eM(y),v=new oC;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var l,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=wN(this.apiClient,t);return g=he("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>Zc(v))}else{const m=RN(this.apiClient,t);return g=he("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),p.then(v=>$c(v))}}async listInternal(t){var l,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=PN(this.apiClient,t);return g=he("{models_url}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const T=VN(v),S=new Dg;return Object.assign(S,T),S})}else{const m=HN(this.apiClient,t);return g=he("{models_url}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const T=qN(v),S=new Dg;return Object.assign(S,T),S})}}async update(t){var l,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=uM(this.apiClient,t);return g=he("{model}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>Zc(v))}else{const m=rM(this.apiClient,t);return g=he("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),p.then(v=>$c(v))}}async delete(t){var l,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=O1(this.apiClient,t);return g=he("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const T=F1(v),S=new Ig;return Object.assign(S,T),S})}else{const m=B1(this.apiClient,t);return g=he("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const T=Y1(v),S=new Ig;return Object.assign(S,T),S})}}async countTokens(t){var l,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=P1(this.apiClient,t);return g=he("{model}:countTokens",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const T=V1(v),S=new Ug;return Object.assign(S,T),S})}else{const m=H1(this.apiClient,t);return g=he("{model}:countTokens",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const T=q1(v),S=new Ug;return Object.assign(S,T),S})}}async computeTokens(t){var l,a;let r,c="",p={};if(this.apiClient.isVertexAI()){const g=D1(this.apiClient,t);return c=he("{model}:computeTokens",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const m=I1(y),v=new aC;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var l,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=_N(this.apiClient,t);return g=he("{model}:predictLongRunning",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>{const T=yN(v),S=new ar;return Object.assign(S,T),S})}else{const m=vN(this.apiClient,t);return g=he("{model}:predictLongRunning",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),p.then(v=>{const T=gN(v),S=new ar;return Object.assign(S,T),S})}}}class FM extends Mi{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const l=t.operation,a=t.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=l.name.split("/operations/")[0];let c;a&&"httpOptions"in a&&(c=a.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:r,config:{httpOptions:c}});return l._fromAPIResponse({apiResponse:p,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:l.name,config:a});return l._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(t){const l=t.operation,a=t.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=l.name.split("/operations/")[0];let c;a&&"httpOptions"in a&&(c=a.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:r,config:{httpOptions:c}});return l._fromAPIResponse({apiResponse:p,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:l.name,config:a});return l._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(t){var l,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=$E(t);return g=he("{operationName}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p}else{const m=QE(t);return g=he("{operationName}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),p}}async fetchPredictVideosOperationInternal(t){var l,a;let r,c="",p={};if(this.apiClient.isVertexAI()){const g=BE(t);return c=he("{resourceName}:fetchPredictOperation",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}function JM(n){const t={},l=u(n,["data"]);if(l!=null&&f(t,["data"],l),u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(n,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function XM(n){const t={},l=u(n,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(c=>nb(c))),f(t,["parts"],r)}const a=u(n,["role"]);return a!=null&&f(t,["role"],a),t}function KM(n,t,l){const a={},r=u(t,["expireTime"]);l!==void 0&&r!=null&&f(l,["expireTime"],r);const c=u(t,["newSessionExpireTime"]);l!==void 0&&c!=null&&f(l,["newSessionExpireTime"],c);const p=u(t,["uses"]);l!==void 0&&p!=null&&f(l,["uses"],p);const g=u(t,["liveConnectConstraints"]);l!==void 0&&g!=null&&f(l,["bidiGenerateContentSetup"],tb(n,g));const y=u(t,["lockAdditionalFields"]);return l!==void 0&&y!=null&&f(l,["fieldMask"],y),a}function QM(n,t){const l={},a=u(t,["config"]);return a!=null&&f(l,["config"],KM(n,a,l)),l}function $M(n){const t={};if(u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(n,["fileUri"]);l!=null&&f(t,["fileUri"],l);const a=u(n,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function ZM(n){const t={},l=u(n,["id"]);l!=null&&f(t,["id"],l);const a=u(n,["args"]);a!=null&&f(t,["args"],a);const r=u(n,["name"]);if(r!=null&&f(t,["name"],r),u(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function WM(n){const t={};if(u(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(n,["enableWidget"]);return l!=null&&f(t,["enableWidget"],l),t}function jM(n){const t={};if(u(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(n,["timeRangeFilter"]);return l!=null&&f(t,["timeRangeFilter"],l),t}function eb(n,t){const l={},a=u(n,["generationConfig"]);t!==void 0&&a!=null&&f(t,["setup","generationConfig"],a);const r=u(n,["responseModalities"]);t!==void 0&&r!=null&&f(t,["setup","generationConfig","responseModalities"],r);const c=u(n,["temperature"]);t!==void 0&&c!=null&&f(t,["setup","generationConfig","temperature"],c);const p=u(n,["topP"]);t!==void 0&&p!=null&&f(t,["setup","generationConfig","topP"],p);const g=u(n,["topK"]);t!==void 0&&g!=null&&f(t,["setup","generationConfig","topK"],g);const y=u(n,["maxOutputTokens"]);t!==void 0&&y!=null&&f(t,["setup","generationConfig","maxOutputTokens"],y);const m=u(n,["mediaResolution"]);t!==void 0&&m!=null&&f(t,["setup","generationConfig","mediaResolution"],m);const v=u(n,["seed"]);t!==void 0&&v!=null&&f(t,["setup","generationConfig","seed"],v);const T=u(n,["speechConfig"]);t!==void 0&&T!=null&&f(t,["setup","generationConfig","speechConfig"],yf(T));const S=u(n,["thinkingConfig"]);t!==void 0&&S!=null&&f(t,["setup","generationConfig","thinkingConfig"],S);const C=u(n,["enableAffectiveDialog"]);t!==void 0&&C!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],C);const w=u(n,["systemInstruction"]);t!==void 0&&w!=null&&f(t,["setup","systemInstruction"],XM(Vt(w)));const L=u(n,["tools"]);if(t!==void 0&&L!=null){let oe=vo(L);Array.isArray(oe)&&(oe=oe.map(ne=>lb(yo(ne)))),f(t,["setup","tools"],oe)}const te=u(n,["sessionResumption"]);t!==void 0&&te!=null&&f(t,["setup","sessionResumption"],ib(te));const z=u(n,["inputAudioTranscription"]);t!==void 0&&z!=null&&f(t,["setup","inputAudioTranscription"],z);const ee=u(n,["outputAudioTranscription"]);t!==void 0&&ee!=null&&f(t,["setup","outputAudioTranscription"],ee);const $=u(n,["realtimeInputConfig"]);t!==void 0&&$!=null&&f(t,["setup","realtimeInputConfig"],$);const B=u(n,["contextWindowCompression"]);t!==void 0&&B!=null&&f(t,["setup","contextWindowCompression"],B);const J=u(n,["proactivity"]);return t!==void 0&&J!=null&&f(t,["setup","proactivity"],J),l}function tb(n,t){const l={},a=u(t,["model"]);a!=null&&f(l,["setup","model"],$e(n,a));const r=u(t,["config"]);return r!=null&&f(l,["config"],eb(r,l)),l}function nb(n){const t={},l=u(n,["mediaResolution"]);l!=null&&f(t,["mediaResolution"],l);const a=u(n,["codeExecutionResult"]);a!=null&&f(t,["codeExecutionResult"],a);const r=u(n,["executableCode"]);r!=null&&f(t,["executableCode"],r);const c=u(n,["fileData"]);c!=null&&f(t,["fileData"],$M(c));const p=u(n,["functionCall"]);p!=null&&f(t,["functionCall"],ZM(p));const g=u(n,["functionResponse"]);g!=null&&f(t,["functionResponse"],g);const y=u(n,["inlineData"]);y!=null&&f(t,["inlineData"],JM(y));const m=u(n,["text"]);m!=null&&f(t,["text"],m);const v=u(n,["thought"]);v!=null&&f(t,["thought"],v);const T=u(n,["thoughtSignature"]);T!=null&&f(t,["thoughtSignature"],T);const S=u(n,["videoMetadata"]);return S!=null&&f(t,["videoMetadata"],S),t}function ib(n){const t={},l=u(n,["handle"]);if(l!=null&&f(t,["handle"],l),u(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function lb(n){const t={},l=u(n,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(T=>T)),f(t,["functionDeclarations"],v)}if(u(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(n,["googleSearchRetrieval"]);a!=null&&f(t,["googleSearchRetrieval"],a);const r=u(n,["computerUse"]);r!=null&&f(t,["computerUse"],r);const c=u(n,["fileSearch"]);c!=null&&f(t,["fileSearch"],c);const p=u(n,["codeExecution"]);if(p!=null&&f(t,["codeExecution"],p),u(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(n,["googleMaps"]);g!=null&&f(t,["googleMaps"],WM(g));const y=u(n,["googleSearch"]);y!=null&&f(t,["googleSearch"],jM(y));const m=u(n,["urlContext"]);return m!=null&&f(t,["urlContext"],m),t}function ob(n){const t=[];for(const l in n)if(Object.prototype.hasOwnProperty.call(n,l)){const a=n[l];if(typeof a=="object"&&a!=null&&Object.keys(a).length>0){const r=Object.keys(a).map(c=>`${l}.${c}`);t.push(...r)}else t.push(l)}return t.join(",")}function ab(n,t){let l=null;const a=n.bidiGenerateContentSetup;if(typeof a=="object"&&a!==null&&"setup"in a){const c=a.setup;typeof c=="object"&&c!==null?(n.bidiGenerateContentSetup=c,l=c):delete n.bidiGenerateContentSetup}else a!==void 0&&delete n.bidiGenerateContentSetup;const r=n.fieldMask;if(l){const c=ob(l);if(Array.isArray(t?.lockAdditionalFields)&&t?.lockAdditionalFields.length===0)c?n.fieldMask=c:delete n.fieldMask;else if(t?.lockAdditionalFields&&t.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const p=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];r.length>0&&(g=r.map(m=>p.includes(m)?`generationConfig.${m}`:m));const y=[];c&&y.push(c),g.length>0&&y.push(...g),y.length>0?n.fieldMask=y.join(","):delete n.fieldMask}else delete n.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?n.fieldMask=r.join(","):delete n.fieldMask;return n}class sb extends Mi{constructor(t){super(),this.apiClient=t}async create(t){var l,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=QM(this.apiClient,t);c=he("auth_tokens",g._url),p=g._query,delete g.config,delete g._url,delete g._query;const y=ab(g,t.config);return r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),r.then(m=>m)}}}function rb(n,t){const l={},a=u(n,["displayName"]);return t!==void 0&&a!=null&&f(t,["displayName"],a),l}function ub(n){const t={},l=u(n,["config"]);return l!=null&&rb(l,t),t}function cb(n,t){const l={},a=u(n,["force"]);return t!==void 0&&a!=null&&f(t,["_query","force"],a),l}function fb(n){const t={},l=u(n,["name"]);l!=null&&f(t,["_url","name"],l);const a=u(n,["config"]);return a!=null&&cb(a,t),t}function db(n){const t={},l=u(n,["name"]);return l!=null&&f(t,["_url","name"],l),t}function pb(n,t){const l={},a=u(n,["customMetadata"]);if(t!==void 0&&a!=null){let c=a;Array.isArray(c)&&(c=c.map(p=>p)),f(t,["customMetadata"],c)}const r=u(n,["chunkingConfig"]);return t!==void 0&&r!=null&&f(t,["chunkingConfig"],r),l}function mb(n){const t={},l=u(n,["name"]);l!=null&&f(t,["name"],l);const a=u(n,["metadata"]);a!=null&&f(t,["metadata"],a);const r=u(n,["done"]);r!=null&&f(t,["done"],r);const c=u(n,["error"]);c!=null&&f(t,["error"],c);const p=u(n,["response"]);return p!=null&&f(t,["response"],gb(p)),t}function hb(n){const t={},l=u(n,["fileSearchStoreName"]);l!=null&&f(t,["_url","file_search_store_name"],l);const a=u(n,["fileName"]);a!=null&&f(t,["fileName"],a);const r=u(n,["config"]);return r!=null&&pb(r,t),t}function gb(n){const t={},l=u(n,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(n,["parent"]);a!=null&&f(t,["parent"],a);const r=u(n,["documentName"]);return r!=null&&f(t,["documentName"],r),t}function yb(n,t){const l={},a=u(n,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(n,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),l}function vb(n){const t={},l=u(n,["config"]);return l!=null&&yb(l,t),t}function _b(n){const t={},l=u(n,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(n,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(n,["fileSearchStores"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>p)),f(t,["fileSearchStores"],c)}return t}function Tb(n,t){const l={},a=u(n,["mimeType"]);t!==void 0&&a!=null&&f(t,["mimeType"],a);const r=u(n,["displayName"]);t!==void 0&&r!=null&&f(t,["displayName"],r);const c=u(n,["customMetadata"]);if(t!==void 0&&c!=null){let g=c;Array.isArray(g)&&(g=g.map(y=>y)),f(t,["customMetadata"],g)}const p=u(n,["chunkingConfig"]);return t!==void 0&&p!=null&&f(t,["chunkingConfig"],p),l}function Sb(n){const t={},l=u(n,["fileSearchStoreName"]);l!=null&&f(t,["_url","file_search_store_name"],l);const a=u(n,["config"]);return a!=null&&Tb(a,t),t}function xb(n){const t={},l=u(n,["sdkHttpResponse"]);return l!=null&&f(t,["sdkHttpResponse"],l),t}function Eb(n,t){const l={},a=u(n,["force"]);return t!==void 0&&a!=null&&f(t,["_query","force"],a),l}function Cb(n){const t={},l=u(n,["name"]);l!=null&&f(t,["_url","name"],l);const a=u(n,["config"]);return a!=null&&Eb(a,t),t}function Ab(n){const t={},l=u(n,["name"]);return l!=null&&f(t,["_url","name"],l),t}function Nb(n,t){const l={},a=u(n,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(n,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),l}function Mb(n){const t={},l=u(n,["parent"]);l!=null&&f(t,["_url","parent"],l);const a=u(n,["config"]);return a!=null&&Nb(a,t),t}function bb(n){const t={},l=u(n,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(n,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(n,["documents"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>p)),f(t,["documents"],c)}return t}class Rb extends Mi{constructor(t){super(),this.apiClient=t,this.list=async l=>new Al(Ni.PAGED_ITEM_DOCUMENTS,a=>this.listInternal({parent:l.parent,config:a.config}),await this.listInternal(l),l)}async get(t){var l,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Ab(t);return c=he("{name}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var l,a;let r="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=Cb(t);r=he("{name}",p._url),c=p._query,delete p._url,delete p._query,await this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var l,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Mb(t);return c=he("{parent}/documents",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const m=bb(y),v=new sC;return Object.assign(v,m),v})}}}class wb extends Mi{constructor(t,l=new Rb(t)){super(),this.apiClient=t,this.documents=l,this.list=async(a={})=>new Al(Ni.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(a),a)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var l,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=ub(t);return c=he("fileSearchStores",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async get(t){var l,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=db(t);return c=he("{name}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var l,a;let r="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=fb(t);r=he("{name}",p._url),c=p._query,delete p._url,delete p._query,await this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var l,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=vb(t);return c=he("fileSearchStores",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const m=_b(y),v=new rC;return Object.assign(v,m),v})}}async uploadToFileSearchStoreInternal(t){var l,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Sb(t);return c=he("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const m=xb(y),v=new uC;return Object.assign(v,m),v})}}async importFile(t){var l,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=hb(t);return c=he("{file_search_store_name}:importFile",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const m=mb(y),v=new df;return Object.assign(v,m),v})}}}function Db(n,t){const l={},a=u(n,["name"]);return a!=null&&f(l,["_url","name"],a),l}function Ib(n,t){const l={},a=u(n,["name"]);return a!=null&&f(l,["_url","name"],a),l}function Ub(n,t,l){const a={};if(u(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=u(n,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&f(t,["displayName"],r),u(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const c=u(n,["epochCount"]);t!==void 0&&c!=null&&f(t,["tuningTask","hyperparameters","epochCount"],c);const p=u(n,["learningRateMultiplier"]);if(p!=null&&f(a,["tuningTask","hyperparameters","learningRateMultiplier"],p),u(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const g=u(n,["batchSize"]);t!==void 0&&g!=null&&f(t,["tuningTask","hyperparameters","batchSize"],g);const y=u(n,["learningRate"]);if(t!==void 0&&y!=null&&f(t,["tuningTask","hyperparameters","learningRate"],y),u(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(u(n,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return a}function kb(n,t,l){const a={};let r=u(l,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const C=u(n,["validationDataset"]);t!==void 0&&C!=null&&f(t,["supervisedTuningSpec"],t0(C))}else if(r==="PREFERENCE_TUNING"){const C=u(n,["validationDataset"]);t!==void 0&&C!=null&&f(t,["preferenceOptimizationSpec"],t0(C))}const c=u(n,["tunedModelDisplayName"]);t!==void 0&&c!=null&&f(t,["tunedModelDisplayName"],c);const p=u(n,["description"]);t!==void 0&&p!=null&&f(t,["description"],p);let g=u(l,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const C=u(n,["epochCount"]);t!==void 0&&C!=null&&f(t,["supervisedTuningSpec","hyperParameters","epochCount"],C)}else if(g==="PREFERENCE_TUNING"){const C=u(n,["epochCount"]);t!==void 0&&C!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],C)}let y=u(l,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const C=u(n,["learningRateMultiplier"]);t!==void 0&&C!=null&&f(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],C)}else if(y==="PREFERENCE_TUNING"){const C=u(n,["learningRateMultiplier"]);t!==void 0&&C!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],C)}let m=u(l,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const C=u(n,["exportLastCheckpointOnly"]);t!==void 0&&C!=null&&f(t,["supervisedTuningSpec","exportLastCheckpointOnly"],C)}else if(m==="PREFERENCE_TUNING"){const C=u(n,["exportLastCheckpointOnly"]);t!==void 0&&C!=null&&f(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],C)}let v=u(l,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const C=u(n,["adapterSize"]);t!==void 0&&C!=null&&f(t,["supervisedTuningSpec","hyperParameters","adapterSize"],C)}else if(v==="PREFERENCE_TUNING"){const C=u(n,["adapterSize"]);t!==void 0&&C!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],C)}if(u(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const T=u(n,["labels"]);t!==void 0&&T!=null&&f(t,["labels"],T);const S=u(n,["beta"]);return t!==void 0&&S!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","beta"],S),a}function Lb(n,t){const l={},a=u(n,["baseModel"]);a!=null&&f(l,["baseModel"],a);const r=u(n,["preTunedModel"]);r!=null&&f(l,["preTunedModel"],r);const c=u(n,["trainingDataset"]);c!=null&&Jb(c);const p=u(n,["config"]);return p!=null&&Ub(p,l),l}function zb(n,t){const l={},a=u(n,["baseModel"]);a!=null&&f(l,["baseModel"],a);const r=u(n,["preTunedModel"]);r!=null&&f(l,["preTunedModel"],r);const c=u(n,["trainingDataset"]);c!=null&&Xb(c,l,t);const p=u(n,["config"]);return p!=null&&kb(p,l,t),l}function Gb(n,t){const l={},a=u(n,["name"]);return a!=null&&f(l,["_url","name"],a),l}function Hb(n,t){const l={},a=u(n,["name"]);return a!=null&&f(l,["_url","name"],a),l}function Pb(n,t,l){const a={},r=u(n,["pageSize"]);t!==void 0&&r!=null&&f(t,["_query","pageSize"],r);const c=u(n,["pageToken"]);t!==void 0&&c!=null&&f(t,["_query","pageToken"],c);const p=u(n,["filter"]);return t!==void 0&&p!=null&&f(t,["_query","filter"],p),a}function qb(n,t,l){const a={},r=u(n,["pageSize"]);t!==void 0&&r!=null&&f(t,["_query","pageSize"],r);const c=u(n,["pageToken"]);t!==void 0&&c!=null&&f(t,["_query","pageToken"],c);const p=u(n,["filter"]);return t!==void 0&&p!=null&&f(t,["_query","filter"],p),a}function Vb(n,t){const l={},a=u(n,["config"]);return a!=null&&Pb(a,l),l}function Bb(n,t){const l={},a=u(n,["config"]);return a!=null&&qb(a,l),l}function Ob(n,t){const l={},a=u(n,["sdkHttpResponse"]);a!=null&&f(l,["sdkHttpResponse"],a);const r=u(n,["nextPageToken"]);r!=null&&f(l,["nextPageToken"],r);const c=u(n,["tunedModels"]);if(c!=null){let p=c;Array.isArray(p)&&(p=p.map(g=>iy(g))),f(l,["tuningJobs"],p)}return l}function Yb(n,t){const l={},a=u(n,["sdkHttpResponse"]);a!=null&&f(l,["sdkHttpResponse"],a);const r=u(n,["nextPageToken"]);r!=null&&f(l,["nextPageToken"],r);const c=u(n,["tuningJobs"]);if(c!=null){let p=c;Array.isArray(p)&&(p=p.map(g=>jc(g))),f(l,["tuningJobs"],p)}return l}function Fb(n,t){const l={},a=u(n,["name"]);a!=null&&f(l,["model"],a);const r=u(n,["name"]);return r!=null&&f(l,["endpoint"],r),l}function Jb(n,t){const l={};if(u(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const a=u(n,["examples"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>c)),f(l,["examples","examples"],r)}return l}function Xb(n,t,l){const a={};let r=u(l,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const p=u(n,["gcsUri"]);t!==void 0&&p!=null&&f(t,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(r==="PREFERENCE_TUNING"){const p=u(n,["gcsUri"]);t!==void 0&&p!=null&&f(t,["preferenceOptimizationSpec","trainingDatasetUri"],p)}let c=u(l,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const p=u(n,["vertexDatasetResource"]);t!==void 0&&p!=null&&f(t,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(c==="PREFERENCE_TUNING"){const p=u(n,["vertexDatasetResource"]);t!==void 0&&p!=null&&f(t,["preferenceOptimizationSpec","trainingDatasetUri"],p)}if(u(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return a}function iy(n,t){const l={},a=u(n,["sdkHttpResponse"]);a!=null&&f(l,["sdkHttpResponse"],a);const r=u(n,["name"]);r!=null&&f(l,["name"],r);const c=u(n,["state"]);c!=null&&f(l,["state"],H0(c));const p=u(n,["createTime"]);p!=null&&f(l,["createTime"],p);const g=u(n,["tuningTask","startTime"]);g!=null&&f(l,["startTime"],g);const y=u(n,["tuningTask","completeTime"]);y!=null&&f(l,["endTime"],y);const m=u(n,["updateTime"]);m!=null&&f(l,["updateTime"],m);const v=u(n,["description"]);v!=null&&f(l,["description"],v);const T=u(n,["baseModel"]);T!=null&&f(l,["baseModel"],T);const S=u(n,["_self"]);return S!=null&&f(l,["tunedModel"],Fb(S)),l}function jc(n,t){const l={},a=u(n,["sdkHttpResponse"]);a!=null&&f(l,["sdkHttpResponse"],a);const r=u(n,["name"]);r!=null&&f(l,["name"],r);const c=u(n,["state"]);c!=null&&f(l,["state"],H0(c));const p=u(n,["createTime"]);p!=null&&f(l,["createTime"],p);const g=u(n,["startTime"]);g!=null&&f(l,["startTime"],g);const y=u(n,["endTime"]);y!=null&&f(l,["endTime"],y);const m=u(n,["updateTime"]);m!=null&&f(l,["updateTime"],m);const v=u(n,["error"]);v!=null&&f(l,["error"],v);const T=u(n,["description"]);T!=null&&f(l,["description"],T);const S=u(n,["baseModel"]);S!=null&&f(l,["baseModel"],S);const C=u(n,["tunedModel"]);C!=null&&f(l,["tunedModel"],C);const w=u(n,["preTunedModel"]);w!=null&&f(l,["preTunedModel"],w);const L=u(n,["supervisedTuningSpec"]);L!=null&&f(l,["supervisedTuningSpec"],L);const te=u(n,["preferenceOptimizationSpec"]);te!=null&&f(l,["preferenceOptimizationSpec"],te);const z=u(n,["tuningDataStats"]);z!=null&&f(l,["tuningDataStats"],z);const ee=u(n,["encryptionSpec"]);ee!=null&&f(l,["encryptionSpec"],ee);const $=u(n,["partnerModelTuningSpec"]);$!=null&&f(l,["partnerModelTuningSpec"],$);const B=u(n,["customBaseModel"]);B!=null&&f(l,["customBaseModel"],B);const J=u(n,["experiment"]);J!=null&&f(l,["experiment"],J);const oe=u(n,["labels"]);oe!=null&&f(l,["labels"],oe);const ne=u(n,["outputUri"]);ne!=null&&f(l,["outputUri"],ne);const xe=u(n,["pipelineJob"]);xe!=null&&f(l,["pipelineJob"],xe);const re=u(n,["serviceAccount"]);re!=null&&f(l,["serviceAccount"],re);const Te=u(n,["tunedModelDisplayName"]);Te!=null&&f(l,["tunedModelDisplayName"],Te);const fe=u(n,["veoTuningSpec"]);return fe!=null&&f(l,["veoTuningSpec"],fe),l}function Kb(n,t){const l={},a=u(n,["sdkHttpResponse"]);a!=null&&f(l,["sdkHttpResponse"],a);const r=u(n,["name"]);r!=null&&f(l,["name"],r);const c=u(n,["metadata"]);c!=null&&f(l,["metadata"],c);const p=u(n,["done"]);p!=null&&f(l,["done"],p);const g=u(n,["error"]);return g!=null&&f(l,["error"],g),l}function t0(n,t){const l={},a=u(n,["gcsUri"]);a!=null&&f(l,["validationDatasetUri"],a);const r=u(n,["vertexDatasetResource"]);return r!=null&&f(l,["validationDatasetUri"],r),l}class Qb extends Mi{constructor(t){super(),this.apiClient=t,this.get=async l=>await this.getInternal(l),this.list=async(l={})=>new Al(Ni.PAGED_ITEM_TUNING_JOBS,a=>this.listInternal(a),await this.listInternal(l),l),this.tune=async l=>{var a;if(this.apiClient.isVertexAI())if(l.baseModel.startsWith("projects/")){const r={tunedModelName:l.baseModel};!((a=l.config)===null||a===void 0)&&a.preTunedModelCheckpointId&&(r.checkpointId=l.config.preTunedModelCheckpointId);const c=Object.assign(Object.assign({},l),{preTunedModel:r});return c.baseModel=void 0,await this.tuneInternal(c)}else{const r=Object.assign({},l);return await this.tuneInternal(r)}else{const r=Object.assign({},l),c=await this.tuneMldevInternal(r);let p="";return c.metadata!==void 0&&c.metadata.tunedModel!==void 0?p=c.metadata.tunedModel:c.name!==void 0&&c.name.includes("/operations/")&&(p=c.name.split("/operations/")[0]),{name:p,state:Jc.JOB_STATE_QUEUED}}}}async getInternal(t){var l,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=Hb(t);return g=he("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>jc(v))}else{const m=Gb(t);return g=he("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>iy(v))}}async listInternal(t){var l,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=Bb(t);return g=he("tuningJobs",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const T=Yb(v),S=new kg;return Object.assign(S,T),S})}else{const m=Vb(t);return g=he("tunedModels",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),p.then(v=>{const T=Ob(v),S=new kg;return Object.assign(S,T),S})}}async cancel(t){var l,a,r,c;let p="",g={};if(this.apiClient.isVertexAI()){const y=Ib(t);p=he("{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}else{const y=Db(t);p=he("{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal})}}async tuneInternal(t){var l,a;let r,c="",p={};if(this.apiClient.isVertexAI()){const g=zb(t,t);return c=he("tuningJobs",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>jc(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var l,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Lb(t);return c=he("tunedModels",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>Kb(y))}}}class $b{async download(t,l){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Zb=1024*1024*8,Wb=3,jb=1e3,eR=2,rr="x-goog-upload-status";async function tR(n,t,l){var a;const r=await ly(n,t,l),c=await r?.json();if(((a=r?.headers)===null||a===void 0?void 0:a[rr])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return c.file}async function nR(n,t,l){var a;const r=await ly(n,t,l),c=await r?.json();if(((a=r?.headers)===null||a===void 0?void 0:a[rr])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const p=I0(c),g=new pf;return Object.assign(g,p),g}async function ly(n,t,l){var a,r;let c=0,p=0,g=new Xc(new Response),y="upload";for(c=n.size;p<c;){const m=Math.min(Zb,c-p),v=n.slice(p,p+m);p+m>=c&&(y+=", finalize");let T=0,S=jb;for(;T<Wb&&(g=await l.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(p),"Content-Length":String(m)}}}),!(!((a=g?.headers)===null||a===void 0)&&a[rr]));)T++,await lR(S),S=S*eR;if(p+=m,((r=g?.headers)===null||r===void 0?void 0:r[rr])!=="active")break;if(c<=p)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return g}async function iR(n){return{size:n.size,type:n.type}}function lR(n){return new Promise(t=>setTimeout(t,n))}class oR{async upload(t,l,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await tR(t,l,a)}async uploadToFileSearchStore(t,l,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await nR(t,l,a)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await iR(t)}}class aR{create(t,l,a){return new sR(t,l,a)}}class sR{constructor(t,l,a){this.url=t,this.headers=l,this.callbacks=a}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}const n0="x-goog-api-key";class rR{constructor(t){this.apiKey=t}async addAuthHeaders(t,l){if(t.get(n0)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(n0,this.apiKey)}}}const uR="gl-node/";class cR{constructor(t){var l;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(l=t.vertexai)!==null&&l!==void 0?l:!1,this.apiKey=t.apiKey;const a=qE(t.httpOptions,t.vertexai,void 0,void 0);a&&(t.httpOptions?t.httpOptions.baseUrl=a:t.httpOptions={baseUrl:a}),this.apiVersion=t.apiVersion;const r=new rR(this.apiKey);this.apiClient=new AM({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:t.httpOptions,userAgentExtra:uR+"web",uploader:new oR,downloader:new $b}),this.models=new YM(this.apiClient),this.live=new HM(this.apiClient,r,new aR),this.batches=new hA(this.apiClient),this.chats=new $A(this.models,this.apiClient),this.caches=new XA(this.apiClient),this.files=new a1(this.apiClient),this.operations=new FM(this.apiClient),this.authTokens=new sb(this.apiClient),this.tunings=new Qb(this.apiClient),this.fileSearchStores=new wb(this.apiClient)}}var i0={};const fR="gemini-2.5-flash",dR={type:Xt.OBJECT,properties:{status:{type:Xt.STRING,enum:["safe","warning","danger"],description:"Overall safety status of the configuration."},summary:{type:Xt.STRING,description:"A brief technical summary of the circuit."},issues:{type:Xt.ARRAY,items:{type:Xt.STRING},description:"List of potential hazards, incompatibilities, or code violations."},recommendations:{type:Xt.ARRAY,items:{type:Xt.STRING},description:"List of suggested improvements or fixes."}},required:["status","summary","issues","recommendations"]},pR=async n=>{if(!i0.API_KEY)throw new Error("API Key is missing");try{const t=new cR({apiKey:i0.API_KEY}),l=`
      Analyze the following electrical single-line diagram structure (represented as a list of component trees) for an industrial or commercial setup.
      
      Note: Some fields (Amps, Voltage, Model) may be missing/optional. Infer standard values based on component type if missing, or flag as "Missing Data" if critical for safety.

      Review for:
      1. Amperage cascading logic (if data available).
      2. Voltage compatibility (if data available).
      3. Missing critical components (e.g., transformers without downstream protection).
      4. General best practices for the component types listed.
      
      Circuit Data:
      ${JSON.stringify(n,null,2)}
    `,a=await t.models.generateContent({model:fR,contents:l,config:{responseMimeType:"application/json",responseSchema:dR,systemInstruction:"You are a Senior Electrical Engineer specializing in Single Line Diagrams (SLD) and safety compliance (IEC/NEC standards). Analyze the provided JSON tree structure strictly."}});if(a.text)return JSON.parse(a.text);throw new Error("Empty response from AI")}catch(t){return console.error("Gemini Analysis Error:",t),{status:"warning",summary:"Failed to connect to AI analysis service.",issues:["Could not verify circuit safety due to network or API error."],recommendations:["Check your internet connection and API key settings."]}}},mR={en:{appName:"VoltGraph AI",projects:"Projects",pages:"Pages",addPage:"Add Page",importProject:"Import / Restore",backupAll:"Backup All Projects",backupProject:"Save Project File",restoreSuccess:"Successfully restored projects from backup.",searchPlaceholder:"Search components...",linkComponents:"Link Components",linking:"Linking...",exportLabel:"Export",exportSVG:"Export SVG",toggleOrientation:"Toggle Orientation",toggleTheme:"Toggle Theme",togglePrintMode:"Toggle Print Layout",analyze:"Analyze",active:"Active",propertiesActions:"Properties & Actions",quickTips:"Quick Tips",tip1:"Shift+Click to select multiple nodes for bulk editing.",tip2:"Ctrl+C / Ctrl+V to copy and paste subtrees.",tip3:"Del / Backspace to delete selected items.",tip4:"Esc to cancel selection or connection mode.",resetDiagram:"Reset Diagram to Default",saveStatus:{saved:"Saved",saving:"Saving...",unsaved:"Unsaved"},undo:"Undo",redo:"Redo",addFirstNode:"Add Utility Grid (Start)",addStandaloneGen:"Or Add Standalone Generator",addIndependent:"Add Independent Node",addGrid:"Add Grid",addGen:"Add Generator",addTrans:"Add Transformer",defaultDesc:{grid:"Main Supply",gen:"Standby Power",trans:"Step Down/Up",load:"Independent Load"},connectMode:{source:"Select first component (A)...",target:"Select second component (B) to link."},legend:{title:"Component Legend",meter:"Attached Meter"},mode:"Mode",componentTypes:{[ge.SYSTEM_ROOT]:"Utility Grid",[ge.TRANSFORMER]:"Transformer",[ge.METER]:"Meter",[ge.DISTRIBUTION_BOARD]:"Distribution Board",[ge.BREAKER]:"Breaker",[ge.SWITCH]:"Switch",[ge.LOAD]:"Load",[ge.GENERATOR]:"Generator"},inputPanel:{addConnection:"Add Connection",editComponent:"Edit Component",bulkEdit:"Bulk Edit",itemsSelected:"items selected",newDownstream:"New Downstream Component",editSelected:"Edit Selected Component",parent:"Parent",componentType:"Component Type",name:"Name (Optional)",componentNumber:"Component # (Optional)",model:"Model (Optional)",customColor:"Custom Color",includesMeter:"Includes Meter Connection",meterNumber:"Meter Number",includesGenerator:"Includes Generator Connection",generatorName:"Generator Name",amperage:"Amperage (A)",voltage:"Voltage (V)",kva:"kVA",description:"Description (Optional)",addToDiagram:"Add to Diagram",saveChanges:"Save Changes",applyBulk:"Apply to All Selected",close:"Close",deleteComponent:"Delete Component",confirmDelete:"Are you sure you want to delete this component and all its children?",downstreamConnections:"Downstream Connections",noConnections:"No outgoing connections.",linkStyle:"Connection Style",strokeColor:"Line Color",lineStyle:"Line Pattern",startMarker:"Start Marker",endMarker:"End Marker",patterns:{solid:"Solid",dashed:"Dashed",dotted:"Dotted"},markers:{none:"None",arrow:"Arrow",circle:"Circle",diamond:"Diamond"},groupNode:"Group / Wrap",collapse:"Collapse Children",expand:"Expand Children"},analysis:{title:"AI Circuit Analysis",analyzing:"Analyzing circuit logic with Gemini...",analyzingSub:"Checking amperage coordination, voltage drops, and code compliance.",safe:"Safe Configuration",warning:"Warning Configuration",danger:"Danger Configuration",issues:"Detected Issues",recommendations:"Recommendations",noData:"No analysis data available."},dialogs:{deleteProjectTitle:"Delete Project?",deletePageTitle:"Delete Page?",deleteNodeTitle:"Delete Component?",deletePage:"Are you sure you want to delete this page? This action cannot be undone via history immediately.",deleteProject:"Are you sure you want to delete this entire project?",deleteNode:"Are you sure you want to delete this component and all its connected children?",reset:"Reset everything to default? All unsaved changes will be lost.",detach:"Detach this component? It will be moved to the Utility Grid level.",rootMove:"System Root cannot be moved, only connected TO.",cycle:"Cannot connect a component to its own child (cycle detected).",diagramNotFound:"Diagram not found.",importError:"Failed to import file. Invalid JSON structure.",restoreSuccess:"Projects restored successfully from backup."},export:{title:"Export Options",subtitle:"Choose a format to save or share your diagram.",formats:{svg:"Vector Image (SVG)",png:"Raster Image (PNG)",json:"Project Data (JSON)",excel:"Spreadsheet (CSV)",pdf:"Document (PDF)"},desc:{svg:"Best for high-quality printing and editing in vector software.",png:"Best for sharing on social media, documents, or quick viewing.",json:"Save the raw project data to backup or import later.",excel:"Export component list and data to Excel/CSV.",pdf:"Print diagram to a PDF document."}},csvHeaders:{name:"Name",type:"Type",componentNum:"Component #",model:"Model",amps:"Amps",voltage:"Voltage",kva:"kVA",parent:"Parent",description:"Description",hasMeter:"Has Meter",meterNum:"Meter #",yes:"Yes",no:"No",na:"N/A"},about:{title:"About VoltGraph AI",version:"Version 1.0.0",description:"VoltGraph AI is an intelligent Single-Line Diagram (SLD) generator and analyzer designed for electrical engineers. It helps model electrical systems, visualize connections, and provides AI-powered safety analysis.",developedBy:"Created by",developerName:"Saleh Hamdan"},printLayout:{project:"PROJECT",date:"DATE",engineer:"ENGINEER",rev:"REV"}},he:{appName:"VoltGraph AI",projects:"",pages:"",addPage:" ",importProject:" / ",backupAll:"   ",backupProject:"  ",restoreSuccess:"   .",searchPlaceholder:" ...",linkComponents:" ",linking:"...",exportLabel:"",exportSVG:" SVG",toggleOrientation:" ",toggleTheme:"  ",togglePrintMode:" ",analyze:"",active:"",propertiesActions:" ",quickTips:" ",tip1:"Shift+Click     .",tip2:"Ctrl+C / Ctrl+V    .",tip3:"Del / Backspace   .",tip4:"Esc      .",resetDiagram:"   ",saveStatus:{saved:"",saving:"...",unsaved:" "},undo:"",redo:" ",addFirstNode:"   ()",addStandaloneGen:"   ",addIndependent:"  ",addGrid:" ",addGen:"",addTrans:"",defaultDesc:{grid:" ",gen:" ",trans:"/",load:" "},connectMode:{source:"   ()...",target:"   () ."},legend:{title:" ",meter:" "},mode:"",componentTypes:{[ge.SYSTEM_ROOT]:" ",[ge.TRANSFORMER]:"",[ge.METER]:"",[ge.DISTRIBUTION_BOARD]:" ",[ge.BREAKER]:"",[ge.SWITCH]:"",[ge.LOAD]:"/",[ge.GENERATOR]:""},inputPanel:{addConnection:" ",editComponent:" ",bulkEdit:" ",itemsSelected:" ",newDownstream:"   ",editSelected:"  ",parent:"",componentType:" ",name:" ()",componentNumber:"  ()",model:" ()",customColor:"  ",includesMeter:"  ",meterNumber:" ",includesGenerator:"  ",generatorName:" ",amperage:" (A)",voltage:" (V)",kva:"kVA",description:" ()",addToDiagram:" ",saveChanges:" ",applyBulk:"   ",close:"",deleteComponent:" ",confirmDelete:"         ?",downstreamConnections:"  ",noConnections:"  .",linkStyle:" ",strokeColor:" ",lineStyle:" ",startMarker:" ",endMarker:" ",patterns:{solid:"",dashed:"",dotted:""},markers:{none:"",arrow:"",circle:"",diamond:""},groupNode:" / ",collapse:" ",expand:" "},analysis:{title:"  ",analyzing:"    Gemini...",analyzingSub:"  ,    .",safe:" ",warning:" ",danger:" ",issues:" ",recommendations:"",noData:"   ."},dialogs:{deleteProjectTitle:" ?",deletePageTitle:" ?",deleteNodeTitle:" ?",deletePage:"      ?",deleteProject:"       ?",deleteNode:"       ?",reset:"   ?     .",detach:"  ?     .",rootMove:"     ,   .",cycle:"       (  ).",diagramNotFound:"  .",importError:"   .  JSON  .",restoreSuccess:"   ."},export:{title:" ",subtitle:"      .",formats:{svg:"  (SVG)",png:" (PNG)",json:"  (JSON)",excel:"  (CSV/Excel)",pdf:" (PDF)"},desc:{svg:"      .",png:"      .",json:"        .",excel:"    /CSV.",pdf:"    PDF."}},csvHeaders:{name:"",type:"",componentNum:" ",model:"",amps:"",voltage:"",kva:"kVA",parent:"",description:"",hasMeter:" ",meterNum:" ",yes:"",no:"",na:" "},about:{title:" VoltGraph AI",version:" 1.0.0",description:"VoltGraph AI     - (SLD)    .      ,       AI.",developedBy:"  ",developerName:" "},printLayout:{project:"",date:"",engineer:"",rev:""}},ar:{appName:"VoltGraph AI",projects:"",pages:"",addPage:" ",importProject:" / ",backupAll:"   ",backupProject:"  ",restoreSuccess:"      .",searchPlaceholder:"  ...",linkComponents:" ",linking:" ...",exportLabel:"",exportSVG:" SVG",toggleOrientation:" ",toggleTheme:" ",togglePrintMode:" ",analyze:"",active:"",propertiesActions:" ",quickTips:" ",tip1:"Shift+Click     .",tip2:"Ctrl+C / Ctrl+V   .",tip3:"Del / Backspace   .",tip4:"Esc     .",resetDiagram:"   ",saveStatus:{saved:"",saving:" ...",unsaved:" "},undo:"",redo:"",addFirstNode:"   ()",addStandaloneGen:"   ",addIndependent:"  ",addGrid:" ",addGen:"",addTrans:"",defaultDesc:{grid:" ",gen:" ",trans:"/",load:" "},connectMode:{source:"   ()...",target:"   () ."},legend:{title:" ",meter:" "},mode:"",componentTypes:{[ge.SYSTEM_ROOT]:" ",[ge.TRANSFORMER]:"",[ge.METER]:"",[ge.DISTRIBUTION_BOARD]:" ",[ge.BREAKER]:"",[ge.SWITCH]:"",[ge.LOAD]:"",[ge.GENERATOR]:""},inputPanel:{addConnection:" ",editComponent:" ",bulkEdit:" ",itemsSelected:" ",newDownstream:"  ",editSelected:"  ",parent:"",componentType:" ",name:" ()",componentNumber:"  ()",model:" ()",customColor:" ",includesMeter:"  ",meterNumber:" ",includesGenerator:"  ",generatorName:" ",amperage:" (A)",voltage:" (V)",kva:"kVA",description:" ()",addToDiagram:"  ",saveChanges:" ",applyBulk:"  ",close:"",deleteComponent:" ",confirmDelete:"         ",downstreamConnections:" ",noConnections:"   .",linkStyle:" ",strokeColor:" ",lineStyle:" ",startMarker:" ",endMarker:" ",patterns:{solid:"",dashed:"",dotted:""},markers:{none:"",arrow:"",circle:"",diamond:""},groupNode:" / ",collapse:" ",expand:" "},analysis:{title:"  ",analyzing:"     Gemini...",analyzingSub:"       .",safe:" ",warning:" ",danger:" ",issues:" ",recommendations:"",noData:"   ."},dialogs:{deleteProjectTitle:" ",deletePageTitle:" ",deleteNodeTitle:" ",deletePage:"       ",deleteProject:"        ",deleteNode:"          ",reset:"         .",detach:"        .",rootMove:"       .",cycle:"     (  ).",diagramNotFound:"  .",importError:"   .  JSON  .",restoreSuccess:"      ."},export:{title:" ",subtitle:"     .",formats:{svg:"  (SVG)",png:" (PNG)",json:"  (JSON)",excel:"  (CSV/Excel)",pdf:" (PDF)"},desc:{svg:"    .",png:"     .",json:"    .",excel:"     Excel/CSV.",pdf:"    PDF."}},csvHeaders:{name:"",type:"",componentNum:" ",model:"",amps:"",voltage:"",kva:"kVA",parent:"",description:"",hasMeter:" ",meterNum:" ",yes:"",no:"",na:" "},about:{title:" VoltGraph AI",version:" 1.0.0",description:"VoltGraph AI        (SLD)   .             .",developedBy:"  ",developerName:" "},printLayout:{project:"",date:"",engineer:"",rev:""}}},xi=n=>`${n}-${Date.now()}-${Math.random().toString(36).substring(2,9)}`,oy=(n,t)=>{if(n.id===t)return n;for(const l of n.children){const a=oy(l,t);if(a)return a}return null},on=(n,t)=>{for(const l of n){if(l.id===t)return l;const a=oy(l,t);if(a)return a}return null},ya=(n,t,l)=>n.id===t?{...n,children:[...n.children,l]}:{...n,children:n.children.map(a=>ya(a,t,l))},va=(n,t,l)=>n.id===t?{...n,...l}:{...n,children:n.children.map(a=>va(a,t,l))},ay=(n,t,l)=>{if(n.id===t){const a=n.extraConnections||[];return a.includes(l)?n:{...n,extraConnections:[...a,l]}}return{...n,children:n.children.map(a=>ay(a,t,l))}},sy=(n,t)=>{let l={...n};return l.extraConnections&&l.extraConnections.includes(t)&&(l.extraConnections=l.extraConnections.filter(a=>a!==t)),l.children=l.children.map(a=>sy(a,t)),l},ef=(n,t)=>n.children.some(a=>a.id===t)?{...n,children:n.children.filter(a=>a.id!==t)}:{...n,children:n.children.map(a=>ef(a,t))},ry=n=>{const t=xi(`${n.type}`);return{...n,id:t,children:n.children.map(l=>ry(l)),extraConnections:[]}};function hR(){const[n,t]=Ae.useState(()=>{try{const R=localStorage.getItem("voltgraph_data");let I=R?JSON.parse(R):[pa];return I=I.map(Y=>({...Y,pages:Y.pages.map(K=>K.rootNode&&!K.items?{...K,items:[K.rootNode],rootNode:void 0}:K)})),I}catch(R){return console.error("Failed to load data from local storage",R),[pa]}}),[l,a]=Ae.useState([]),[r,c]=Ae.useState([]),[p,g]=Ae.useState(n[0].id),[y,m]=Ae.useState(n[0].pages[0].id),[v,T]=Ae.useState(null),[S,C]=Ae.useState(new Set),[w,L]=Ae.useState("node"),[te,z]=Ae.useState(null),[ee,$]=Ae.useState(null),[B,J]=Ae.useState(!1),[oe,ne]=Ae.useState(!1),[xe,re]=Ae.useState(null),[Te,fe]=Ae.useState(""),[Ee,Fe]=Ae.useState("horizontal"),[k,ue]=Ae.useState(!0),[M,O]=Ae.useState(!1),[ie,pe]=Ae.useState(!1),[de,N]=Ae.useState(!1),[V,ae]=Ae.useState("en"),[j,ye]=Ae.useState("light"),[Me,be]=Ae.useState(!1),W=mR[V],Ge=V==="he"||V==="ar",wt=j==="dark",[Nt,Ri]=Ae.useState(null),[It,Kt]=Ae.useState(""),[Hn,Pn]=Ae.useState("saved"),[Qt,Ut]=Ae.useState(!1),[Bt,dt]=Ae.useState(null),[Ot,Qn]=Ae.useState({isOpen:!1,title:"",message:"",onConfirm:()=>{}}),$n=Ae.useRef(null),at=n.find(R=>R.id===p)||n[0],pt=at.pages.find(R=>R.id===y)||at.pages[0],Zn=(R,I,Y)=>{Qn({isOpen:!0,title:R,message:I,onConfirm:()=>{Y(),Qn(K=>({...K,isOpen:!1}))}})},He=Ae.useCallback(()=>{a(R=>[...R,JSON.parse(JSON.stringify(n))]),c([])},[n]),Yt=Ae.useCallback(()=>{if(l.length===0)return;const R=l[l.length-1],I=l.slice(0,-1);c(K=>[JSON.parse(JSON.stringify(n)),...K]),t(R),a(I);const Y=R.find(K=>K.id===p);!Y&&R.length>0?(g(R[0].id),m(R[0].pages[0].id)):Y&&(Y.pages.find(me=>me.id===y)||m(Y.pages[0].id))},[l,n,p,y]),Wn=Ae.useCallback(()=>{if(r.length===0)return;const R=r[0],I=r.slice(1);a(K=>[...K,JSON.parse(JSON.stringify(n))]),t(R),c(I);const Y=R.find(K=>K.id===p);!Y&&R.length>0?(g(R[0].id),m(R[0].pages[0].id)):Y&&(Y.pages.find(me=>me.id===y)||m(Y.pages[0].id))},[r,n,p,y]),nt=Ae.useCallback(R=>{t(I=>I.map(Y=>Y.id!==p?Y:{...Y,pages:Y.pages.map(K=>K.id!==y?K:R(K))}))},[p,y]),gn=Ae.useCallback(()=>{if(v){const R=on(pt.items,v.id);if(R)try{const I=JSON.parse(JSON.stringify(R));z(I)}catch(I){console.error("Copy failed:",I)}}},[v,pt.items]),wi=Ae.useCallback(()=>{if(!te)return;He();const R=ry(te);R.name=`${R.name} (Copy)`,nt(I=>{if(v){const Y=I.items.map(K=>ya(K,v.id,R));return{...I,items:Y}}else return{...I,items:[...I.items,R]}})},[te,v,He,nt]),yn=R=>{R.size!==0&&(He(),nt(I=>{let Y=I.items.filter(ce=>!R.has(ce.id));const K=ce=>({...ce,children:ce.children.filter(Ne=>!R.has(Ne.id)).map(K)});Y=Y.map(K);const me=ce=>({...ce,extraConnections:ce.extraConnections?.filter(Ne=>!R.has(Ne)),children:ce.children.map(me)});return Y=Y.map(me),{...I,items:Y}}),C(new Set),T(null),Ut(!1),dt(null))},Mt=R=>{He(),nt(I=>{let Y;return I.items.some(K=>K.id===R.id)?Y=I.items.filter(K=>K.id!==R.id):Y=I.items.map(K=>ef(K,R.id)),Y=Y.map(K=>sy(K,R.id)),{...I,items:Y}}),v?.id===R.id&&(T(null),L("node")),Ut(!1),dt(null)},Ft=Ae.useCallback(R=>{const I=R||v;I&&Zn(`${W.dialogs.deleteNodeTitle}`,`${W.dialogs.deleteNode}`,()=>Mt(I))},[v,W,nt,He]),St=()=>{if(!v||!ee)return;const R=v.id,I=ee;He(),nt(Y=>{const K=on(Y.items,R);if(K&&K.extraConnections?.includes(I)){const Ne=Ue=>Ue.id===R?{...Ue,extraConnections:Ue.extraConnections?.filter(Ie=>Ie!==I)}:{...Ue,children:Ue.children.map(Ne)};return{...Y,items:Y.items.map(Ne)}}const me=on(Y.items,R);if(!me)return Y;const ce=Y.items.map(Ne=>{const Ue=Ie=>Ie.id===I?{...Ie,children:Ie.children.filter(Pe=>Pe.id!==R)}:{...Ie,children:Ie.children.map(Ue)};return Ue(Ne)});return{...Y,items:[...ce,me]}}),T(null),$(null),L("node")},jn=(R,I)=>{const Y=on(pt.items,I);Y&&(T(Y),$(R),L("link"),C(new Set))};Ae.useEffect(()=>{const R=I=>{const Y=I.ctrlKey||I.metaKey,K=I.target;K.tagName==="INPUT"||K.tagName==="TEXTAREA"||(Y&&I.key.toLowerCase()==="z"&&(I.preventDefault(),I.shiftKey?Wn():Yt()),Y&&I.key.toLowerCase()==="y"&&(I.preventDefault(),Wn()),(I.key==="Delete"||I.key==="Backspace")&&(S.size>0?window.confirm(`${W.dialogs.deleteNode}`)&&yn(S):v&&window.confirm(`${W.dialogs.deleteNode}`)&&Mt(v)),Y&&I.key.toLowerCase()==="c"&&(I.preventDefault(),gn()),Y&&I.key.toLowerCase()==="v"&&(I.preventDefault(),wi()),I.key==="Escape"&&(I.preventDefault(),L("node"),T(null),C(new Set),Ut(!1),dt(null)))};return window.addEventListener("keydown",R),()=>window.removeEventListener("keydown",R)},[v,S,te,p,y,Yt,Wn,gn,wi,W,nt,He]),Ae.useEffect(()=>{T(null),L("node"),Ut(!1),dt(null),C(new Set)},[y,p]),Ae.useEffect(()=>{Pn("saving");const R=setTimeout(()=>{try{localStorage.setItem("voltgraph_data",JSON.stringify(n)),Pn("saved")}catch{Pn("unsaved")}},1e3);return()=>clearTimeout(R)},[n]),Ae.useEffect(()=>{document.documentElement.dir=Ge?"rtl":"ltr",document.documentElement.lang=V},[Ge,V]);const Nl=()=>"#"+Math.floor(Math.random()*16777215).toString(16).padStart(6,"0"),A=()=>{T(null),L("node"),C(new Set),Ut(!1),dt(null),be(!1)},P=(R,I)=>{if(R===I)return;let Y=R,K=I;const me=on(pt.items,Y),ce=on(pt.items,K);if(!me||!ce)return;const Ne=me.type===ge.GENERATOR||me.type===ge.SYSTEM_ROOT,Ue=ce.type===ge.GENERATOR||ce.type===ge.SYSTEM_ROOT;if(pt.items.some(Ze=>Ze.id===Y)&&Ne&&!Ue){const Ze=Y;Y=K,K=Ze}const Pe=on(pt.items,Y);if(!Pe)return;const Je=pt.items.some(Ze=>Ze.id===Y);He(),nt(Ze=>{if(Je){let Xe=[...Ze.items],We=Pe;Xe=Xe.filter(Vn=>Vn.id!==Y);const vn=on(Xe,K),ni=vn&&vn.children.length>0?vn.children[0].connectionStyle?.strokeColor:Nl(),ii={...We,connectionStyle:{...We.connectionStyle,strokeColor:ni}};return Xe=Xe.map(Vn=>ya(Vn,K,ii)),{...Ze,items:Xe}}else{if(Pe.extraConnections?.includes(K))return Ze;if(Pe.children.some(We=>We.id===K))return alert(`${W.dialogs.cycle}`),Ze;const Xe=Ze.items.map(We=>ay(We,Y,K));return{...Ze,items:Xe}}})},se=(R,I)=>{if(Qt)if(!Bt)dt(R);else{if(Bt&&R.id===Bt.id){dt(null);return}Bt&&P(Bt.id,R.id),dt(null),Ut(!1)}else I?C(Y=>{const K=new Set(Y);if(K.has(R.id)?K.delete(R.id):K.add(R.id),K.size===1){const me=Array.from(K)[0],ce=on(pt.items,me);ce&&T(ce)}else T(null);return K}):(T(R),C(new Set([R.id])),L("node"))},le=R=>{confirm(`${W.dialogs.detach}`)&&(He(),nt(I=>{const Y=on(I.items,R);if(!Y)return I;let K=I.items.map(me=>ef(me,R));return K.push(Y),{...I,items:K}}))},Se=R=>{const I=on(pt.items,R);I&&(dt(I),Ut(!0))},De=R=>{const I=on(pt.items,R);I&&(T(I),C(new Set([I.id])),L("node"))},Re=R=>{He(),be(!1);let I=W.componentTypes[R],Y="Independent Node";switch(R){case ge.SYSTEM_ROOT:Y=W.defaultDesc.grid;break;case ge.GENERATOR:Y=W.defaultDesc.gen;break;case ge.TRANSFORMER:Y=W.defaultDesc.trans;break;case ge.LOAD:Y=W.defaultDesc.load;break}const K={id:xi(`${R}`.toLowerCase()),name:I,type:R,description:Y,children:[],extraConnections:[],isCollapsed:!1,connectionStyle:$s,manualX:0,manualY:0};nt(me=>({...me,items:[...me.items,K]}))},rt=R=>{v&&(He(),nt(I=>{const Y=on(I.items,v.id)||v;let K=Nl();if(Y.children&&Y.children.length>0){const Ne=Y.children[0].connectionStyle;Ne&&Ne.strokeColor&&(K=Ne.strokeColor)}const me={id:xi(`${R.type}`),name:R.name||R.type,type:R.type,componentNumber:R.componentNumber,model:R.model,amps:R.amps,voltage:R.voltage,kva:R.kva,description:R.description,customColor:R.customColor,hasMeter:R.hasMeter,meterNumber:R.meterNumber,hasGeneratorConnection:R.hasGeneratorConnection,generatorName:R.generatorName,children:[],extraConnections:[],connectionStyle:{...$s,strokeColor:K},isCollapsed:!1},ce=I.items.map(Ne=>ya(Ne,v.id,me));return{...I,items:ce}}))},ht=R=>{He();let I=Nl();const Y=(me,ce)=>{if(me.children.some(Ne=>Ne.id===ce))return me;for(const Ne of me.children){const Ue=Y(Ne,ce);if(Ue)return Ue}return null};let K=null;for(const me of pt.items)if(K=Y(me,R.id),K)break;if(K&&K.children.length>0){const me=K.children[0].connectionStyle;me?.strokeColor&&(I=me.strokeColor)}nt(me=>{const ce={...R,id:xi(`${R.type}`),name:`${R.name} Copy`,children:[],extraConnections:[],connectionStyle:{...$s,strokeColor:I},isCollapsed:!1},Ne=me.items.map(Ue=>ya(Ue,R.id,ce));return{...me,items:Ne}})},gt=R=>{v&&(He(),nt(I=>{const Y=I.items.map(me=>va(me,v.id,{name:R.name||v.name,componentNumber:R.componentNumber,type:R.type,model:R.model,amps:R.amps,voltage:R.voltage,kva:R.kva,description:R.description,customColor:R.customColor,hasMeter:R.hasMeter,meterNumber:R.meterNumber,hasGeneratorConnection:R.hasGeneratorConnection,generatorName:R.generatorName})),K=on(Y,v.id);return K&&T(K),{...I,items:Y}}))},$t=R=>{He(),nt(I=>{let Y=I.items;return S.forEach(K=>{Y=Y.map(me=>va(me,K,R))}),{...I,items:Y}})},Rn=R=>{v&&(He(),nt(I=>{const Y=I.items.map(K=>va(K,v.id,{connectionStyle:R}));return{...I,items:Y}}))},sn=R=>{const I=new Map(R.map(Y=>[Y.id,Y]));nt(Y=>{const K=me=>{const ce=I.get(me.id);let Ne=me;return ce&&(Ne={...me,manualX:ce.x,manualY:ce.y}),{...Ne,children:Ne.children.map(K)}};return{...Y,items:Y.items.map(K)}})},To=R=>{He(),nt(I=>{const Y=I.items.map(K=>va(K,R.id,{isCollapsed:!R.isCollapsed}));return{...I,items:Y}})},Ml=R=>{R.type!==ge.SYSTEM_ROOT&&(He(),nt(I=>{const K={id:`GROUP-${Date.now()}`,name:"New Group",type:ge.DISTRIBUTION_BOARD,description:"Grouped Components",children:[R],extraConnections:[],connectionStyle:R.connectionStyle,isCollapsed:!1},me=(Ne,Ue,Ie)=>Ne.children.some(Pe=>Pe.id===Ue)?{...Ne,children:Ne.children.map(Pe=>Pe.id===Ue?Ie:Pe)}:{...Ne,children:Ne.children.map(Pe=>me(Pe,Ue,Ie))},ce=I.items.map(Ne=>me(Ne,R.id,K));return{...I,items:ce}}))},Zt=async()=>{if(pt.items.length===0){alert(`${W.dialogs.diagramNotFound}`);return}ne(!0),J(!0),re(null);try{const R=await pR(pt.items);re(R)}catch(R){console.error(R)}finally{J(!1)}},ei=()=>{const R=document.getElementById("diagram-svg");if(!R)return null;const I=R.cloneNode(!0);I.querySelectorAll("circle[stroke-dasharray], rect[stroke-dasharray]").forEach(Ue=>Ue.parentElement?.remove());const K=R.querySelector("g"),me=I.querySelector("g");if(K&&me){const Ue=K.getBBox(),Ie=50,Pe=Ue.width+Ie*2,Je=Ue.height+Ie*2;I.setAttribute("width",Pe.toString()),I.setAttribute("height",Je.toString()),I.setAttribute("viewBox",`0 0 ${Pe} ${Je}`),I.style.backgroundColor="#ffffff",me.setAttribute("transform",`translate(${-Ue.x+Ie}, ${-Ue.y+Ie})`),I.setAttribute("direction",Ge?"rtl":"ltr")}let Ne=new XMLSerializer().serializeToString(I);return Ne.match(/^<svg[^>]+xmlns="http\:\/\/www\.w3\.org\/2000\/svg"/)||(Ne=Ne.replace(/^<svg/,'<svg xmlns="http://www.w3.org/2000/svg"')),Ne},ti=(R,I)=>{const Y=document.createElement("a");Y.href=R,Y.download=I,document.body.appendChild(Y),Y.click(),document.body.removeChild(Y)},ba=()=>{const R="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(n,null,2)),I=new Date().toISOString().slice(0,10);ti(R,`VoltGraph_FullBackup_${I}.json`)},qn=R=>{const I=R.name.trim().replace(/[^\w\u0590-\u05FF\u0600-\u06FF\s-]/g,"_"),Y="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(R,null,2));ti(Y,`${I}_ProjectBackup.json`)},bt=R=>{const I=at.name.trim().replace(/[^\w\u0590-\u05FF\u0600-\u06FF\s-]/g,"_"),Y=pt.name.trim().replace(/[^\w\u0590-\u05FF\u0600-\u06FF\s-]/g,"_"),K=`${I} - ${Y}`;if(R==="json"){const ce="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(at,null,2));ti(ce,`${K}.json`),O(!1);return}if(R==="excel"){const ce=[],Ne=["name","type","componentNum","model","amps","voltage","kva","parent","description","hasMeter","meterNum"],Ue=(Ie,Pe)=>{const Je={};Je[W.csvHeaders.name]=Ie.name,Je[W.csvHeaders.type]=W.componentTypes[Ie.type]||Ie.type,Je[W.csvHeaders.componentNum]=Ie.componentNumber||"",Je[W.csvHeaders.model]=Ie.model||"",Je[W.csvHeaders.amps]=Ie.amps||"",Je[W.csvHeaders.voltage]=Ie.voltage||"",Je[W.csvHeaders.kva]=Ie.kva||"",Je[W.csvHeaders.parent]=Pe,Je[W.csvHeaders.description]=Ie.description||"",Je[W.csvHeaders.hasMeter]=Ie.hasMeter?W.csvHeaders.yes:W.csvHeaders.no,Je[W.csvHeaders.meterNum]=Ie.meterNumber||"",ce.push(Je),Ie.children.forEach(Ze=>Ue(Ze,Ie.name))};if(pt.items.forEach(Ie=>Ue(Ie,W.csvHeaders.na)),ce.length>0){const Ie={name:W.csvHeaders.name,type:W.csvHeaders.type,componentNum:W.csvHeaders.componentNum,model:W.csvHeaders.model,amps:W.csvHeaders.amps,voltage:W.csvHeaders.voltage,kva:W.csvHeaders.kva,parent:W.csvHeaders.parent,description:W.csvHeaders.description,hasMeter:W.csvHeaders.hasMeter,meterNum:W.csvHeaders.meterNum},Pe=Ne.map(We=>Ie[We]),Je=[Pe.join(","),...ce.map(We=>Pe.map(vn=>`"${String(We[vn]||"").replace(/"/g,'""')}"`).join(","))].join(`
`),Ze=new Blob(["\uFEFF"+Je],{type:"text/csv;charset=utf-8;"}),Xe=URL.createObjectURL(Ze);ti(Xe,`${K}.csv`)}O(!1);return}const me=ei();if(me){if(R==="pdf"){const ce=document.createElement("canvas"),Ie=new DOMParser().parseFromString(me,"image/svg+xml").documentElement,Pe=parseFloat(Ie.getAttribute("width")||"800"),Je=parseFloat(Ie.getAttribute("height")||"600"),Ze=3;ce.width=Pe*Ze,ce.height=Je*Ze;const Xe=ce.getContext("2d");if(!Xe)return;Xe.scale(Ze,Ze);const We=new Image,vn=new Blob([me],{type:"image/svg+xml;charset=utf-8"}),ni=URL.createObjectURL(vn);We.onload=()=>{Xe.fillStyle="#ffffff",Xe.fillRect(0,0,Pe,Je),Xe.drawImage(We,0,0,Pe,Je);const ii=ce.toDataURL("image/png"),Vn=window.open("","_blank");Vn&&(Vn.document.write(`
                      <html dir="${Ge?"rtl":"ltr"}" lang="${V}">
                          <head><title>${K}</title><style>body{margin:0;display:flex;justify-content:center;}img{max-width:100%;}</style></head>
                          <body><img src="${ii}" onload="setTimeout(() => { window.print(); window.close(); }, 500);" /></body>
                      </html>
                  `),Vn.document.close()),URL.revokeObjectURL(ni)},We.src=ni,O(!1);return}if(R==="svg"){const ce="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(me);ti(ce,`${K}.svg`)}else if(R==="png"){const ce=document.createElement("canvas"),Ie=new DOMParser().parseFromString(me,"image/svg+xml").documentElement,Pe=parseFloat(Ie.getAttribute("width")||"800"),Je=parseFloat(Ie.getAttribute("height")||"600"),Ze=2;ce.width=Pe*Ze,ce.height=Je*Ze;const Xe=ce.getContext("2d");if(!Xe)return;Xe.scale(Ze,Ze);const We=new Image,vn=new Blob([me],{type:"image/svg+xml;charset=utf-8"}),ni=URL.createObjectURL(vn);We.onload=()=>{Xe.fillStyle="#ffffff",Xe.fillRect(0,0,Pe,Je),Xe.drawImage(We,0,0,Pe,Je),URL.revokeObjectURL(ni);const ii=ce.toDataURL("image/png");ti(ii,`${K}.png`)},We.src=ni}O(!1)}},Ht=R=>{const I=R.target.files?.[0];if(!I)return;const Y=new FileReader;Y.onload=K=>{try{const me=K.target.result;if(typeof me!="string")return;let ce=JSON.parse(me);if(Array.isArray(ce)){He();const Ne=ce.map(Ue=>{if(!Ue.pages)return null;const Ie=Ue.pages.map(Pe=>Pe.rootNode&&!Pe.items?{...Pe,items:[Pe.rootNode],rootNode:void 0}:Pe);return{...Ue,id:xi("proj"),pages:Ie}}).filter(Boolean);Ne.length>0?(t(Ue=>[...Ue,...Ne]),alert(`${W.dialogs.restoreSuccess}`)):alert(`${W.dialogs.importError}`)}else ce.pages&&ce.pages[0].rootNode&&!ce.pages[0].items&&(ce={...ce,pages:ce.pages.map(Ne=>({...Ne,items:[Ne.rootNode],rootNode:void 0}))}),ce.id&&ce.pages?(He(),n.some(Ue=>Ue.id===ce.id)&&(ce={...ce,id:xi("proj")}),t(Ue=>[...Ue,ce]),g(ce.id),m(ce.pages[0].id)):alert(`${W.dialogs.importError}`)}catch{alert(`${W.dialogs.importError}`)}$n.current&&($n.current.value="")},Y.readAsText(I)},Di=()=>{He();const R={id:xi("proj"),name:`${W.projects} ${n.length+1}`,pages:[{id:xi("page"),name:"Page 1",items:[]}]};t([...n,R]),g(R.id),m(R.pages[0].id)},So=()=>{He();const R={id:xi("page"),name:`${W.pages} ${at.pages.length+1}`,items:[]};t(I=>I.map(Y=>Y.id===p?{...Y,pages:[...Y.pages,R]}:Y)),m(R.id)},yr=(R,I)=>{const Y=n.find(me=>me.id===R);if(!Y||Y.pages.length<=1){alert("Cannot delete last page.");return}He();const K=Y.pages.filter(me=>me.id!==I);t(me=>me.map(ce=>ce.id===R?{...ce,pages:K}:ce)),y===I&&m(K[0].id)},vr=(R,I)=>{Zn(`${W.dialogs.deletePageTitle}`,`${W.dialogs.deletePage}`,()=>yr(R,I))},Ra=R=>{if(n.length<=1)return;He();const I=n.filter(Y=>Y.id!==R);t(I),p===R&&(g(I[0].id),m(I[0].pages[0].id))},ll=R=>{Zn(`${W.dialogs.deleteProjectTitle}`,`${W.dialogs.deleteProject}`,()=>Ra(R))},bl=(R,I)=>{Ri(R),Kt(I)},wn=()=>{if(!Nt)return;const R=n.findIndex(I=>I.id===Nt);R!==-1?n[R].name!==It&&(He(),t(I=>I.map((Y,K)=>K===R?{...Y,name:It}:Y))):at.pages.some(I=>I.id===Nt)&&(He(),t(I=>I.map(Y=>Y.id!==p?Y:{...Y,pages:Y.pages.map(K=>K.id===Nt?{...K,name:It}:K)}))),Ri(null),Kt("")},Ii=()=>{confirm(`${W.dialogs.reset}`)&&(He(),t([pa]),g(pa.id),m(pa.pages[0].id),T(null),Ut(!1))},ol=Ae.useMemo(()=>{if(!Te.trim())return null;const R=new Set,I=Te.toLowerCase(),Y=K=>{(K.name&&K.name.toLowerCase().includes(I)||K.model&&K.model.toLowerCase().includes(I)||K.componentNumber&&K.componentNumber.toLowerCase().includes(I)||K.meterNumber&&K.meterNumber.toLowerCase().includes(I)||K.type.toLowerCase().includes(I))&&R.add(K.id),K.children.forEach(Y)};return pt.items.forEach(Y),R},[pt.items,Te]);return x.jsxs("div",{className:`min-h-screen flex flex-col font-sans ${wt?"text-slate-200 bg-slate-900":"text-slate-800 bg-slate-50"} ${Ge?"rtl":"ltr"}`,dir:Ge?"rtl":"ltr",children:[x.jsxs("nav",{className:"bg-slate-900 border-b border-slate-800 px-6 py-3 flex items-center justify-between sticky top-0 z-40 shadow-md",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("button",{onClick:()=>ue(!k),className:"p-2 hover:bg-slate-800 rounded text-slate-400 hover:text-white transition-colors",children:x.jsx("span",{className:"material-icons-round",children:"menu"})}),x.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded flex items-center justify-center shadow-lg",children:x.jsx("span",{className:"material-icons-round text-white text-lg",children:"electrical_services"})}),x.jsxs("div",{className:"flex flex-col",children:[x.jsx("h1",{className:"text-xl font-bold text-white tracking-tight hidden sm:block leading-none",children:W.appName}),x.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[x.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${Hn==="saved"?"bg-green-500":Hn==="saving"?"bg-yellow-500 animate-pulse":"bg-red-500"}`}),x.jsx("span",{className:"text-[10px] text-slate-500 font-medium uppercase tracking-wider",children:W.saveStatus[Hn]})]})]})]}),x.jsxs("div",{className:"flex-1 max-w-md mx-6 relative",children:[x.jsx("span",{className:`absolute top-1/2 -translate-y-1/2 material-icons-round text-slate-500 ${Ge?"right-3":"left-3"}`,children:"search"}),x.jsx("input",{type:"text",placeholder:W.searchPlaceholder,value:Te,onChange:R=>fe(R.target.value),className:`w-full bg-slate-800 border border-slate-700 rounded-full py-2 text-sm text-white focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-all placeholder-slate-500 ${Ge?"pr-10 pl-4":"pl-10 pr-4"}`})]}),x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsxs("div",{className:"relative",children:[x.jsxs("button",{onClick:()=>be(!Me),className:"p-2 text-slate-400 hover:text-white bg-slate-800 hover:bg-slate-700 rounded-lg border border-slate-700 flex items-center gap-2",title:W.addIndependent,children:[x.jsx("span",{className:"material-icons-round text-green-400",children:"add_circle_outline"}),x.jsx("span",{className:"text-xs font-medium hidden md:block",children:W.addIndependent}),x.jsx("span",{className:"material-icons-round text-sm",children:"expand_more"})]}),Me&&x.jsxs("div",{className:`absolute top-full mt-2 w-48 bg-slate-800 border border-slate-700 rounded-lg shadow-xl z-50 overflow-hidden animate-fadeIn ${Ge?"left-0":"right-0"}`,children:[x.jsxs("button",{onClick:()=>Re(ge.SYSTEM_ROOT),className:"w-full text-left px-4 py-3 text-sm text-slate-300 hover:bg-slate-700 hover:text-white flex items-center gap-2",children:[x.jsx("span",{className:"material-icons-round text-slate-400",children:"domain"}),W.addGrid]}),x.jsxs("button",{onClick:()=>Re(ge.GENERATOR),className:"w-full text-left px-4 py-3 text-sm text-slate-300 hover:bg-slate-700 hover:text-white flex items-center gap-2",children:[x.jsx("span",{className:"material-icons-round text-red-400",children:"settings_power"}),W.addGen]}),x.jsxs("button",{onClick:()=>Re(ge.TRANSFORMER),className:"w-full text-left px-4 py-3 text-sm text-slate-300 hover:bg-slate-700 hover:text-white flex items-center gap-2",children:[x.jsx("span",{className:"material-icons-round text-yellow-400",children:"electric_bolt"}),W.addTrans]})]})]}),x.jsxs("div",{className:"flex bg-slate-800 rounded-lg border border-slate-700 overflow-hidden mr-2",children:[x.jsx("button",{onClick:Yt,disabled:l.length===0,className:"px-3 py-2 text-slate-400 hover:text-white hover:bg-slate-700 disabled:opacity-30",children:x.jsx("span",{className:"material-icons-round text-sm",children:"undo"})}),x.jsx("div",{className:"w-px bg-slate-700"}),x.jsx("button",{onClick:Wn,disabled:r.length===0,className:"px-3 py-2 text-slate-400 hover:text-white hover:bg-slate-700 disabled:opacity-30",children:x.jsx("span",{className:"material-icons-round text-sm",children:"redo"})})]}),x.jsx("div",{className:"flex bg-slate-800 rounded-lg border border-slate-700 overflow-hidden",children:["en","he","ar"].map(R=>x.jsx("button",{onClick:()=>ae(R),className:`px-2 py-1 text-xs font-medium ${V===R?"bg-blue-600 text-white":"text-slate-400 hover:bg-slate-700"}`,children:R.toUpperCase()},R))}),x.jsx("button",{onClick:()=>pe(!0),className:"p-2 text-slate-400 hover:text-white bg-slate-800 hover:bg-slate-700 rounded-lg border border-slate-700",title:"About",children:x.jsx("span",{className:"material-icons-round",children:"info"})}),x.jsx("button",{onClick:()=>N(!de),className:`p-2 text-slate-400 hover:text-white rounded-lg border border-slate-700 ${de?"bg-blue-600 text-white":"bg-slate-800 hover:bg-slate-700"}`,title:W.togglePrintMode,children:x.jsx("span",{className:"material-icons-round",children:"picture_as_pdf"})}),x.jsx("button",{onClick:()=>ye(R=>R==="light"?"dark":"light"),className:"p-2 text-slate-400 hover:text-white bg-slate-800 hover:bg-slate-700 rounded-lg border border-slate-700",children:x.jsx("span",{className:"material-icons-round",children:j==="light"?"dark_mode":"light_mode"})}),x.jsxs("button",{onClick:()=>{Ut(!Qt),dt(null),Qt||T(null)},className:`p-2 rounded-lg transition-colors flex items-center gap-2 border ${Qt?"bg-amber-600 text-white border-amber-500 shadow-lg":"text-slate-400 hover:text-white bg-slate-800 hover:bg-slate-700 border-slate-700"}`,title:W.linkComponents,children:[x.jsx("span",{className:"material-icons-round",children:"link"}),Qt&&x.jsx("span",{className:"text-xs font-bold px-1",children:W.linking})]}),x.jsx("button",{onClick:()=>Fe(R=>R==="horizontal"?"vertical":"horizontal"),className:"p-2 text-slate-400 hover:text-white bg-slate-800 hover:bg-slate-700 rounded-lg border border-slate-700",children:x.jsx("span",{className:"material-icons-round transform transition-transform duration-300",style:{rotate:Ee==="vertical"?"90deg":"0deg"},children:"schema"})}),x.jsx("button",{onClick:()=>O(!0),className:"p-2 text-slate-400 hover:text-white bg-slate-800 hover:bg-slate-700 rounded-lg border border-slate-700",children:x.jsx("span",{className:"material-icons-round",children:"save_alt"})}),x.jsxs("button",{onClick:Zt,className:"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-500 hover:to-blue-500 text-white px-4 py-2 rounded-lg font-medium shadow-lg transition-all flex items-center gap-2 text-sm",children:[x.jsx("span",{className:"material-icons-round text-lg",children:"auto_awesome"}),W.analyze]})]})]}),x.jsxs("main",{className:"flex-1 flex overflow-hidden relative",children:[k&&x.jsxs("aside",{className:"w-64 bg-slate-900 border-r border-slate-800 flex flex-col",children:[x.jsxs("div",{className:"p-4 border-b border-slate-800 flex items-center justify-between",children:[x.jsx("h2",{className:"font-bold text-slate-300 text-sm uppercase tracking-wider",children:W.projects}),x.jsxs("div",{className:"flex gap-1",children:[x.jsx("input",{type:"file",ref:$n,onChange:Ht,accept:".json",className:"hidden"}),x.jsx("button",{onClick:ba,className:"text-slate-400 hover:text-green-400 p-1 hover:bg-slate-800 rounded",title:W.backupAll,children:x.jsx("span",{className:"material-icons-round text-lg",children:"archive"})}),x.jsx("button",{onClick:()=>$n.current?.click(),className:"text-slate-400 hover:text-white p-1 hover:bg-slate-800 rounded",title:W.importProject,children:x.jsx("span",{className:"material-icons-round text-lg",children:"upload_file"})}),x.jsx("button",{onClick:Di,className:"text-blue-400 hover:text-blue-300 p-1 hover:bg-slate-800 rounded",title:"Add Project",children:x.jsx("span",{className:"material-icons-round text-lg",children:"add_box"})})]})]}),x.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-4",children:n.map(R=>x.jsxs("div",{className:"space-y-1",children:[x.jsxs("div",{className:`px-3 py-2 rounded flex items-center justify-between group ${p===R.id?"bg-slate-800 text-white":"text-slate-400 hover:bg-slate-800/50"}`,onClick:()=>{g(R.id),m(R.pages[0].id)},children:[x.jsxs("div",{className:"flex items-center gap-2 flex-1 overflow-hidden",children:[x.jsx("span",{className:"material-icons-round text-sm shrink-0",children:"folder"}),Nt===R.id?x.jsx("input",{type:"text",value:It,onChange:I=>Kt(I.target.value),onBlur:wn,onKeyDown:I=>I.key==="Enter"&&wn(),autoFocus:!0,className:"w-full bg-slate-700 border border-slate-600 rounded px-1 py-0.5 text-xs text-white",onClick:I=>I.stopPropagation()}):x.jsx("span",{className:"font-medium text-sm truncate",children:R.name})]}),x.jsxs("div",{className:"flex items-center gap-1",children:[Nt!==R.id&&x.jsx("button",{onClick:I=>{I.stopPropagation(),qn(R)},className:"text-slate-600 hover:text-green-400",title:W.backupProject,children:x.jsx("span",{className:"material-icons-round text-sm",children:"save_alt"})}),Nt!==R.id&&x.jsx("button",{onClick:I=>{I.stopPropagation(),bl(R.id,R.name)},className:"text-slate-600 hover:text-blue-400",children:x.jsx("span",{className:"material-icons-round text-sm",children:"edit"})}),n.length>1&&Nt!==R.id&&x.jsx("button",{onClick:I=>{I.stopPropagation(),ll(R.id)},className:"text-slate-600 hover:text-red-400",children:x.jsx("span",{className:"material-icons-round text-sm",children:"delete"})})]})]}),p===R.id&&x.jsxs("div",{className:`space-y-1 border-slate-800 mx-2 ${Ge?"border-r-2 pr-4":"border-l-2 pl-4"}`,children:[R.pages.map(I=>x.jsxs("div",{className:`px-3 py-1.5 rounded cursor-pointer flex items-center justify-between group ${y===I.id?"bg-blue-600/20 text-blue-400":"text-slate-500 hover:text-slate-300"}`,onClick:()=>m(I.id),children:[x.jsxs("div",{className:"flex items-center gap-2 flex-1 overflow-hidden",children:[x.jsx("span",{className:"material-icons-round text-xs shrink-0",children:"description"}),Nt===I.id?x.jsx("input",{type:"text",value:It,onChange:Y=>Kt(Y.target.value),onBlur:wn,onKeyDown:Y=>Y.key==="Enter"&&wn(),autoFocus:!0,className:"w-full bg-slate-700 border border-slate-600 rounded px-1 py-0.5 text-xs text-white",onClick:Y=>Y.stopPropagation()}):x.jsx("span",{className:"text-xs truncate",children:I.name})]}),x.jsxs("div",{className:"flex items-center gap-1",children:[Nt!==I.id&&x.jsx("button",{onClick:Y=>{Y.stopPropagation(),bl(I.id,I.name)},className:"text-slate-600 hover:text-blue-400",children:x.jsx("span",{className:"material-icons-round text-[10px]",children:"edit"})}),R.pages.length>1&&Nt!==I.id&&x.jsx("button",{onClick:Y=>{Y.stopPropagation(),vr(R.id,I.id)},className:"text-slate-600 hover:text-red-400",children:x.jsx("span",{className:"material-icons-round text-[10px]",children:"close"})})]})]},I.id)),x.jsxs("button",{onClick:So,className:`px-3 py-1.5 w-full text-xs text-slate-600 hover:text-blue-400 flex items-center gap-2 ${Ge?"text-right":"text-left"}`,children:[x.jsx("span",{className:"material-icons-round text-sm",children:"add"}),W.addPage]})]})]},R.id))})]}),x.jsxs("div",{className:"flex-1 relative p-4 flex flex-col bg-slate-950/50 overflow-hidden",children:[x.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs("span",{className:"text-xs text-slate-500",children:[W.active,":"]}),x.jsxs("span",{className:"text-sm font-medium text-slate-200",children:[at.name," / ",pt.name]})]}),Qt&&x.jsx("div",{className:"bg-amber-900/40 border border-amber-700/50 px-3 py-1 rounded text-xs text-amber-300 animate-pulse font-bold",children:Bt?W.connectMode.target:W.connectMode.source})]}),x.jsx("div",{className:`flex-1 rounded-xl border shadow-xl relative overflow-hidden ${Qt?"border-amber-600/50 shadow-amber-900/20":"border-slate-800"} ${j==="light"?"bg-white":"bg-slate-900"}`,children:x.jsx(DE,{data:pt.items,onNodeClick:se,onLinkClick:jn,onDuplicateChild:ht,onDeleteNode:Ft,onToggleCollapse:To,onGroupNode:Ml,onNodeMove:sn,onAddRoot:()=>Re(ge.SYSTEM_ROOT),onAddGenerator:()=>Re(ge.GENERATOR),onBackgroundClick:A,selectedNodeId:v?.id||null,multiSelection:S,selectedLinkId:w==="link"&&v?.id||null,orientation:Ee,searchMatches:ol,isConnectMode:Qt,connectionSourceId:Bt?.id||null,isPrintMode:de,activeProject:at,onDisconnectLink:St,t:W,language:V,theme:j})})]}),x.jsxs("aside",{className:"w-96 bg-slate-900 border-l border-slate-800 overflow-y-auto flex flex-col z-30 shadow-2xl",children:[x.jsx("div",{className:"p-4 border-b border-slate-800 bg-slate-800/30",children:x.jsxs("h2",{className:"font-bold text-slate-200 flex items-center gap-2",children:[x.jsx("span",{className:"material-icons-round text-blue-400",children:"tune"}),W.propertiesActions]})}),x.jsx("div",{className:"p-4 flex-1 overflow-y-auto",children:x.jsx(IE,{selectedNode:v,selectionMode:w,multiSelectionCount:S.size,onAdd:rt,onAddIndependent:Re,onEdit:gt,onBulkEdit:$t,onEditConnection:Rn,onDelete:()=>{S.size>0?confirm(`${W.dialogs.deleteNode}`)&&yn(S):v&&Ft(v)},onCancel:()=>{T(null),C(new Set),L("node")},onDetach:le,onStartConnection:Se,onNavigate:De,onDisconnectLink:St,t:W})}),x.jsx("div",{className:"p-4 border-t border-slate-800 text-center",children:x.jsx("button",{onClick:Ii,className:"text-xs text-red-400 hover:text-red-300 hover:underline transition-colors",children:W.resetDiagram})})]})]}),x.jsx(UE,{isOpen:oe,onClose:()=>ne(!1),loading:B,result:xe,t:W}),x.jsx(kE,{isOpen:Ot.isOpen,title:Ot.title,message:Ot.message,onConfirm:Ot.onConfirm,onCancel:()=>Qn(R=>({...R,isOpen:!1})),t:W}),x.jsx(LE,{isOpen:M,onClose:()=>O(!1),onExport:bt,t:W}),x.jsx(zE,{isOpen:ie,onClose:()=>pe(!1),t:W})]})}const uy=document.getElementById("root");if(!uy)throw new Error("Could not find root element to mount to");const gR=M_.createRoot(uy);gR.render(x.jsx(__.StrictMode,{children:x.jsx(hR,{})}));
